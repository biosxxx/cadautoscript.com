(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();var hS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ou={exports:{}},Us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function zx(){if(Xy)return Us;Xy=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(i,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:n,type:i,key:f,ref:o!==void 0?o:null,props:u}}return Us.Fragment=s,Us.jsx=r,Us.jsxs=r,Us}var Gy;function _x(){return Gy||(Gy=1,ou.exports=zx()),ou.exports}var g=_x(),uu={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function wx(){if(Py)return ue;Py=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function R(D,Y,K){this.props=D,this.context=Y,this.refs=N,this.updater=K||T}R.prototype.isReactComponent={},R.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},R.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function z(){}z.prototype=R.prototype;function C(D,Y,K){this.props=D,this.context=Y,this.refs=N,this.updater=K||T}var H=C.prototype=new z;H.constructor=C,E(H,R.prototype),H.isPureReactComponent=!0;var P=Array.isArray;function X(){}var Q={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function F(D,Y,K){var W=K.ref;return{$$typeof:n,type:D,key:Y,ref:W!==void 0?W:null,props:K}}function pe(D,Y){return F(D.type,Y,D.props)}function ve(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function oe(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(K){return Y[K]})}var Ve=/\/+/g;function Je(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?oe(""+D.key):Y.toString(36)}function at(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(X,X):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function _(D,Y,K,W,le){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var me=!1;if(D===null)me=!0;else switch(ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(D.$$typeof){case n:case s:me=!0;break;case x:return me=D._init,_(me(D._payload),Y,K,W,le)}}if(me)return le=le(D),me=W===""?"."+Je(D,0):W,P(le)?(K="",me!=null&&(K=me.replace(Ve,"$&/")+"/"),_(le,Y,K,"",function(Xn){return Xn})):le!=null&&(ve(le)&&(le=pe(le,K+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(Ve,"$&/")+"/")+me)),Y.push(le)),1;me=0;var lt=W===""?".":W+":";if(P(D))for(var je=0;je<D.length;je++)W=D[je],ce=lt+Je(W,je),me+=_(W,Y,K,ce,le);else if(je=M(D),typeof je=="function")for(D=je.call(D),je=0;!(W=D.next()).done;)W=W.value,ce=lt+Je(W,je++),me+=_(W,Y,K,ce,le);else if(ce==="object"){if(typeof D.then=="function")return _(at(D),Y,K,W,le);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return me}function Z(D,Y,K){if(D==null)return D;var W=[],le=0;return _(D,W,"","",function(ce){return Y.call(K,ce,le++)}),W}function ee(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(K){(D._status===0||D._status===-1)&&(D._status=1,D._result=K)},function(K){(D._status===0||D._status===-1)&&(D._status=2,D._result=K)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var Te=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ce={map:Z,forEach:function(D,Y,K){Z(D,function(){Y.apply(this,arguments)},K)},count:function(D){var Y=0;return Z(D,function(){Y++}),Y},toArray:function(D){return Z(D,function(Y){return Y})||[]},only:function(D){if(!ve(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return ue.Activity=v,ue.Children=Ce,ue.Component=R,ue.Fragment=r,ue.Profiler=o,ue.PureComponent=C,ue.StrictMode=i,ue.Suspense=h,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ue.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Q.H.useMemoCache(D)}},ue.cache=function(D){return function(){return D.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(D,Y,K){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=E({},D.props),le=D.key;if(Y!=null)for(ce in Y.key!==void 0&&(le=""+Y.key),Y)!ie.call(Y,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&Y.ref===void 0||(W[ce]=Y[ce]);var ce=arguments.length-2;if(ce===1)W.children=K;else if(1<ce){for(var me=Array(ce),lt=0;lt<ce;lt++)me[lt]=arguments[lt+2];W.children=me}return F(D.type,le,W)},ue.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},ue.createElement=function(D,Y,K){var W,le={},ce=null;if(Y!=null)for(W in Y.key!==void 0&&(ce=""+Y.key),Y)ie.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=Y[W]);var me=arguments.length-2;if(me===1)le.children=K;else if(1<me){for(var lt=Array(me),je=0;je<me;je++)lt[je]=arguments[je+2];le.children=lt}if(D&&D.defaultProps)for(W in me=D.defaultProps,me)le[W]===void 0&&(le[W]=me[W]);return F(D,ce,le)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(D){return{$$typeof:y,render:D}},ue.isValidElement=ve,ue.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:ee}},ue.memo=function(D,Y){return{$$typeof:m,type:D,compare:Y===void 0?null:Y}},ue.startTransition=function(D){var Y=Q.T,K={};Q.T=K;try{var W=D(),le=Q.S;le!==null&&le(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(X,Te)}catch(ce){Te(ce)}finally{Y!==null&&K.types!==null&&(Y.types=K.types),Q.T=Y}},ue.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ue.use=function(D){return Q.H.use(D)},ue.useActionState=function(D,Y,K){return Q.H.useActionState(D,Y,K)},ue.useCallback=function(D,Y){return Q.H.useCallback(D,Y)},ue.useContext=function(D){return Q.H.useContext(D)},ue.useDebugValue=function(){},ue.useDeferredValue=function(D,Y){return Q.H.useDeferredValue(D,Y)},ue.useEffect=function(D,Y){return Q.H.useEffect(D,Y)},ue.useEffectEvent=function(D){return Q.H.useEffectEvent(D)},ue.useId=function(){return Q.H.useId()},ue.useImperativeHandle=function(D,Y,K){return Q.H.useImperativeHandle(D,Y,K)},ue.useInsertionEffect=function(D,Y){return Q.H.useInsertionEffect(D,Y)},ue.useLayoutEffect=function(D,Y){return Q.H.useLayoutEffect(D,Y)},ue.useMemo=function(D,Y){return Q.H.useMemo(D,Y)},ue.useOptimistic=function(D,Y){return Q.H.useOptimistic(D,Y)},ue.useReducer=function(D,Y,K){return Q.H.useReducer(D,Y,K)},ue.useRef=function(D){return Q.H.useRef(D)},ue.useState=function(D){return Q.H.useState(D)},ue.useSyncExternalStore=function(D,Y,K){return Q.H.useSyncExternalStore(D,Y,K)},ue.useTransition=function(){return Q.H.useTransition()},ue.version="19.2.3",ue}var Vy;function ju(){return Vy||(Vy=1,uu.exports=wx()),uu.exports}var O=ju();const Oh=Lh(O);var du={exports:{}},Bs={},fu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function kx(){return Qy||(Qy=1,(function(n){function s(_,Z){var ee=_.length;_.push(Z);e:for(;0<ee;){var Te=ee-1>>>1,Ce=_[Te];if(0<o(Ce,Z))_[Te]=Z,_[ee]=Ce,ee=Te;else break e}}function r(_){return _.length===0?null:_[0]}function i(_){if(_.length===0)return null;var Z=_[0],ee=_.pop();if(ee!==Z){_[0]=ee;e:for(var Te=0,Ce=_.length,D=Ce>>>1;Te<D;){var Y=2*(Te+1)-1,K=_[Y],W=Y+1,le=_[W];if(0>o(K,ee))W<Ce&&0>o(le,K)?(_[Te]=le,_[W]=ee,Te=W):(_[Te]=K,_[Y]=ee,Te=Y);else if(W<Ce&&0>o(le,ee))_[Te]=le,_[W]=ee,Te=W;else break e}}return Z}function o(_,Z){var ee=_.sortIndex-Z.sortIndex;return ee!==0?ee:_.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,y=f.now();n.unstable_now=function(){return f.now()-y}}var h=[],m=[],x=1,v=null,b=3,M=!1,T=!1,E=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function H(_){for(var Z=r(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=_)i(m),Z.sortIndex=Z.expirationTime,s(h,Z);else break;Z=r(m)}}function P(_){if(E=!1,H(_),!T)if(r(h)!==null)T=!0,X||(X=!0,oe());else{var Z=r(m);Z!==null&&at(P,Z.startTime-_)}}var X=!1,Q=-1,ie=5,F=-1;function pe(){return N?!0:!(n.unstable_now()-F<ie)}function ve(){if(N=!1,X){var _=n.unstable_now();F=_;var Z=!0;try{e:{T=!1,E&&(E=!1,z(Q),Q=-1),M=!0;var ee=b;try{t:{for(H(_),v=r(h);v!==null&&!(v.expirationTime>_&&pe());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,b=v.priorityLevel;var Ce=Te(v.expirationTime<=_);if(_=n.unstable_now(),typeof Ce=="function"){v.callback=Ce,H(_),Z=!0;break t}v===r(h)&&i(h),H(_)}else i(h);v=r(h)}if(v!==null)Z=!0;else{var D=r(m);D!==null&&at(P,D.startTime-_),Z=!1}}break e}finally{v=null,b=ee,M=!1}Z=void 0}}finally{Z?oe():X=!1}}}var oe;if(typeof C=="function")oe=function(){C(ve)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Je=Ve.port2;Ve.port1.onmessage=ve,oe=function(){Je.postMessage(null)}}else oe=function(){R(ve,0)};function at(_,Z){Q=R(function(){_(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_){_.callback=null},n.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<_?Math.floor(1e3/_):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(_){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var ee=b;b=Z;try{return _()}finally{b=ee}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(_,Z){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var ee=b;b=_;try{return Z()}finally{b=ee}},n.unstable_scheduleCallback=function(_,Z,ee){var Te=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Te+ee:Te):ee=Te,_){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ee+Ce,_={id:x++,callback:Z,priorityLevel:_,startTime:ee,expirationTime:Ce,sortIndex:-1},ee>Te?(_.sortIndex=ee,s(m,_),r(h)===null&&_===r(m)&&(E?(z(Q),Q=-1):E=!0,at(P,ee-Te))):(_.sortIndex=Ce,s(h,_),T||M||(T=!0,X||(X=!0,oe()))),_},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(_){var Z=b;return function(){var ee=b;b=Z;try{return _.apply(this,arguments)}finally{b=ee}}}})(yu)),yu}var Zy;function Ux(){return Zy||(Zy=1,fu.exports=kx()),fu.exports}var hu={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function Bx(){if(Ky)return gt;Ky=1;var n=ju();function s(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:m,implementation:x}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gt.createPortal=function(h,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(s(299));return u(h,m,null,x)},gt.flushSync=function(h){var m=f.T,x=i.p;try{if(f.T=null,i.p=2,h)return h()}finally{f.T=m,i.p=x,i.d.f()}},gt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},gt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},gt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var x=m.as,v=y(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:M}):x==="script"&&i.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=y(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},gt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=y(x,m.crossOrigin);i.d.L(h,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gt.preloadModule=function(h,m){if(typeof h=="string")if(m){var x=y(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},gt.requestFormReset=function(h){i.d.r(h)},gt.unstable_batchedUpdates=function(h,m){return h(m)},gt.useFormState=function(h,m,x){return f.H.useFormState(h,m,x)},gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},gt.version="19.2.3",gt}var Wy;function Hx(){if(Wy)return hu.exports;Wy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),hu.exports=Bx(),hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function Ix(){if(Jy)return Bs;Jy=1;var n=Ux(),s=ju(),r=Hx();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(i(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return h(c),e;if(d===l)return h(c),t;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=c,l=d;else{for(var p=!1,S=c.child;S;){if(S===a){p=!0,a=c,l=d;break}if(S===l){p=!0,l=c,a=d;break}S=S.sibling}if(!p){for(S=d.child;S;){if(S===a){p=!0,a=d,l=c;break}if(S===l){p=!0,l=d,a=c;break}S=S.sibling}if(!p)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),C=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Symbol.for("react.client.reference");function Je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case R:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case X:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case C:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Je(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return Je(e(t))}catch{}}return null}var at=Array.isArray,_=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Te=[],Ce=-1;function D(e){return{current:e}}function Y(e){0>Ce||(e.current=Te[Ce],Te[Ce]=null,Ce--)}function K(e,t){Ce++,Te[Ce]=e.current,e.current=t}var W=D(null),le=D(null),ce=D(null),me=D(null);function lt(e,t){switch(K(ce,t),K(le,e),K(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fy(t),e=yy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(W),K(W,e)}function je(){Y(W),Y(le),Y(ce)}function Xn(e){e.memoizedState!==null&&K(me,e);var t=W.current,a=yy(t,e.type);t!==a&&(K(le,e),K(W,a))}function xn(e){le.current===e&&(Y(W),Y(le)),me.current===e&&(Y(me),zs._currentValue=ee)}var Ma,Na;function sn(e){if(Ma===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ma=t&&t[1]||"",Na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+e+Na}var Xl=!1;function Gl(e,t){if(!e||Xl)return"";Xl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(B){var U=B}Reflect.construct(e,[],G)}else{try{G.call()}catch(B){U=B}e.call(G.prototype)}}else{try{throw Error()}catch(B){U=B}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),p=d[0],S=d[1];if(p&&S){var A=p.split(`
`),k=S.split(`
`);for(c=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===A.length||c===k.length)for(l=A.length-1,c=k.length-1;1<=l&&0<=c&&A[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(A[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||A[l]!==k[c]){var I=`
`+A[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=c);break}}}finally{Xl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?sn(a):""}function Gr(e,t){switch(e.tag){case 26:case 27:case 5:return sn(e.type);case 16:return sn("Lazy");case 13:return e.child!==t&&t!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return Gl(e.type,!1);case 11:return Gl(e.type.render,!1);case 1:return Gl(e.type,!0);case 31:return sn("Activity");default:return""}}function si(e){try{var t="",a=null;do t+=Gr(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Pl=Object.prototype.hasOwnProperty,Za=n.unstable_scheduleCallback,Gn=n.unstable_cancelCallback,Pr=n.unstable_shouldYield,Vr=n.unstable_requestPaint,mt=n.unstable_now,Qr=n.unstable_getCurrentPriorityLevel,ii=n.unstable_ImmediatePriority,ri=n.unstable_UserBlockingPriority,Ka=n.unstable_NormalPriority,Zr=n.unstable_LowPriority,ci=n.unstable_IdlePriority,Kr=n.log,oi=n.unstable_setDisableYieldValue,J=null,fe=null;function He(e){if(typeof Kr=="function"&&oi(e),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(J,e)}catch{}}var Xe=Math.clz32?Math.clz32:ui,xt=Math.log,Lt=Math.LN2;function ui(e){return e>>>=0,e===0?32:31-(xt(e)/Lt|0)|0}var Ta=256,Aa=262144,di=4194304;function Ca(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?c=Ca(l):(p&=S,p!==0?c=Ca(p):a||(a=S&~e,a!==0&&(c=Ca(a))))):(S=l&~d,S!==0?c=Ca(S):p!==0?c=Ca(p):a||(a=l&~e,a!==0&&(c=Ca(a)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:c}function Vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var e=di;return di<<=1,(di&62914560)===0&&(di=4194304),e}function Wr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sm(e,t,a,l,c,d){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var I=31-Xe(a),G=1<<I;S[I]=0,A[I]=-1;var U=k[I];if(U!==null)for(k[I]=null,I=0;I<U.length;I++){var B=U[I];B!==null&&(B.lane&=-536870913)}a&=~G}l!==0&&Qu(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function Qu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Zu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Xe(a),c=1<<l;c&t|e[l]&t&&(e[l]|=t),a&=~c}}function Ku(e,t){var a=t&-t;return a=(a&42)!==0?1:Jr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Jr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wu(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:ky(e.type))}function Ju(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var Pn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Pn,Et="__reactProps$"+Pn,Wa="__reactContainer$"+Pn,$r="__reactEvents$"+Pn,Em="__reactListeners$"+Pn,Mm="__reactHandles$"+Pn,Fu="__reactResources$"+Pn,Zl="__reactMarker$"+Pn;function ec(e){delete e[ct],delete e[Et],delete e[$r],delete e[Em],delete e[Mm]}function Ja(e){var t=e[ct];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Wa]||a[ct]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=by(e);e!==null;){if(a=e[ct])return a;e=by(e)}return t}e=a,a=e.parentNode}return null}function Fa(e){if(e=e[ct]||e[Wa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Kl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function $a(e){var t=e[Fu];return t||(t=e[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Zl]=!0}var $u=new Set,ed={};function Ra(e,t){el(e,t),el(e+"Capture",t)}function el(e,t){for(ed[e]=t,e=0;e<t.length;e++)$u.add(t[e])}var Nm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),td={},nd={};function Tm(e){return Pl.call(nd,e)?!0:Pl.call(td,e)?!1:Nm.test(e)?nd[e]=!0:(td[e]=!0,!1)}function yi(e,t,a){if(Tm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function hi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function pn(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ad(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Am(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tc(e){if(!e._valueTracker){var t=ad(e)?"checked":"value";e._valueTracker=Am(e,t,""+e[t])}}function ld(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=ad(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cm=/[\n"\\]/g;function Xt(e){return e.replace(Cm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function nc(e,t,a,l,c,d,p,S){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ac(e,p,qt(t)):a!=null?ac(e,p,qt(a)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+qt(S):e.removeAttribute("name")}function sd(e,t,a,l,c,d,p,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){tc(e);return}a=a!=null?""+qt(a):"",t=t!=null?""+qt(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),tc(e)}function ac(e,t,a){t==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function tl(e,t,a,l){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+qt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function id(e,t,a){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+qt(a):""}function rd(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(at(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=qt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),tc(e)}function nl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Rm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Rm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function od(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&a[c]!==l&&cd(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&cd(e,d,t[d])}function lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(e){return jm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vn(){}var sc=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var al=null,ll=null;function ud(e){var t=Fa(e);if(t&&(e=t.stateNode)){var a=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if(nc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var c=l[Et]||null;if(!c)throw Error(i(90));nc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&ld(l)}break e;case"textarea":id(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&tl(e,!!a.multiple,t,!1)}}}var rc=!1;function dd(e,t,a){if(rc)return e(t,a);rc=!0;try{var l=e(t);return l}finally{if(rc=!1,(al!==null||ll!==null)&&(ar(),al&&(t=al,e=ll,ll=al=null,ud(t),e)))for(t=0;t<e.length;t++)ud(e[t])}}function Wl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(bn)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{cc=!1}var Vn=null,oc=null,xi=null;function fd(){if(xi)return xi;var e,t=oc,a=t.length,l,c="value"in Vn?Vn.value:Vn.textContent,d=c.length;for(e=0;e<a&&t[e]===c[e];e++);var p=a-e;for(l=1;l<=p&&t[a-l]===c[d-l];l++);return xi=c.slice(e,1<l?1-l:void 0)}function pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function yd(){return!1}function Mt(e){function t(a,l,c,d,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vi:yd,this.isPropagationStopped=yd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Mt(Da),Fl=v({},Da,{view:0,detail:0}),Lm=Mt(Fl),uc,dc,$l,Si=v({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$l&&($l&&e.type==="mousemove"?(uc=e.screenX-$l.screenX,dc=e.screenY-$l.screenY):dc=uc=0,$l=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),hd=Mt(Si),Om=v({},Si,{dataTransfer:0}),zm=Mt(Om),_m=v({},Fl,{relatedTarget:0}),fc=Mt(_m),wm=v({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),km=Mt(wm),Um=v({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bm=Mt(Um),Hm=v({},Da,{data:0}),md=Mt(Hm),Im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qm[e])?!!t[e]:!1}function yc(){return Xm}var Gm=v({},Fl,{key:function(e){if(e.key){var t=Im[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(e){return e.type==="keypress"?pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pm=Mt(Gm),Vm=v({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=Mt(Vm),Qm=v({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),Zm=Mt(Qm),Km=v({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=Mt(Km),Jm=v({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fm=Mt(Jm),$m=v({},Da,{newState:0,oldState:0}),eg=Mt($m),tg=[9,13,27,32],hc=bn&&"CompositionEvent"in window,es=null;bn&&"documentMode"in document&&(es=document.documentMode);var ng=bn&&"TextEvent"in window&&!es,xd=bn&&(!hc||es&&8<es&&11>=es),pd=" ",vd=!1;function bd(e,t){switch(e){case"keyup":return tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sl=!1;function ag(e,t){switch(e){case"compositionend":return Sd(t);case"keypress":return t.which!==32?null:(vd=!0,pd);case"textInput":return e=t.data,e===pd&&vd?null:e;default:return null}}function lg(e,t){if(sl)return e==="compositionend"||!hc&&bd(e,t)?(e=fd(),xi=oc=Vn=null,sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sg[e.type]:t==="textarea"}function Md(e,t,a,l){al?ll?ll.push(l):ll=[l]:al=l,t=ur(t,"onChange"),0<t.length&&(a=new bi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var ts=null,ns=null;function ig(e){iy(e,0)}function Ei(e){var t=Kl(e);if(ld(t))return e}function Nd(e,t){if(e==="change")return t}var Td=!1;if(bn){var mc;if(bn){var gc="oninput"in document;if(!gc){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),gc=typeof Ad.oninput=="function"}mc=gc}else mc=!1;Td=mc&&(!document.documentMode||9<document.documentMode)}function Cd(){ts&&(ts.detachEvent("onpropertychange",Rd),ns=ts=null)}function Rd(e){if(e.propertyName==="value"&&Ei(ns)){var t=[];Md(t,ns,e,ic(e)),dd(ig,t)}}function rg(e,t,a){e==="focusin"?(Cd(),ts=t,ns=a,ts.attachEvent("onpropertychange",Rd)):e==="focusout"&&Cd()}function cg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(ns)}function og(e,t){if(e==="click")return Ei(t)}function ug(e,t){if(e==="input"||e==="change")return Ei(t)}function dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:dg;function as(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Pl.call(t,c)||!Ot(e[c],t[c]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var a=Dd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dd(a)}}function Ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=mi(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fg=bn&&"documentMode"in document&&11>=document.documentMode,il=null,pc=null,ls=null,vc=!1;function zd(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vc||il==null||il!==mi(l)||(l=il,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ls&&as(ls,l)||(ls=l,l=ur(pc,"onSelect"),0<l.length&&(t=new bi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=il)))}function ja(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var rl={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},bc={},_d={};bn&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function La(e){if(bc[e])return bc[e];if(!rl[e])return e;var t=rl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in _d)return bc[e]=t[a];return e}var wd=La("animationend"),kd=La("animationiteration"),Ud=La("animationstart"),yg=La("transitionrun"),hg=La("transitionstart"),mg=La("transitioncancel"),Bd=La("transitionend"),Hd=new Map,Sc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sc.push("scrollEnd");function tn(e,t){Hd.set(e,t),Ra(t,[e])}var Mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],cl=0,Ec=0;function Ni(){for(var e=cl,t=Ec=cl=0;t<e;){var a=Gt[t];Gt[t++]=null;var l=Gt[t];Gt[t++]=null;var c=Gt[t];Gt[t++]=null;var d=Gt[t];if(Gt[t++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}d!==0&&Id(a,c,d)}}function Ti(e,t,a,l){Gt[cl++]=e,Gt[cl++]=t,Gt[cl++]=a,Gt[cl++]=l,Ec|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Mc(e,t,a,l){return Ti(e,t,a,l),Ai(e)}function Oa(e,t){return Ti(e,null,null,t),Ai(e)}function Id(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Xe(a),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=a|536870912),d):null}function Ai(e){if(50<As)throw As=0,zo=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ol={};function gg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,a,l){return new gg(e,t,a,l)}function Nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sn(e,t){var a=e.alternate;return a===null?(a=zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ci(e,t,a,l,c,d){var p=0;if(l=e,typeof e=="function")Nc(e)&&(p=1);else if(typeof e=="string")p=Sx(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=zt(31,a,t,c),e.elementType=F,e.lanes=d,e;case E:return za(a.children,c,d,t);case N:p=8,c|=24;break;case R:return e=zt(12,a,t,c|2),e.elementType=R,e.lanes=d,e;case P:return e=zt(13,a,t,c),e.elementType=P,e.lanes=d,e;case X:return e=zt(19,a,t,c),e.elementType=X,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:p=10;break e;case z:p=9;break e;case H:p=11;break e;case Q:p=14;break e;case ie:p=16,l=null;break e}p=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=zt(p,a,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function za(e,t,a,l){return e=zt(7,e,l,t),e.lanes=a,e}function Tc(e,t,a){return e=zt(6,e,null,t),e.lanes=a,e}function qd(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function Ac(e,t,a){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xd=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var a=Xd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:si(t)},Xd.set(e,t),t)}return{value:e,source:t,stack:si(t)}}var ul=[],dl=0,Ri=null,ss=0,Vt=[],Qt=0,Qn=null,rn=1,cn="";function En(e,t){ul[dl++]=ss,ul[dl++]=Ri,Ri=e,ss=t}function Gd(e,t,a){Vt[Qt++]=rn,Vt[Qt++]=cn,Vt[Qt++]=Qn,Qn=e;var l=rn;e=cn;var c=32-Xe(l)-1;l&=~(1<<c),a+=1;var d=32-Xe(t)+c;if(30<d){var p=c-c%5;d=(l&(1<<p)-1).toString(32),l>>=p,c-=p,rn=1<<32-Xe(t)+c|a<<c|l,cn=d+e}else rn=1<<d|a<<c|l,cn=e}function Cc(e){e.return!==null&&(En(e,1),Gd(e,1,0))}function Rc(e){for(;e===Ri;)Ri=ul[--dl],ul[dl]=null,ss=ul[--dl],ul[dl]=null;for(;e===Qn;)Qn=Vt[--Qt],Vt[Qt]=null,cn=Vt[--Qt],Vt[Qt]=null,rn=Vt[--Qt],Vt[Qt]=null}function Pd(e,t){Vt[Qt++]=rn,Vt[Qt++]=cn,Vt[Qt++]=Qn,rn=t.id,cn=t.overflow,Qn=e}var ot=null,Ie=null,Ne=!1,Zn=null,Zt=!1,Dc=Error(i(519));function Kn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw is(Pt(t,e)),Dc}function Vd(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ct]=e,t[Et]=l,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<Rs.length;a++)Se(Rs[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),sd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),rd(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||uy(t.textContent,a)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=vn),t=!0):t=!1,t||Kn(e,!0)}function Qd(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ot=ot.return}}function fl(e){if(e!==ot)return!1;if(!Ne)return Qd(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zo(e.type,e.memoizedProps)),a=!a),a&&Ie&&Kn(e),Qd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ie=vy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ie=vy(e)}else t===27?(t=Ie,oa(e.type)?(e=$o,$o=null,Ie=e):Ie=t):Ie=ot?Wt(e.stateNode.nextSibling):null;return!0}function _a(){Ie=ot=null,Ne=!1}function jc(){var e=Zn;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Zn=null),e}function is(e){Zn===null?Zn=[e]:Zn.push(e)}var Lc=D(null),wa=null,Mn=null;function Wn(e,t,a){K(Lc,t._currentValue),t._currentValue=a}function Nn(e){e._currentValue=Lc.current,Y(Lc)}function Oc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function zc(e,t,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var p=c.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=c;for(var A=0;A<t.length;A++)if(S.context===t[A]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Oc(d.return,a,e),l||(p=null);break e}d=S.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(i(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),Oc(p,a,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function yl(e,t,a,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var S=c.type;Ot(c.pendingProps.value,p.value)||(e!==null?e.push(S):e=[S])}}else if(c===me.current){if(p=c.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(zs):e=[zs])}c=c.return}e!==null&&zc(t,e,a,l),t.flags|=262144}function Di(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ka(e){wa=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Zd(wa,e)}function ji(e,t){return wa===null&&ka(e),Zd(e,t)}function Zd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Mn===null){if(e===null)throw Error(i(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return a}var xg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},pg=n.unstable_scheduleCallback,vg=n.unstable_NormalPriority,Fe={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new xg,data:new Map,refCount:0}}function rs(e){e.refCount--,e.refCount===0&&pg(vg,function(){e.controller.abort()})}var cs=null,wc=0,hl=0,ml=null;function bg(e,t){if(cs===null){var a=cs=[];wc=0,hl=Ho(),ml={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wc++,t.then(Kd,Kd),t}function Kd(){if(--wc===0&&cs!==null){ml!==null&&(ml.status="fulfilled");var e=cs;cs=null,hl=0,ml=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Sg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Wd=_.S;_.S=function(e,t){_0=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bg(e,t),Wd!==null&&Wd(e,t)};var Ua=D(null);function kc(){var e=Ua.current;return e!==null?e:Ue.pooledCache}function Li(e,t){t===null?K(Ua,Ua.current):K(Ua,t.pool)}function Jd(){var e=kc();return e===null?null:{parent:Fe._currentValue,pool:e}}var gl=Error(i(460)),Uc=Error(i(474)),Oi=Error(i(542)),zi={then:function(){}};function Fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $d(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(vn,vn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tf(e),e;default:if(typeof t.status=="string")t.then(vn,vn);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tf(e),e}throw Ha=t,gl}}function Ba(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ha=a,gl):a}}var Ha=null;function ef(){if(Ha===null)throw Error(i(459));var e=Ha;return Ha=null,e}function tf(e){if(e===gl||e===Oi)throw Error(i(483))}var xl=null,os=0;function _i(e){var t=os;return os+=1,xl===null&&(xl=[]),$d(xl,e,t)}function us(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wi(e,t){throw t.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nf(e){function t(L,j){if(e){var w=L.deletions;w===null?(L.deletions=[j],L.flags|=16):w.push(j)}}function a(L,j){if(!e)return null;for(;j!==null;)t(L,j),j=j.sibling;return null}function l(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function c(L,j){return L=Sn(L,j),L.index=0,L.sibling=null,L}function d(L,j,w){return L.index=w,e?(w=L.alternate,w!==null?(w=w.index,w<j?(L.flags|=67108866,j):w):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,j,w,q){return j===null||j.tag!==6?(j=Tc(w,L.mode,q),j.return=L,j):(j=c(j,w),j.return=L,j)}function A(L,j,w,q){var se=w.type;return se===E?I(L,j,w.props.children,q,w.key):j!==null&&(j.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ie&&Ba(se)===j.type)?(j=c(j,w.props),us(j,w),j.return=L,j):(j=Ci(w.type,w.key,w.props,null,L.mode,q),us(j,w),j.return=L,j)}function k(L,j,w,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Ac(w,L.mode,q),j.return=L,j):(j=c(j,w.children||[]),j.return=L,j)}function I(L,j,w,q,se){return j===null||j.tag!==7?(j=za(w,L.mode,q,se),j.return=L,j):(j=c(j,w),j.return=L,j)}function G(L,j,w){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Tc(""+j,L.mode,w),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case M:return w=Ci(j.type,j.key,j.props,null,L.mode,w),us(w,j),w.return=L,w;case T:return j=Ac(j,L.mode,w),j.return=L,j;case ie:return j=Ba(j),G(L,j,w)}if(at(j)||oe(j))return j=za(j,L.mode,w,null),j.return=L,j;if(typeof j.then=="function")return G(L,_i(j),w);if(j.$$typeof===C)return G(L,ji(L,j),w);wi(L,j)}return null}function U(L,j,w,q){var se=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return se!==null?null:S(L,j,""+w,q);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case M:return w.key===se?A(L,j,w,q):null;case T:return w.key===se?k(L,j,w,q):null;case ie:return w=Ba(w),U(L,j,w,q)}if(at(w)||oe(w))return se!==null?null:I(L,j,w,q,null);if(typeof w.then=="function")return U(L,j,_i(w),q);if(w.$$typeof===C)return U(L,j,ji(L,w),q);wi(L,w)}return null}function B(L,j,w,q,se){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return L=L.get(w)||null,S(j,L,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return L=L.get(q.key===null?w:q.key)||null,A(j,L,q,se);case T:return L=L.get(q.key===null?w:q.key)||null,k(j,L,q,se);case ie:return q=Ba(q),B(L,j,w,q,se)}if(at(q)||oe(q))return L=L.get(w)||null,I(j,L,q,se,null);if(typeof q.then=="function")return B(L,j,w,_i(q),se);if(q.$$typeof===C)return B(L,j,w,ji(j,q),se);wi(j,q)}return null}function $(L,j,w,q){for(var se=null,Re=null,ne=j,ge=j=0,Me=null;ne!==null&&ge<w.length;ge++){ne.index>ge?(Me=ne,ne=null):Me=ne.sibling;var De=U(L,ne,w[ge],q);if(De===null){ne===null&&(ne=Me);break}e&&ne&&De.alternate===null&&t(L,ne),j=d(De,j,ge),Re===null?se=De:Re.sibling=De,Re=De,ne=Me}if(ge===w.length)return a(L,ne),Ne&&En(L,ge),se;if(ne===null){for(;ge<w.length;ge++)ne=G(L,w[ge],q),ne!==null&&(j=d(ne,j,ge),Re===null?se=ne:Re.sibling=ne,Re=ne);return Ne&&En(L,ge),se}for(ne=l(ne);ge<w.length;ge++)Me=B(ne,L,ge,w[ge],q),Me!==null&&(e&&Me.alternate!==null&&ne.delete(Me.key===null?ge:Me.key),j=d(Me,j,ge),Re===null?se=Me:Re.sibling=Me,Re=Me);return e&&ne.forEach(function(ha){return t(L,ha)}),Ne&&En(L,ge),se}function re(L,j,w,q){if(w==null)throw Error(i(151));for(var se=null,Re=null,ne=j,ge=j=0,Me=null,De=w.next();ne!==null&&!De.done;ge++,De=w.next()){ne.index>ge?(Me=ne,ne=null):Me=ne.sibling;var ha=U(L,ne,De.value,q);if(ha===null){ne===null&&(ne=Me);break}e&&ne&&ha.alternate===null&&t(L,ne),j=d(ha,j,ge),Re===null?se=ha:Re.sibling=ha,Re=ha,ne=Me}if(De.done)return a(L,ne),Ne&&En(L,ge),se;if(ne===null){for(;!De.done;ge++,De=w.next())De=G(L,De.value,q),De!==null&&(j=d(De,j,ge),Re===null?se=De:Re.sibling=De,Re=De);return Ne&&En(L,ge),se}for(ne=l(ne);!De.done;ge++,De=w.next())De=B(ne,L,ge,De.value,q),De!==null&&(e&&De.alternate!==null&&ne.delete(De.key===null?ge:De.key),j=d(De,j,ge),Re===null?se=De:Re.sibling=De,Re=De);return e&&ne.forEach(function(Ox){return t(L,Ox)}),Ne&&En(L,ge),se}function ke(L,j,w,q){if(typeof w=="object"&&w!==null&&w.type===E&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case M:e:{for(var se=w.key;j!==null;){if(j.key===se){if(se=w.type,se===E){if(j.tag===7){a(L,j.sibling),q=c(j,w.props.children),q.return=L,L=q;break e}}else if(j.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ie&&Ba(se)===j.type){a(L,j.sibling),q=c(j,w.props),us(q,w),q.return=L,L=q;break e}a(L,j);break}else t(L,j);j=j.sibling}w.type===E?(q=za(w.props.children,L.mode,q,w.key),q.return=L,L=q):(q=Ci(w.type,w.key,w.props,null,L.mode,q),us(q,w),q.return=L,L=q)}return p(L);case T:e:{for(se=w.key;j!==null;){if(j.key===se)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){a(L,j.sibling),q=c(j,w.children||[]),q.return=L,L=q;break e}else{a(L,j);break}else t(L,j);j=j.sibling}q=Ac(w,L.mode,q),q.return=L,L=q}return p(L);case ie:return w=Ba(w),ke(L,j,w,q)}if(at(w))return $(L,j,w,q);if(oe(w)){if(se=oe(w),typeof se!="function")throw Error(i(150));return w=se.call(w),re(L,j,w,q)}if(typeof w.then=="function")return ke(L,j,_i(w),q);if(w.$$typeof===C)return ke(L,j,ji(L,w),q);wi(L,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,j!==null&&j.tag===6?(a(L,j.sibling),q=c(j,w),q.return=L,L=q):(a(L,j),q=Tc(w,L.mode,q),q.return=L,L=q),p(L)):a(L,j)}return function(L,j,w,q){try{os=0;var se=ke(L,j,w,q);return xl=null,se}catch(ne){if(ne===gl||ne===Oi)throw ne;var Re=zt(29,ne,null,L.mode);return Re.lanes=q,Re.return=L,Re}finally{}}}var Ia=nf(!0),af=nf(!1),Jn=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Ai(e),Id(e,null,a),t}return Ti(e,l,t,a),Ai(e)}function ds(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Zu(e,a)}}function Ic(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?c=d=t:d=d.next=t}else c=d=t;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Yc=!1;function fs(){if(Yc){var e=ml;if(e!==null)throw e}}function ys(e,t,a,l){Yc=!1;var c=e.updateQueue;Jn=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var A=S,k=A.next;A.next=null,p===null?d=k:p.next=k,p=A;var I=e.alternate;I!==null&&(I=I.updateQueue,S=I.lastBaseUpdate,S!==p&&(S===null?I.firstBaseUpdate=k:S.next=k,I.lastBaseUpdate=A))}if(d!==null){var G=c.baseState;p=0,I=k=A=null,S=d;do{var U=S.lane&-536870913,B=U!==S.lane;if(B?(Ee&U)===U:(l&U)===U){U!==0&&U===hl&&(Yc=!0),I!==null&&(I=I.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var $=e,re=S;U=t;var ke=a;switch(re.tag){case 1:if($=re.payload,typeof $=="function"){G=$.call(ke,G,U);break e}G=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=re.payload,U=typeof $=="function"?$.call(ke,G,U):$,U==null)break e;G=v({},G,U);break e;case 2:Jn=!0}}U=S.callback,U!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[U]:B.push(U))}else B={lane:U,tag:S.tag,payload:S.payload,callback:S.callback,next:null},I===null?(k=I=B,A=G):I=I.next=B,p|=U;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;B=S,S=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);I===null&&(A=G),c.baseState=A,c.firstBaseUpdate=k,c.lastBaseUpdate=I,d===null&&(c.shared.lanes=0),la|=p,e.lanes=p,e.memoizedState=G}}function lf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function sf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lf(a[e],t)}var pl=D(null),ki=D(0);function rf(e,t){e=zn,K(ki,e),K(pl,t),zn=e|t.baseLanes}function qc(){K(ki,zn),K(pl,pl.current)}function Xc(){zn=ki.current,Y(pl),Y(ki)}var _t=D(null),Kt=null;function ea(e){var t=e.alternate;K(Ke,Ke.current&1),K(_t,e),Kt===null&&(t===null||pl.current!==null||t.memoizedState!==null)&&(Kt=e)}function Gc(e){K(Ke,Ke.current),K(_t,e),Kt===null&&(Kt=e)}function cf(e){e.tag===22?(K(Ke,Ke.current),K(_t,e),Kt===null&&(Kt=e)):ta()}function ta(){K(Ke,Ke.current),K(_t,_t.current)}function wt(e){Y(_t),Kt===e&&(Kt=null),Y(Ke)}var Ke=D(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jo(a)||Fo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tn=0,ye=null,_e=null,$e=null,Bi=!1,vl=!1,Ya=!1,Hi=0,hs=0,bl=null,Eg=0;function Qe(){throw Error(i(321))}function Pc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function Vc(e,t,a,l,c,d){return Tn=d,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?Pf:ro,Ya=!1,d=a(l,c),Ya=!1,vl&&(d=uf(t,a,l,c)),of(e),d}function of(e){_.H=xs;var t=_e!==null&&_e.next!==null;if(Tn=0,$e=_e=ye=null,Bi=!1,hs=0,bl=null,t)throw Error(i(300));e===null||et||(e=e.dependencies,e!==null&&Di(e)&&(et=!0))}function uf(e,t,a,l){ye=e;var c=0;do{if(vl&&(bl=null),hs=0,vl=!1,25<=c)throw Error(i(301));if(c+=1,$e=_e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}_.H=Vf,d=t(a,l)}while(vl);return d}function Mg(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?ms(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(ye.flags|=1024),t}function Qc(){var e=Hi!==0;return Hi=0,e}function Zc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Kc(e){if(Bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bi=!1}Tn=0,$e=_e=ye=null,vl=!1,hs=Hi=0,bl=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ye.memoizedState=$e=e:$e=$e.next=e,$e}function We(){if(_e===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=$e===null?ye.memoizedState:$e.next;if(t!==null)$e=t,_e=e;else{if(e===null)throw ye.alternate===null?Error(i(467)):Error(i(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},$e===null?ye.memoizedState=$e=e:$e=$e.next=e}return $e}function Ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(e){var t=hs;return hs+=1,bl===null&&(bl=[]),e=$d(bl,e,t),t=ye,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?Pf:ro),e}function Yi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ms(e);if(e.$$typeof===C)return ut(e)}throw Error(i(438,String(e)))}function Wc(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ii(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=pe;return t.index++,a}function An(e,t){return typeof t=="function"?t(e):t}function qi(e){var t=We();return Jc(t,_e,e)}function Jc(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var S=p=null,A=null,k=t,I=!1;do{var G=k.lane&-536870913;if(G!==k.lane?(Ee&G)===G:(Tn&G)===G){var U=k.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),G===hl&&(I=!0);else if((Tn&U)===U){k=k.next,U===hl&&(I=!0);continue}else G={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(S=A=G,p=d):A=A.next=G,ye.lanes|=U,la|=U;G=k.action,Ya&&a(d,G),d=k.hasEagerState?k.eagerState:a(d,G)}else U={lane:G,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(S=A=U,p=d):A=A.next=U,ye.lanes|=G,la|=G;k=k.next}while(k!==null&&k!==t);if(A===null?p=d:A.next=S,!Ot(d,e.memoizedState)&&(et=!0,I&&(a=ml,a!==null)))throw a;e.memoizedState=d,e.baseState=p,e.baseQueue=A,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Fc(e){var t=We(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,d=t.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do d=e(d,p.action),p=p.next;while(p!==c);Ot(d,t.memoizedState)||(et=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,l]}function df(e,t,a){var l=ye,c=We(),d=Ne;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=t();var p=!Ot((_e||c).memoizedState,a);if(p&&(c.memoizedState=a,et=!0),c=c.queue,to(hf.bind(null,l,c,e),[e]),c.getSnapshot!==t||p||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Sl(9,{destroy:void 0},yf.bind(null,l,c,a,t),null),Ue===null)throw Error(i(349));d||(Tn&127)!==0||ff(l,t,a)}return a}function ff(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=Ii(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function yf(e,t,a,l){t.value=a,t.getSnapshot=l,mf(t)&&gf(e)}function hf(e,t,a){return a(function(){mf(t)&&gf(e)})}function mf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch{return!0}}function gf(e){var t=Oa(e,2);t!==null&&Rt(t,e,2)}function $c(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),Ya){He(!0);try{a()}finally{He(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},t}function xf(e,t,a,l){return e.baseState=a,Jc(e,_e,typeof l=="function"?l:An)}function Ng(e,t,a,l,c){if(Pi(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};_.T!==null?a(!0):d.isTransition=!1,l(d),a=t.pending,a===null?(d.next=t.pending=d,pf(t,d)):(d.next=a.next,t.pending=a.next=d)}}function pf(e,t){var a=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=_.T,p={};_.T=p;try{var S=a(c,l),A=_.S;A!==null&&A(p,S),vf(e,t,S)}catch(k){eo(e,t,k)}finally{d!==null&&p.types!==null&&(d.types=p.types),_.T=d}}else try{d=a(c,l),vf(e,t,d)}catch(k){eo(e,t,k)}}function vf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bf(e,t,l)},function(l){return eo(e,t,l)}):bf(e,t,a)}function bf(e,t,a){t.status="fulfilled",t.value=a,Sf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,pf(e,a)))}function eo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Sf(t),t=t.next;while(t!==l)}e.action=null}function Sf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ef(e,t){return t}function Mf(e,t){if(Ne){var a=Ue.formState;if(a!==null){e:{var l=ye;if(Ne){if(Ie){t:{for(var c=Ie,d=Zt;c.nodeType!==8;){if(!d){c=null;break t}if(c=Wt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ie=Wt(c.nextSibling),l=c.data==="F!";break e}}Kn(l)}l=!1}l&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:t},a.queue=l,a=qf.bind(null,ye,l),l.dispatch=a,l=$c(!1),d=io.bind(null,ye,!1,l.queue),l=pt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,a=Ng.bind(null,ye,c,d,a),c.dispatch=a,l.memoizedState=e,[t,a,!1]}function Nf(e){var t=We();return Tf(t,_e,e)}function Tf(e,t,a){if(t=Jc(e,t,Ef)[0],e=qi(An)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ms(t)}catch(p){throw p===gl?Oi:p}else l=t;t=We();var c=t.queue,d=c.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,Sl(9,{destroy:void 0},Tg.bind(null,c,a),null)),[l,d,e]}function Tg(e,t){e.action=t}function Af(e){var t=We(),a=_e;if(a!==null)return Tf(t,a,e);We(),t=t.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Sl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Ii(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Cf(){return We().memoizedState}function Xi(e,t,a,l){var c=pt();ye.flags|=e,c.memoizedState=Sl(1|t,{destroy:void 0},a,l===void 0?null:l)}function Gi(e,t,a,l){var c=We();l=l===void 0?null:l;var d=c.memoizedState.inst;_e!==null&&l!==null&&Pc(l,_e.memoizedState.deps)?c.memoizedState=Sl(t,d,a,l):(ye.flags|=e,c.memoizedState=Sl(1|t,d,a,l))}function Rf(e,t){Xi(8390656,8,e,t)}function to(e,t){Gi(2048,8,e,t)}function Ag(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Ii(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Df(e){var t=We().memoizedState;return Ag({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function jf(e,t){return Gi(4,2,e,t)}function Lf(e,t){return Gi(4,4,e,t)}function Of(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zf(e,t,a){a=a!=null?a.concat([e]):null,Gi(4,4,Of.bind(null,t,e),a)}function no(){}function _f(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Pc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function wf(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Pc(t,l[1]))return l[0];if(l=e(),Ya){He(!0);try{e()}finally{He(!1)}}return a.memoizedState=[l,t],l}function ao(e,t,a){return a===void 0||(Tn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=k0(),ye.lanes|=e,la|=e,a)}function kf(e,t,a,l){return Ot(a,t)?a:pl.current!==null?(e=ao(e,a,l),Ot(e,t)||(et=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(Ee&261930)===0?(et=!0,e.memoizedState=a):(e=k0(),ye.lanes|=e,la|=e,t)}function Uf(e,t,a,l,c){var d=Z.p;Z.p=d!==0&&8>d?d:8;var p=_.T,S={};_.T=S,io(e,!1,t,a);try{var A=c(),k=_.S;if(k!==null&&k(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var I=Sg(A,l);gs(e,t,I,Bt(e))}else gs(e,t,l,Bt(e))}catch(G){gs(e,t,{then:function(){},status:"rejected",reason:G},Bt())}finally{Z.p=d,p!==null&&S.types!==null&&(p.types=S.types),_.T=p}}function Cg(){}function lo(e,t,a,l){if(e.tag!==5)throw Error(i(476));var c=Bf(e).queue;Uf(e,c,t,ee,a===null?Cg:function(){return Hf(e),a(l)})}function Bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hf(e){var t=Bf(e);t.next===null&&(t=e.alternate.memoizedState),gs(e,t.next.queue,{},Bt())}function so(){return ut(zs)}function If(){return We().memoizedState}function Yf(){return We().memoizedState}function Rg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Bt();e=Fn(a);var l=$n(t,e,a);l!==null&&(Rt(l,t,a),ds(l,t,a)),t={cache:_c()},e.payload=t;return}t=t.return}}function Dg(e,t,a){var l=Bt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pi(e)?Xf(t,a):(a=Mc(e,t,a,l),a!==null&&(Rt(a,e,l),Gf(a,t,l)))}function qf(e,t,a){var l=Bt();gs(e,t,a,l)}function gs(e,t,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pi(e))Xf(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,S=d(p,a);if(c.hasEagerState=!0,c.eagerState=S,Ot(S,p))return Ti(e,t,c,0),Ue===null&&Ni(),!1}catch{}finally{}if(a=Mc(e,t,c,l),a!==null)return Rt(a,e,l),Gf(a,t,l),!0}return!1}function io(e,t,a,l){if(l={lane:2,revertLane:Ho(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pi(e)){if(t)throw Error(i(479))}else t=Mc(e,a,l,2),t!==null&&Rt(t,e,2)}function Pi(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Xf(e,t){vl=Bi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Gf(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Zu(e,a)}}var xs={readContext:ut,use:Yi,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};xs.useEffectEvent=Qe;var Pf={readContext:ut,use:Yi,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Rf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Xi(4194308,4,Of.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){Xi(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var l=e();if(Ya){He(!0);try{e()}finally{He(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=pt();if(a!==void 0){var c=a(t);if(Ya){He(!0);try{a(t)}finally{He(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Dg.bind(null,ye,e),[l.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=$c(e);var t=e.queue,a=qf.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:no,useDeferredValue:function(e,t){var a=pt();return ao(a,e,t)},useTransition:function(){var e=$c(!1);return e=Uf.bind(null,ye,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ye,c=pt();if(Ne){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Ue===null)throw Error(i(349));(Ee&127)!==0||ff(l,t,a)}c.memoizedState=a;var d={value:a,getSnapshot:t};return c.queue=d,Rf(hf.bind(null,l,d,e),[e]),l.flags|=2048,Sl(9,{destroy:void 0},yf.bind(null,l,d,a,t),null),a},useId:function(){var e=pt(),t=Ue.identifierPrefix;if(Ne){var a=cn,l=rn;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Hi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Eg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Mf,useActionState:Mf,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=io.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:Wc,useCacheRefresh:function(){return pt().memoizedState=Rg.bind(null,ye)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((Le&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},ro={readContext:ut,use:Yi,useCallback:_f,useContext:ut,useEffect:to,useImperativeHandle:zf,useInsertionEffect:jf,useLayoutEffect:Lf,useMemo:wf,useReducer:qi,useRef:Cf,useState:function(){return qi(An)},useDebugValue:no,useDeferredValue:function(e,t){var a=We();return kf(a,_e.memoizedState,e,t)},useTransition:function(){var e=qi(An)[0],t=We().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:df,useId:If,useHostTransitionStatus:so,useFormState:Nf,useActionState:Nf,useOptimistic:function(e,t){var a=We();return xf(a,_e,e,t)},useMemoCache:Wc,useCacheRefresh:Yf};ro.useEffectEvent=Df;var Vf={readContext:ut,use:Yi,useCallback:_f,useContext:ut,useEffect:to,useImperativeHandle:zf,useInsertionEffect:jf,useLayoutEffect:Lf,useMemo:wf,useReducer:Fc,useRef:Cf,useState:function(){return Fc(An)},useDebugValue:no,useDeferredValue:function(e,t){var a=We();return _e===null?ao(a,e,t):kf(a,_e.memoizedState,e,t)},useTransition:function(){var e=Fc(An)[0],t=We().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:df,useId:If,useHostTransitionStatus:so,useFormState:Af,useActionState:Af,useOptimistic:function(e,t){var a=We();return _e!==null?xf(a,_e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wc,useCacheRefresh:Yf};Vf.useEffectEvent=Df;function co(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var oo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Bt(),c=Fn(l);c.payload=t,a!=null&&(c.callback=a),t=$n(e,c,l),t!==null&&(Rt(t,e,l),ds(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Bt(),c=Fn(l);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=$n(e,c,l),t!==null&&(Rt(t,e,l),ds(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Bt(),l=Fn(a);l.tag=2,t!=null&&(l.callback=t),t=$n(e,l,a),t!==null&&(Rt(t,e,a),ds(t,e,a))}};function Qf(e,t,a,l,c,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,p):t.prototype&&t.prototype.isPureReactComponent?!as(a,l)||!as(c,d):!0}function Zf(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function qa(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function Kf(e){Mi(e)}function Wf(e){console.error(e)}function Jf(e){Mi(e)}function Vi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ff(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function uo(e,t,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){Vi(e,t)},a}function $f(e){return e=Fn(e),e.tag=3,e}function e0(e,t,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Ff(t,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Ff(t,a,l),typeof c!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function jg(e,t,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&yl(t,a,c,!0),a=_t.current,a!==null){switch(a.tag){case 31:case 13:return Kt===null?lr():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===zi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),ko(e,l,c)),!1;case 22:return a.flags|=65536,l===zi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),ko(e,l,c)),!1}throw Error(i(435,a.tag))}return ko(e,l,c),lr(),!1}if(Ne)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Dc&&(e=Error(i(422),{cause:l}),is(Pt(e,a)))):(l!==Dc&&(t=Error(i(423),{cause:l}),is(Pt(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Pt(l,a),c=uo(e.stateNode,l,c),Ic(e,c),Ze!==4&&(Ze=2)),!1;var d=Error(i(520),{cause:l});if(d=Pt(d,a),Ts===null?Ts=[d]:Ts.push(d),Ze!==4&&(Ze=2),t===null)return!0;l=Pt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=uo(a.stateNode,l,e),Ic(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(sa===null||!sa.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=$f(c),e0(c,e,a,l),Ic(a,c),!1}a=a.return}while(a!==null);return!1}var fo=Error(i(461)),et=!1;function dt(e,t,a,l){t.child=e===null?af(t,null,a,l):Ia(t,e.child,a,l)}function t0(e,t,a,l,c){a=a.render;var d=t.ref;if("ref"in l){var p={};for(var S in l)S!=="ref"&&(p[S]=l[S])}else p=l;return ka(t),l=Vc(e,t,a,p,d,c),S=Qc(),e!==null&&!et?(Zc(e,t,c),Cn(e,t,c)):(Ne&&S&&Cc(t),t.flags|=1,dt(e,t,l,c),t.child)}function n0(e,t,a,l,c){if(e===null){var d=a.type;return typeof d=="function"&&!Nc(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,a0(e,t,d,l,c)):(e=Ci(a.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!bo(e,c)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:as,a(p,l)&&e.ref===t.ref)return Cn(e,t,c)}return t.flags|=1,e=Sn(d,l),e.ref=t.ref,e.return=t,t.child=e}function a0(e,t,a,l,c){if(e!==null){var d=e.memoizedProps;if(as(d,l)&&e.ref===t.ref)if(et=!1,t.pendingProps=l=d,bo(e,c))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,Cn(e,t,c)}return yo(e,t,a,l,c)}function l0(e,t,a,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return s0(e,t,d,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Li(t,d!==null?d.cachePool:null),d!==null?rf(t,d):qc(),cf(t);else return l=t.lanes=536870912,s0(e,t,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Li(t,d.cachePool),rf(t,d),ta(),t.memoizedState=null):(e!==null&&Li(t,null),qc(),ta());return dt(e,t,c,a),t.child}function ps(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function s0(e,t,a,l,c){var d=kc();return d=d===null?null:{parent:Fe._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&Li(t,null),qc(),cf(t),e!==null&&yl(e,t,l,!0),t.childLanes=c,null}function Qi(e,t){return t=Ki({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function i0(e,t,a){return Ia(t,e.child,null,a),e=Qi(t,t.pendingProps),e.flags|=2,wt(t),t.memoizedState=null,e}function Lg(e,t,a){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(l.mode==="hidden")return e=Qi(t,l),t.lanes=536870912,ps(null,e);if(Gc(t),(e=Ie)?(e=py(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:rn,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=qd(e),a.return=t,t.child=a,ot=t,Ie=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return Qi(t,l)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Gc(t),c)if(t.flags&256)t.flags&=-257,t=i0(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(et||yl(e,t,a,!1),c=(a&e.childLanes)!==0,et||c){if(l=Ue,l!==null&&(p=Ku(l,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,Oa(e,p),Rt(l,e,p),fo;lr(),t=i0(e,t,a)}else e=d.treeContext,Ie=Wt(p.nextSibling),ot=t,Ne=!0,Zn=null,Zt=!1,e!==null&&Pd(t,e),t=Qi(t,l),t.flags|=4096;return t}return e=Sn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function yo(e,t,a,l,c){return ka(t),a=Vc(e,t,a,l,void 0,c),l=Qc(),e!==null&&!et?(Zc(e,t,c),Cn(e,t,c)):(Ne&&l&&Cc(t),t.flags|=1,dt(e,t,a,c),t.child)}function r0(e,t,a,l,c,d){return ka(t),t.updateQueue=null,a=uf(t,l,a,c),of(e),l=Qc(),e!==null&&!et?(Zc(e,t,d),Cn(e,t,d)):(Ne&&l&&Cc(t),t.flags|=1,dt(e,t,a,d),t.child)}function c0(e,t,a,l,c){if(ka(t),t.stateNode===null){var d=ol,p=a.contextType;typeof p=="object"&&p!==null&&(d=ut(p)),d=new a(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=oo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Bc(t),p=a.contextType,d.context=typeof p=="object"&&p!==null?ut(p):ol,d.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(co(t,a,p,l),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&oo.enqueueReplaceState(d,d.state,null),ys(t,l,d,c),fs(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var S=t.memoizedProps,A=qa(a,S);d.props=A;var k=d.context,I=a.contextType;p=ol,typeof I=="object"&&I!==null&&(p=ut(I));var G=a.getDerivedStateFromProps;I=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||k!==p)&&Zf(t,d,l,p),Jn=!1;var U=t.memoizedState;d.state=U,ys(t,l,d,c),fs(),k=t.memoizedState,S||U!==k||Jn?(typeof G=="function"&&(co(t,a,G,l),k=t.memoizedState),(A=Jn||Qf(t,a,A,l,U,k,p))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=k),d.props=l,d.state=k,d.context=p,l=A):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Hc(e,t),p=t.memoizedProps,I=qa(a,p),d.props=I,G=t.pendingProps,U=d.context,k=a.contextType,A=ol,typeof k=="object"&&k!==null&&(A=ut(k)),S=a.getDerivedStateFromProps,(k=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==G||U!==A)&&Zf(t,d,l,A),Jn=!1,U=t.memoizedState,d.state=U,ys(t,l,d,c),fs();var B=t.memoizedState;p!==G||U!==B||Jn||e!==null&&e.dependencies!==null&&Di(e.dependencies)?(typeof S=="function"&&(co(t,a,S,l),B=t.memoizedState),(I=Jn||Qf(t,a,I,l,U,B,A)||e!==null&&e.dependencies!==null&&Di(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,A)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=B),d.props=l,d.state=B,d.context=A,l=I):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Zi(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Ia(t,e.child,null,c),t.child=Ia(t,null,a,c)):dt(e,t,a,c),t.memoizedState=d.state,e=t.child):e=Cn(e,t,c),e}function o0(e,t,a,l){return _a(),t.flags|=256,dt(e,t,a,l),t.child}var ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mo(e){return{baseLanes:e,cachePool:Jd()}}function go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ut),e}function u0(e,t,a){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?ea(t):ta(),(e=Ie)?(e=py(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:rn,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=qd(e),a.return=t,t.child=a,ot=t,Ie=null)):e=null,e===null)throw Kn(t);return Fo(e)?t.lanes=32:t.lanes=536870912,null}var S=l.children;return l=l.fallback,c?(ta(),c=t.mode,S=Ki({mode:"hidden",children:S},c),l=za(l,c,a,null),S.return=t,l.return=t,S.sibling=l,t.child=S,l=t.child,l.memoizedState=mo(a),l.childLanes=go(e,p,a),t.memoizedState=ho,ps(null,l)):(ea(t),xo(t,S))}var A=e.memoizedState;if(A!==null&&(S=A.dehydrated,S!==null)){if(d)t.flags&256?(ea(t),t.flags&=-257,t=po(e,t,a)):t.memoizedState!==null?(ta(),t.child=e.child,t.flags|=128,t=null):(ta(),S=l.fallback,c=t.mode,l=Ki({mode:"visible",children:l.children},c),S=za(S,c,a,null),S.flags|=2,l.return=t,S.return=t,l.sibling=S,t.child=l,Ia(t,e.child,null,a),l=t.child,l.memoizedState=mo(a),l.childLanes=go(e,p,a),t.memoizedState=ho,t=ps(null,l));else if(ea(t),Fo(S)){if(p=S.nextSibling&&S.nextSibling.dataset,p)var k=p.dgst;p=k,l=Error(i(419)),l.stack="",l.digest=p,is({value:l,source:null,stack:null}),t=po(e,t,a)}else if(et||yl(e,t,a,!1),p=(a&e.childLanes)!==0,et||p){if(p=Ue,p!==null&&(l=Ku(p,a),l!==0&&l!==A.retryLane))throw A.retryLane=l,Oa(e,l),Rt(p,e,l),fo;Jo(S)||lr(),t=po(e,t,a)}else Jo(S)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Ie=Wt(S.nextSibling),ot=t,Ne=!0,Zn=null,Zt=!1,e!==null&&Pd(t,e),t=xo(t,l.children),t.flags|=4096);return t}return c?(ta(),S=l.fallback,c=t.mode,A=e.child,k=A.sibling,l=Sn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,k!==null?S=Sn(k,S):(S=za(S,c,a,null),S.flags|=2),S.return=t,l.return=t,l.sibling=S,t.child=l,ps(null,l),l=t.child,S=e.child.memoizedState,S===null?S=mo(a):(c=S.cachePool,c!==null?(A=Fe._currentValue,c=c.parent!==A?{parent:A,pool:A}:c):c=Jd(),S={baseLanes:S.baseLanes|a,cachePool:c}),l.memoizedState=S,l.childLanes=go(e,p,a),t.memoizedState=ho,ps(e.child,l)):(ea(t),a=e.child,e=a.sibling,a=Sn(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function xo(e,t){return t=Ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ki(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function po(e,t,a){return Ia(t,e.child,null,a),e=xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d0(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Oc(e.return,t,a)}function vo(e,t,a,l,c,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=d)}function f0(e,t,a){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var p=Ke.current,S=(p&2)!==0;if(S?(p=p&1|2,t.flags|=128):p&=1,K(Ke,p),dt(e,t,l,a),l=Ne?ss:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d0(e,a,t);else if(e.tag===19)d0(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&Ui(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),vo(t,!1,c,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ui(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}vo(t,!0,a,null,d,l);break;case"together":vo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Cn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),la|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(yl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=Sn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Sn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function bo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Di(e)))}function Og(e,t,a){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),Wn(t,Fe,e.memoizedState.cache),_a();break;case 27:case 5:Xn(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:Wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(t),t.flags|=128,null):(a&t.child.childLanes)!==0?u0(e,t,a):(ea(t),e=Cn(e,t,a),e!==null?e.sibling:null);ea(t);break;case 19:var c=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(yl(e,t,a,!1),l=(a&t.childLanes)!==0),c){if(l)return f0(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(Ke,Ke.current),l)break;return null;case 22:return t.lanes=0,l0(e,t,a,t.pendingProps);case 24:Wn(t,Fe,e.memoizedState.cache)}return Cn(e,t,a)}function y0(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!bo(e,a)&&(t.flags&128)===0)return et=!1,Og(e,t,a);et=(e.flags&131072)!==0}else et=!1,Ne&&(t.flags&1048576)!==0&&Gd(t,ss,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ba(t.elementType),t.type=e,typeof e=="function")Nc(e)?(l=qa(e,l),t.tag=1,t=c0(null,t,e,l,a)):(t.tag=0,t=yo(null,t,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===H){t.tag=11,t=t0(null,t,e,l,a);break e}else if(c===Q){t.tag=14,t=n0(null,t,e,l,a);break e}}throw t=Je(e)||e,Error(i(306,t,""))}}return t;case 0:return yo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,c=qa(l,t.pendingProps),c0(e,t,l,c,a);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,Hc(e,t),ys(t,l,null,a);var p=t.memoizedState;if(l=p.cache,Wn(t,Fe,l),l!==d.cache&&zc(t,[Fe],a,!0),fs(),l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=o0(e,t,l,a);break e}else if(l!==c){c=Pt(Error(i(424)),t),is(c),t=o0(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=Wt(e.firstChild),ot=t,Ne=!0,Zn=null,Zt=!0,a=af(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_a(),l===c){t=Cn(e,t,a);break e}dt(e,t,l,a)}t=t.child}return t;case 26:return Zi(e,t),e===null?(a=Ny(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,l=dr(ce.current).createElement(a),l[ct]=t,l[Et]=e,ft(l,a,e),it(l),t.stateNode=l):t.memoizedState=Ny(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xn(t),e===null&&Ne&&(l=t.stateNode=Sy(t.type,t.pendingProps,ce.current),ot=t,Zt=!0,c=Ie,oa(t.type)?($o=c,Ie=Wt(l.firstChild)):Ie=c),dt(e,t,t.pendingProps.children,a),Zi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=l=Ie)&&(l=cx(l,t.type,t.pendingProps,Zt),l!==null?(t.stateNode=l,ot=t,Ie=Wt(l.firstChild),Zt=!1,c=!0):c=!1),c||Kn(t)),Xn(t),c=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,l=d.children,Zo(c,d)?l=null:p!==null&&Zo(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Vc(e,t,Mg,null,null,a),zs._currentValue=c),Zi(e,t),dt(e,t,l,a),t.child;case 6:return e===null&&Ne&&((e=a=Ie)&&(a=ox(a,t.pendingProps,Zt),a!==null?(t.stateNode=a,ot=t,Ie=null,e=!0):e=!1),e||Kn(t)),null;case 13:return u0(e,t,a);case 4:return lt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ia(t,null,l,a):dt(e,t,l,a),t.child;case 11:return t0(e,t,t.type,t.pendingProps,a);case 7:return dt(e,t,t.pendingProps,a),t.child;case 8:return dt(e,t,t.pendingProps.children,a),t.child;case 12:return dt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Wn(t,t.type,l.value),dt(e,t,l.children,a),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ka(t),c=ut(c),l=l(c),t.flags|=1,dt(e,t,l,a),t.child;case 14:return n0(e,t,t.type,t.pendingProps,a);case 15:return a0(e,t,t.type,t.pendingProps,a);case 19:return f0(e,t,a);case 31:return Lg(e,t,a);case 22:return l0(e,t,a,t.pendingProps);case 24:return ka(t),l=ut(Fe),e===null?(c=kc(),c===null&&(c=Ue,d=_c(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),t.memoizedState={parent:l,cache:c},Bc(t),Wn(t,Fe,c)):((e.lanes&a)!==0&&(Hc(e,t),ys(t,null,null,a),fs()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Wn(t,Fe,l)):(l=d.cache,Wn(t,Fe,l),l!==c.cache&&zc(t,[Fe],a,!0))),dt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Rn(e){e.flags|=4}function So(e,t,a,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(I0())e.flags|=8192;else throw Ha=zi,Uc}else e.flags&=-16777217}function h0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dy(t))if(I0())e.flags|=8192;else throw Ha=zi,Uc}function Wi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vu():536870912,e.lanes|=t,Tl|=t)}function vs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function zg(e,t,a){var l=t.pendingProps;switch(Rc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Nn(Fe),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fl(t)?Rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jc())),Ye(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(Rn(t),d!==null?(Ye(t),h0(t,d)):(Ye(t),So(t,c,null,l,a))):d?d!==e.memoizedState?(Rn(t),Ye(t),h0(t,d)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Rn(t),Ye(t),So(t,c,e,l,a)),null;case 27:if(xn(t),a=ce.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Rn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}e=W.current,fl(t)?Vd(t):(e=Sy(c,l,a),t.stateNode=e,Rn(t))}return Ye(t),null;case 5:if(xn(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Rn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ye(t),null}if(d=W.current,fl(t))Vd(t);else{var p=dr(ce.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}d[ct]=t,d[Et]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(ft(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Rn(t)}}return Ye(t),So(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Rn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ce.current,fl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,c=ot,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ct]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uy(e.nodeValue,a)),e||Kn(t,!0)}else e=dr(e).createTextNode(l),e[ct]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=fl(t),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ct]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(wt(t),t):(wt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=fl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[ct]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),c=!1}else c=jc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(wt(t),t):(wt(t),null)}return wt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Wi(t,t.updateQueue),Ye(t),null);case 4:return je(),e===null&&Xo(t.stateNode.containerInfo),Ye(t),null;case 10:return Nn(t.type),Ye(t),null;case 19:if(Y(Ke),l=t.memoizedState,l===null)return Ye(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)vs(l,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ui(e),d!==null){for(t.flags|=128,vs(l,!1),e=d.updateQueue,t.updateQueue=e,Wi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Yd(a,e),a=a.sibling;return K(Ke,Ke.current&1|2),Ne&&En(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&mt()>tr&&(t.flags|=128,c=!0,vs(l,!1),t.lanes=4194304)}else{if(!c)if(e=Ui(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Wi(t,e),vs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ne)return Ye(t),null}else 2*mt()-l.renderingStartTime>tr&&a!==536870912&&(t.flags|=128,c=!0,vs(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=mt(),e.sibling=null,a=Ke.current,K(Ke,c?a&1|2:a&1),Ne&&En(t,l.treeForkCount),e):(Ye(t),null);case 22:case 23:return wt(t),Xc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Wi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Y(Ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Nn(Fe),Ye(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function _g(e,t){switch(Rc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(Fe),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xn(t),null;case 31:if(t.memoizedState!==null){if(wt(t),t.alternate===null)throw Error(i(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ke),null;case 4:return je(),null;case 10:return Nn(t.type),null;case 22:case 23:return wt(t),Xc(),e!==null&&Y(Ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Nn(Fe),null;case 25:return null;default:return null}}function m0(e,t){switch(Rc(t),t.tag){case 3:Nn(Fe),je();break;case 26:case 27:case 5:xn(t);break;case 4:je();break;case 31:t.memoizedState!==null&&wt(t);break;case 13:wt(t);break;case 19:Y(Ke);break;case 10:Nn(t.type);break;case 22:case 23:wt(t),Xc(),e!==null&&Y(Ua);break;case 24:Nn(Fe)}}function bs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var d=a.create,p=a.inst;l=d(),p.destroy=l}a=a.next}while(a!==c)}}catch(S){ze(t,t.return,S)}}function na(e,t,a){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var p=l.inst,S=p.destroy;if(S!==void 0){p.destroy=void 0,c=t;var A=a,k=S;try{k()}catch(I){ze(c,A,I)}}}l=l.next}while(l!==d)}}catch(I){ze(t,t.return,I)}}function g0(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{sf(t,a)}catch(l){ze(e,e.return,l)}}}function x0(e,t,a){a.props=qa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ze(e,t,l)}}function Ss(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){ze(e,t,c)}}function on(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ze(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ze(e,t,c)}else a.current=null}function p0(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ze(e,e.return,c)}}function Eo(e,t,a){try{var l=e.stateNode;nx(l,e.type,a,t),l[Et]=t}catch(c){ze(e,e.return,c)}}function v0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oa(e.type)||e.tag===4}function Mo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=vn));else if(l!==4&&(l===27&&oa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(No(e,t,a),e=e.sibling;e!==null;)No(e,t,a),e=e.sibling}function Ji(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&oa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ji(e,t,a),e=e.sibling;e!==null;)Ji(e,t,a),e=e.sibling}function b0(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ft(t,l,a),t[ct]=e,t[Et]=a}catch(d){ze(e,e.return,d)}}var Dn=!1,tt=!1,To=!1,S0=typeof WeakSet=="function"?WeakSet:Set,rt=null;function wg(e,t){if(e=e.containerInfo,Vo=pr,e=Od(e),xc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,S=-1,A=-1,k=0,I=0,G=e,U=null;t:for(;;){for(var B;G!==a||c!==0&&G.nodeType!==3||(S=p+c),G!==d||l!==0&&G.nodeType!==3||(A=p+l),G.nodeType===3&&(p+=G.nodeValue.length),(B=G.firstChild)!==null;)U=G,G=B;for(;;){if(G===e)break t;if(U===a&&++k===c&&(S=p),U===d&&++I===l&&(A=p),(B=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=B}a=S===-1||A===-1?null:{start:S,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qo={focusedElem:e,selectionRange:a},pr=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,c=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var $=qa(a.type,c);e=l.getSnapshotBeforeUpdate($,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(re){ze(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Wo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function E0(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(e,a),l&4&&bs(5,a);break;case 1:if(Ln(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){ze(a,a.return,p)}else{var c=qa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ze(a,a.return,p)}}l&64&&g0(a),l&512&&Ss(a,a.return);break;case 3:if(Ln(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{sf(e,t)}catch(p){ze(a,a.return,p)}}break;case 27:t===null&&l&4&&b0(a);case 26:case 5:Ln(e,a),t===null&&l&4&&p0(a),l&512&&Ss(a,a.return);break;case 12:Ln(e,a);break;case 31:Ln(e,a),l&4&&T0(e,a);break;case 13:Ln(e,a),l&4&&A0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Gg.bind(null,a),ux(e,a))));break;case 22:if(l=a.memoizedState!==null||Dn,!l){t=t!==null&&t.memoizedState!==null||tt,c=Dn;var d=tt;Dn=l,(tt=t)&&!d?On(e,a,(a.subtreeFlags&8772)!==0):Ln(e,a),Dn=c,tt=d}break;case 30:break;default:Ln(e,a)}}function M0(e){var t=e.alternate;t!==null&&(e.alternate=null,M0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ec(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Nt=!1;function jn(e,t,a){for(a=a.child;a!==null;)N0(e,t,a),a=a.sibling}function N0(e,t,a){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(J,a)}catch{}switch(a.tag){case 26:tt||on(a,t),jn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||on(a,t);var l=Ge,c=Nt;oa(a.type)&&(Ge=a.stateNode,Nt=!1),jn(e,t,a),js(a.stateNode),Ge=l,Nt=c;break;case 5:tt||on(a,t);case 6:if(l=Ge,c=Nt,Ge=null,jn(e,t,a),Ge=l,Nt=c,Ge!==null)if(Nt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(d){ze(a,t,d)}else try{Ge.removeChild(a.stateNode)}catch(d){ze(a,t,d)}break;case 18:Ge!==null&&(Nt?(e=Ge,gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zl(e)):gy(Ge,a.stateNode));break;case 4:l=Ge,c=Nt,Ge=a.stateNode.containerInfo,Nt=!0,jn(e,t,a),Ge=l,Nt=c;break;case 0:case 11:case 14:case 15:na(2,a,t),tt||na(4,a,t),jn(e,t,a);break;case 1:tt||(on(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&x0(a,t,l)),jn(e,t,a);break;case 21:jn(e,t,a);break;case 22:tt=(l=tt)||a.memoizedState!==null,jn(e,t,a),tt=l;break;default:jn(e,t,a)}}function T0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zl(e)}catch(a){ze(t,t.return,a)}}}function A0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zl(e)}catch(a){ze(t,t.return,a)}}function kg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new S0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new S0),t;default:throw Error(i(435,e.tag))}}function Fi(e,t){var a=kg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var c=Pg.bind(null,e,l);l.then(c,c)}})}function Tt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],d=e,p=t,S=p;e:for(;S!==null;){switch(S.tag){case 27:if(oa(S.type)){Ge=S.stateNode,Nt=!1;break e}break;case 5:Ge=S.stateNode,Nt=!1;break e;case 3:case 4:Ge=S.stateNode.containerInfo,Nt=!0;break e}S=S.return}if(Ge===null)throw Error(i(160));N0(d,p,c),Ge=null,Nt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)C0(t,e),t=t.sibling}var nn=null;function C0(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),At(e),l&4&&(na(3,e,e.return),bs(3,e),na(5,e,e.return));break;case 1:Tt(t,e),At(e),l&512&&(tt||a===null||on(a,a.return)),l&64&&Dn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=nn;if(Tt(t,e),At(e),l&512&&(tt||a===null||on(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Zl]||d[ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),ft(d,l,a),d[ct]=e,it(d),l=d;break e;case"link":var p=Cy("link","href",c).get(l+(a.href||""));if(p){for(var S=0;S<p.length;S++)if(d=p[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(S,1);break t}}d=c.createElement(l),ft(d,l,a),c.head.appendChild(d);break;case"meta":if(p=Cy("meta","content",c).get(l+(a.content||""))){for(S=0;S<p.length;S++)if(d=p[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(S,1);break t}}d=c.createElement(l),ft(d,l,a),c.head.appendChild(d);break;default:throw Error(i(468,l))}d[ct]=e,it(d),l=d}e.stateNode=l}else Ry(c,e.type,e.stateNode);else e.stateNode=Ay(c,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ry(c,e.type,e.stateNode):Ay(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Eo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tt(t,e),At(e),l&512&&(tt||a===null||on(a,a.return)),a!==null&&l&4&&Eo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tt(t,e),At(e),l&512&&(tt||a===null||on(a,a.return)),e.flags&32){c=e.stateNode;try{nl(c,"")}catch($){ze(e,e.return,$)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Eo(e,c,a!==null?a.memoizedProps:c)),l&1024&&(To=!0);break;case 6:if(Tt(t,e),At(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch($){ze(e,e.return,$)}}break;case 3:if(hr=null,c=nn,nn=fr(t.containerInfo),Tt(t,e),nn=c,At(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(t.containerInfo)}catch($){ze(e,e.return,$)}To&&(To=!1,R0(e));break;case 4:l=nn,nn=fr(e.stateNode.containerInfo),Tt(t,e),At(e),nn=l;break;case 12:Tt(t,e),At(e);break;case 31:Tt(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fi(e,l)));break;case 13:Tt(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(er=mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fi(e,l)));break;case 22:c=e.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,k=Dn,I=tt;if(Dn=k||c,tt=I||A,Tt(t,e),tt=I,Dn=k,At(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||A||Dn||tt||Xa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){A=a=t;try{if(d=A.stateNode,c)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{S=A.stateNode;var G=A.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;S.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch($){ze(A,A.return,$)}}}else if(t.tag===6){if(a===null){A=t;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch($){ze(A,A.return,$)}}}else if(t.tag===18){if(a===null){A=t;try{var B=A.stateNode;c?xy(B,!0):xy(A.stateNode,!1)}catch($){ze(A,A.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Fi(e,a))));break;case 19:Tt(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fi(e,l)));break;case 30:break;case 21:break;default:Tt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(v0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var c=a.stateNode,d=Mo(e);Ji(e,d,c);break;case 5:var p=a.stateNode;a.flags&32&&(nl(p,""),a.flags&=-33);var S=Mo(e);Ji(e,S,p);break;case 3:case 4:var A=a.stateNode.containerInfo,k=Mo(e);No(e,k,A);break;default:throw Error(i(161))}}catch(I){ze(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;R0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ln(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)E0(e,t.alternate,t),t=t.sibling}function Xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:na(4,t,t.return),Xa(t);break;case 1:on(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&x0(t,t.return,a),Xa(t);break;case 27:js(t.stateNode);case 26:case 5:on(t,t.return),Xa(t);break;case 22:t.memoizedState===null&&Xa(t);break;case 30:Xa(t);break;default:Xa(t)}e=e.sibling}}function On(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:On(c,d,a),bs(4,d);break;case 1:if(On(c,d,a),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){ze(l,l.return,k)}if(l=d,c=l.updateQueue,c!==null){var S=l.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)lf(A[c],S)}catch(k){ze(l,l.return,k)}}a&&p&64&&g0(d),Ss(d,d.return);break;case 27:b0(d);case 26:case 5:On(c,d,a),a&&l===null&&p&4&&p0(d),Ss(d,d.return);break;case 12:On(c,d,a);break;case 31:On(c,d,a),a&&p&4&&T0(c,d);break;case 13:On(c,d,a),a&&p&4&&A0(c,d);break;case 22:d.memoizedState===null&&On(c,d,a),Ss(d,d.return);break;case 30:break;default:On(c,d,a)}t=t.sibling}}function Ao(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rs(a))}function Co(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e))}function an(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D0(e,t,a,l),t=t.sibling}function D0(e,t,a,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,a,l),c&2048&&bs(9,t);break;case 1:an(e,t,a,l);break;case 3:an(e,t,a,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e)));break;case 12:if(c&2048){an(e,t,a,l),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,S=d.onPostCommit;typeof S=="function"&&S(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ze(t,t.return,A)}}else an(e,t,a,l);break;case 31:an(e,t,a,l);break;case 13:an(e,t,a,l);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?an(e,t,a,l):Es(e,t):d._visibility&2?an(e,t,a,l):(d._visibility|=2,El(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Ao(p,t);break;case 24:an(e,t,a,l),c&2048&&Co(t.alternate,t);break;default:an(e,t,a,l)}}function El(e,t,a,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,S=a,A=l,k=p.flags;switch(p.tag){case 0:case 11:case 15:El(d,p,S,A,c),bs(8,p);break;case 23:break;case 22:var I=p.stateNode;p.memoizedState!==null?I._visibility&2?El(d,p,S,A,c):Es(d,p):(I._visibility|=2,El(d,p,S,A,c)),c&&k&2048&&Ao(p.alternate,p);break;case 24:El(d,p,S,A,c),c&&k&2048&&Co(p.alternate,p);break;default:El(d,p,S,A,c)}t=t.sibling}}function Es(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,c=l.flags;switch(l.tag){case 22:Es(a,l),c&2048&&Ao(l.alternate,l);break;case 24:Es(a,l),c&2048&&Co(l.alternate,l);break;default:Es(a,l)}t=t.sibling}}var Ms=8192;function Ml(e,t,a){if(e.subtreeFlags&Ms)for(e=e.child;e!==null;)j0(e,t,a),e=e.sibling}function j0(e,t,a){switch(e.tag){case 26:Ml(e,t,a),e.flags&Ms&&e.memoizedState!==null&&Ex(a,nn,e.memoizedState,e.memoizedProps);break;case 5:Ml(e,t,a);break;case 3:case 4:var l=nn;nn=fr(e.stateNode.containerInfo),Ml(e,t,a),nn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ms,Ms=16777216,Ml(e,t,a),Ms=l):Ml(e,t,a));break;default:Ml(e,t,a)}}function L0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ns(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];rt=l,z0(l,e)}L0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)O0(e),e=e.sibling}function O0(e){switch(e.tag){case 0:case 11:case 15:Ns(e),e.flags&2048&&na(9,e,e.return);break;case 3:Ns(e);break;case 12:Ns(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$i(e)):Ns(e);break;default:Ns(e)}}function $i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];rt=l,z0(l,e)}L0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:na(8,t,t.return),$i(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,$i(t));break;default:$i(t)}e=e.sibling}}function z0(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:na(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rt=l;else e:for(a=e;rt!==null;){l=rt;var c=l.sibling,d=l.return;if(M0(l),l===a){rt=null;break e}if(c!==null){c.return=d,rt=c;break e}rt=d}}}var Ug={getCacheForType:function(e){var t=ut(Fe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(Fe).controller.signal}},Bg=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ue=null,be=null,Ee=0,Oe=0,kt=null,aa=!1,Nl=!1,Ro=!1,zn=0,Ze=0,la=0,Ga=0,Do=0,Ut=0,Tl=0,Ts=null,Ct=null,jo=!1,er=0,_0=0,tr=1/0,nr=null,sa=null,st=0,ia=null,Al=null,_n=0,Lo=0,Oo=null,w0=null,As=0,zo=null;function Bt(){return(Le&2)!==0&&Ee!==0?Ee&-Ee:_.T!==null?Ho():Wu()}function k0(){if(Ut===0)if((Ee&536870912)===0||Ne){var e=Aa;Aa<<=1,(Aa&3932160)===0&&(Aa=262144),Ut=e}else Ut=536870912;return e=_t.current,e!==null&&(e.flags|=32),Ut}function Rt(e,t,a){(e===Ue&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Cl(e,0),ra(e,Ee,Ut,!1)),Ql(e,a),((Le&2)===0||e!==Ue)&&(e===Ue&&((Le&2)===0&&(Ga|=a),Ze===4&&ra(e,Ee,Ut,!1)),un(e))}function U0(e,t,a){if((Le&6)!==0)throw Error(i(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Vl(e,t),c=l?Yg(e,t):wo(e,t,!0),d=l;do{if(c===0){Nl&&!l&&ra(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Hg(a)){c=wo(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var S=e;c=Ts;var A=S.current.memoizedState.isDehydrated;if(A&&(Cl(S,p).flags|=256),p=wo(S,p,!1),p!==2){if(Ro&&!A){S.errorRecoveryDisabledLanes|=d,Ga|=d,c=4;break e}d=Ct,Ct=c,d!==null&&(Ct===null?Ct=d:Ct.push.apply(Ct,d))}c=p}if(d=!1,c!==2)continue}}if(c===1){Cl(e,0),ra(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ra(l,t,Ut,!aa);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=er+300-mt(),10<c)){if(ra(l,t,Ut,!aa),fi(l,0,!0)!==0)break e;_n=t,l.timeoutHandle=hy(B0.bind(null,l,a,Ct,nr,jo,t,Ut,Ga,Tl,aa,d,"Throttled",-0,0),c);break e}B0(l,a,Ct,nr,jo,t,Ut,Ga,Tl,aa,d,null,-0,0)}}break}while(!0);un(e)}function B0(e,t,a,l,c,d,p,S,A,k,I,G,U,B){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},j0(t,d,G);var $=(d&62914560)===d?er-mt():(d&4194048)===d?_0-mt():0;if($=Mx(G,$),$!==null){_n=d,e.cancelPendingCommit=$(V0.bind(null,e,t,d,a,l,c,p,S,A,I,G,null,U,B)),ra(e,d,p,!k);return}}V0(e,t,d,a,l,c,p,S,A)}function Hg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],d=c.getSnapshot;c=c.value;try{if(!Ot(d(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t,a,l){t&=~Do,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-Xe(c),p=1<<d;l[d]=-1,c&=~p}a!==0&&Qu(e,a,t)}function ar(){return(Le&6)===0?(Cs(0),!1):!0}function _o(){if(be!==null){if(Oe===0)var e=be.return;else e=be,Mn=wa=null,Kc(e),xl=null,os=0,e=be;for(;e!==null;)m0(e.alternate,e),e=e.return;be=null}}function Cl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_n=0,_o(),Ue=e,be=a=Sn(e.current,null),Ee=t,Oe=0,kt=null,aa=!1,Nl=Vl(e,t),Ro=!1,Tl=Ut=Do=Ga=la=Ze=0,Ct=Ts=null,jo=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Xe(l),d=1<<c;t|=e[c],l&=~d}return zn=t,Ni(),a}function H0(e,t){ye=null,_.H=xs,t===gl||t===Oi?(t=ef(),Oe=3):t===Uc?(t=ef(),Oe=4):Oe=t===fo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,be===null&&(Ze=1,Vi(e,Pt(t,e.current)))}function I0(){var e=_t.current;return e===null?!0:(Ee&4194048)===Ee?Kt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Kt:!1}function Y0(){var e=_.H;return _.H=xs,e===null?xs:e}function q0(){var e=_.A;return _.A=Ug,e}function lr(){Ze=4,aa||(Ee&4194048)!==Ee&&_t.current!==null||(Nl=!0),(la&134217727)===0&&(Ga&134217727)===0||Ue===null||ra(Ue,Ee,Ut,!1)}function wo(e,t,a){var l=Le;Le|=2;var c=Y0(),d=q0();(Ue!==e||Ee!==t)&&(nr=null,Cl(e,t)),t=!1;var p=Ze;e:do try{if(Oe!==0&&be!==null){var S=be,A=kt;switch(Oe){case 8:_o(),p=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var k=Oe;if(Oe=0,kt=null,Rl(e,S,A,k),a&&Nl){p=0;break e}break;default:k=Oe,Oe=0,kt=null,Rl(e,S,A,k)}}Ig(),p=Ze;break}catch(I){H0(e,I)}while(!0);return t&&e.shellSuspendCounter++,Mn=wa=null,Le=l,_.H=c,_.A=d,be===null&&(Ue=null,Ee=0,Ni()),p}function Ig(){for(;be!==null;)X0(be)}function Yg(e,t){var a=Le;Le|=2;var l=Y0(),c=q0();Ue!==e||Ee!==t?(nr=null,tr=mt()+500,Cl(e,t)):Nl=Vl(e,t);e:do try{if(Oe!==0&&be!==null){t=be;var d=kt;t:switch(Oe){case 1:Oe=0,kt=null,Rl(e,t,d,1);break;case 2:case 9:if(Fd(d)){Oe=0,kt=null,G0(t);break}t=function(){Oe!==2&&Oe!==9||Ue!==e||(Oe=7),un(e)},d.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Fd(d)?(Oe=0,kt=null,G0(t)):(Oe=0,kt=null,Rl(e,t,d,7));break;case 5:var p=null;switch(be.tag){case 26:p=be.memoizedState;case 5:case 27:var S=be;if(p?Dy(p):S.stateNode.complete){Oe=0,kt=null;var A=S.sibling;if(A!==null)be=A;else{var k=S.return;k!==null?(be=k,sr(k)):be=null}break t}}Oe=0,kt=null,Rl(e,t,d,5);break;case 6:Oe=0,kt=null,Rl(e,t,d,6);break;case 8:_o(),Ze=6;break e;default:throw Error(i(462))}}qg();break}catch(I){H0(e,I)}while(!0);return Mn=wa=null,_.H=l,_.A=c,Le=a,be!==null?0:(Ue=null,Ee=0,Ni(),Ze)}function qg(){for(;be!==null&&!Pr();)X0(be)}function X0(e){var t=y0(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?sr(e):be=t}function G0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=r0(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=r0(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Kc(t);default:m0(a,t),t=be=Yd(t,zn),t=y0(a,t,zn)}e.memoizedProps=e.pendingProps,t===null?sr(e):be=t}function Rl(e,t,a,l){Mn=wa=null,Kc(t),xl=null,os=0;var c=t.return;try{if(jg(e,c,t,a,Ee)){Ze=1,Vi(e,Pt(a,e.current)),be=null;return}}catch(d){if(c!==null)throw be=c,d;Ze=1,Vi(e,Pt(a,e.current)),be=null;return}t.flags&32768?(Ne||l===1?e=!0:Nl||(Ee&536870912)!==0?e=!1:(aa=e=!0,(l===2||l===9||l===3||l===6)&&(l=_t.current,l!==null&&l.tag===13&&(l.flags|=16384))),P0(t,e)):sr(t)}function sr(e){var t=e;do{if((t.flags&32768)!==0){P0(t,aa);return}e=t.return;var a=zg(t.alternate,t,zn);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ze===0&&(Ze=5)}function P0(e,t){do{var a=_g(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Ze=6,be=null}function V0(e,t,a,l,c,d,p,S,A){e.cancelPendingCommit=null;do ir();while(st!==0);if((Le&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(d=t.lanes|t.childLanes,d|=Ec,Sm(e,a,d,p,S,A),e===Ue&&(be=Ue=null,Ee=0),Al=t,ia=e,_n=a,Lo=d,Oo=c,w0=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vg(Ka,function(){return J0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=_.T,_.T=null,c=Z.p,Z.p=2,p=Le,Le|=4;try{wg(e,t,a)}finally{Le=p,Z.p=c,_.T=l}}st=1,Q0(),Z0(),K0()}}function Q0(){if(st===1){st=0;var e=ia,t=Al,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=_.T,_.T=null;var l=Z.p;Z.p=2;var c=Le;Le|=4;try{C0(t,e);var d=Qo,p=Od(e.containerInfo),S=d.focusedElem,A=d.selectionRange;if(p!==S&&S&&S.ownerDocument&&Ld(S.ownerDocument.documentElement,S)){if(A!==null&&xc(S)){var k=A.start,I=A.end;if(I===void 0&&(I=k),"selectionStart"in S)S.selectionStart=k,S.selectionEnd=Math.min(I,S.value.length);else{var G=S.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var B=U.getSelection(),$=S.textContent.length,re=Math.min(A.start,$),ke=A.end===void 0?re:Math.min(A.end,$);!B.extend&&re>ke&&(p=ke,ke=re,re=p);var L=jd(S,re),j=jd(S,ke);if(L&&j&&(B.rangeCount!==1||B.anchorNode!==L.node||B.anchorOffset!==L.offset||B.focusNode!==j.node||B.focusOffset!==j.offset)){var w=G.createRange();w.setStart(L.node,L.offset),B.removeAllRanges(),re>ke?(B.addRange(w),B.extend(j.node,j.offset)):(w.setEnd(j.node,j.offset),B.addRange(w))}}}}for(G=[],B=S;B=B.parentNode;)B.nodeType===1&&G.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<G.length;S++){var q=G[S];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}pr=!!Vo,Qo=Vo=null}finally{Le=c,Z.p=l,_.T=a}}e.current=t,st=2}}function Z0(){if(st===2){st=0;var e=ia,t=Al,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=_.T,_.T=null;var l=Z.p;Z.p=2;var c=Le;Le|=4;try{E0(e,t.alternate,t)}finally{Le=c,Z.p=l,_.T=a}}st=3}}function K0(){if(st===4||st===3){st=0,Vr();var e=ia,t=Al,a=_n,l=w0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,Al=ia=null,W0(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(sa=null),Fr(a),t=t.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(J,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=_.T,c=Z.p,Z.p=2,_.T=null;try{for(var d=e.onRecoverableError,p=0;p<l.length;p++){var S=l[p];d(S.value,{componentStack:S.stack})}}finally{_.T=t,Z.p=c}}(_n&3)!==0&&ir(),un(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===zo?As++:(As=0,zo=e):As=0,Cs(0)}}function W0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rs(t)))}function ir(){return Q0(),Z0(),K0(),J0()}function J0(){if(st!==5)return!1;var e=ia,t=Lo;Lo=0;var a=Fr(_n),l=_.T,c=Z.p;try{Z.p=32>a?32:a,_.T=null,a=Oo,Oo=null;var d=ia,p=_n;if(st=0,Al=ia=null,_n=0,(Le&6)!==0)throw Error(i(331));var S=Le;if(Le|=4,O0(d.current),D0(d,d.current,p,a),Le=S,Cs(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(J,d)}catch{}return!0}finally{Z.p=c,_.T=l,W0(e,t)}}function F0(e,t,a){t=Pt(a,t),t=uo(e.stateNode,t,2),e=$n(e,t,2),e!==null&&(Ql(e,2),un(e))}function ze(e,t,a){if(e.tag===3)F0(e,e,a);else for(;t!==null;){if(t.tag===3){F0(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sa===null||!sa.has(l))){e=Pt(a,e),a=$f(2),l=$n(t,a,2),l!==null&&(e0(a,l,t,e),Ql(l,2),un(l));break}}t=t.return}}function ko(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Bg;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(a)||(Ro=!0,c.add(a),e=Xg.bind(null,e,t,a),t.then(e,e))}function Xg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(Ee&a)===a&&(Ze===4||Ze===3&&(Ee&62914560)===Ee&&300>mt()-er?(Le&2)===0&&Cl(e,0):Do|=a,Tl===Ee&&(Tl=0)),un(e)}function $0(e,t){t===0&&(t=Vu()),e=Oa(e,t),e!==null&&(Ql(e,t),un(e))}function Gg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$0(e,a)}function Pg(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),$0(e,a)}function Vg(e,t){return Za(e,t)}var rr=null,Dl=null,Uo=!1,cr=!1,Bo=!1,ca=0;function un(e){e!==Dl&&e.next===null&&(Dl===null?rr=Dl=e:Dl=Dl.next=e),cr=!0,Uo||(Uo=!0,Zg())}function Cs(e,t){if(!Bo&&cr){Bo=!0;do for(var a=!1,l=rr;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var p=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Xe(42|e)+1)-1,d&=c&~(p&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ay(l,d))}else d=Ee,d=fi(l,l===Ue?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Vl(l,d)||(a=!0,ay(l,d));l=l.next}while(a);Bo=!1}}function Qg(){ey()}function ey(){cr=Uo=!1;var e=0;ca!==0&&lx()&&(e=ca);for(var t=mt(),a=null,l=rr;l!==null;){var c=l.next,d=ty(l,t);d===0?(l.next=null,a===null?rr=c:a.next=c,c===null&&(Dl=a)):(a=l,(e!==0||(d&3)!==0)&&(cr=!0)),l=c}st!==0&&st!==5||Cs(e),ca!==0&&(ca=0)}function ty(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-Xe(d),S=1<<p,A=c[p];A===-1?((S&a)===0||(S&l)!==0)&&(c[p]=bm(S,t)):A<=t&&(e.expiredLanes|=S),d&=~S}if(t=Ue,a=Ee,a=fi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Gn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Vl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Gn(l),Fr(a)){case 2:case 8:a=ri;break;case 32:a=Ka;break;case 268435456:a=ci;break;default:a=Ka}return l=ny.bind(null,e),a=Za(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Gn(l),e.callbackPriority=2,e.callbackNode=null,2}function ny(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ir()&&e.callbackNode!==a)return null;var l=Ee;return l=fi(e,e===Ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(U0(e,l,t),ty(e,mt()),e.callbackNode!=null&&e.callbackNode===a?ny.bind(null,e):null)}function ay(e,t){if(ir())return null;U0(e,t,!0)}function Zg(){ix(function(){(Le&6)!==0?Za(ii,Qg):ey()})}function Ho(){if(ca===0){var e=hl;e===0&&(e=Ta,Ta<<=1,(Ta&261888)===0&&(Ta=256)),ca=e}return ca}function ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gi(""+e)}function sy(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Kg(e,t,a,l,c){if(t==="submit"&&a&&a.stateNode===c){var d=ly((c[Et]||null).action),p=l.submitter;p&&(t=(t=p[Et]||null)?ly(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var S=new bi("action","action",null,l,c);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var A=p?sy(c,p):new FormData(c);lo(a,{pending:!0,data:A,method:c.method,action:d},null,A)}}else typeof d=="function"&&(S.preventDefault(),A=p?sy(c,p):new FormData(c),lo(a,{pending:!0,data:A,method:c.method,action:d},d,A))},currentTarget:c}]})}}for(var Io=0;Io<Sc.length;Io++){var Yo=Sc[Io],Wg=Yo.toLowerCase(),Jg=Yo[0].toUpperCase()+Yo.slice(1);tn(Wg,"on"+Jg)}tn(wd,"onAnimationEnd"),tn(kd,"onAnimationIteration"),tn(Ud,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(yg,"onTransitionRun"),tn(hg,"onTransitionStart"),tn(mg,"onTransitionCancel"),tn(Bd,"onTransitionEnd"),el("onMouseEnter",["mouseout","mouseover"]),el("onMouseLeave",["mouseout","mouseover"]),el("onPointerEnter",["pointerout","pointerover"]),el("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function iy(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var p=l.length-1;0<=p;p--){var S=l[p],A=S.instance,k=S.currentTarget;if(S=S.listener,A!==d&&c.isPropagationStopped())break e;d=S,c.currentTarget=k;try{d(c)}catch(I){Mi(I)}c.currentTarget=null,d=A}else for(p=0;p<l.length;p++){if(S=l[p],A=S.instance,k=S.currentTarget,S=S.listener,A!==d&&c.isPropagationStopped())break e;d=S,c.currentTarget=k;try{d(c)}catch(I){Mi(I)}c.currentTarget=null,d=A}}}}function Se(e,t){var a=t[$r];a===void 0&&(a=t[$r]=new Set);var l=e+"__bubble";a.has(l)||(ry(t,e,2,!1),a.add(l))}function qo(e,t,a){var l=0;t&&(l|=4),ry(a,e,l,t)}var or="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[or]){e[or]=!0,$u.forEach(function(a){a!=="selectionchange"&&(Fg.has(a)||qo(a,!1,e),qo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[or]||(t[or]=!0,qo("selectionchange",!1,t))}}function ry(e,t,a,l){switch(ky(t)){case 2:var c=Ax;break;case 8:c=Cx;break;default:c=lu}a=c.bind(null,t,a,e),c=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Go(e,t,a,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var S=l.stateNode.containerInfo;if(S===c)break;if(p===4)for(p=l.return;p!==null;){var A=p.tag;if((A===3||A===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;S!==null;){if(p=Ja(S),p===null)return;if(A=p.tag,A===5||A===6||A===26||A===27){l=d=p;continue e}S=S.parentNode}}l=l.return}dd(function(){var k=d,I=ic(a),G=[];e:{var U=Hd.get(e);if(U!==void 0){var B=bi,$=e;switch(e){case"keypress":if(pi(a)===0)break e;case"keydown":case"keyup":B=Pm;break;case"focusin":$="focus",B=fc;break;case"focusout":$="blur",B=fc;break;case"beforeblur":case"afterblur":B=fc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Zm;break;case wd:case kd:case Ud:B=km;break;case Bd:B=Wm;break;case"scroll":case"scrollend":B=Lm;break;case"wheel":B=Fm;break;case"copy":case"cut":case"paste":B=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=gd;break;case"toggle":case"beforetoggle":B=eg}var re=(t&4)!==0,ke=!re&&(e==="scroll"||e==="scrollend"),L=re?U!==null?U+"Capture":null:U;re=[];for(var j=k,w;j!==null;){var q=j;if(w=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||w===null||L===null||(q=Wl(j,L),q!=null&&re.push(Ds(j,q,w))),ke)break;j=j.return}0<re.length&&(U=new B(U,$,null,a,I),G.push({event:U,listeners:re}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",U&&a!==sc&&($=a.relatedTarget||a.fromElement)&&(Ja($)||$[Wa]))break e;if((B||U)&&(U=I.window===I?I:(U=I.ownerDocument)?U.defaultView||U.parentWindow:window,B?($=a.relatedTarget||a.toElement,B=k,$=$?Ja($):null,$!==null&&(ke=u($),re=$.tag,$!==ke||re!==5&&re!==27&&re!==6)&&($=null)):(B=null,$=k),B!==$)){if(re=hd,q="onMouseLeave",L="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(re=gd,q="onPointerLeave",L="onPointerEnter",j="pointer"),ke=B==null?U:Kl(B),w=$==null?U:Kl($),U=new re(q,j+"leave",B,a,I),U.target=ke,U.relatedTarget=w,q=null,Ja(I)===k&&(re=new re(L,j+"enter",$,a,I),re.target=w,re.relatedTarget=ke,q=re),ke=q,B&&$)t:{for(re=$g,L=B,j=$,w=0,q=L;q;q=re(q))w++;q=0;for(var se=j;se;se=re(se))q++;for(;0<w-q;)L=re(L),w--;for(;0<q-w;)j=re(j),q--;for(;w--;){if(L===j||j!==null&&L===j.alternate){re=L;break t}L=re(L),j=re(j)}re=null}else re=null;B!==null&&cy(G,U,B,re,!1),$!==null&&ke!==null&&cy(G,ke,$,re,!0)}}e:{if(U=k?Kl(k):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var Re=Nd;else if(Ed(U))if(Td)Re=ug;else{Re=cg;var ne=rg}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?k&&lc(k.elementType)&&(Re=Nd):Re=og;if(Re&&(Re=Re(e,k))){Md(G,Re,a,I);break e}ne&&ne(e,U,k),e==="focusout"&&k&&U.type==="number"&&k.memoizedProps.value!=null&&ac(U,"number",U.value)}switch(ne=k?Kl(k):window,e){case"focusin":(Ed(ne)||ne.contentEditable==="true")&&(il=ne,pc=k,ls=null);break;case"focusout":ls=pc=il=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,zd(G,a,I);break;case"selectionchange":if(fg)break;case"keydown":case"keyup":zd(G,a,I)}var ge;if(hc)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else sl?bd(e,a)&&(Me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(xd&&a.locale!=="ko"&&(sl||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&sl&&(ge=fd()):(Vn=I,oc="value"in Vn?Vn.value:Vn.textContent,sl=!0)),ne=ur(k,Me),0<ne.length&&(Me=new md(Me,e,null,a,I),G.push({event:Me,listeners:ne}),ge?Me.data=ge:(ge=Sd(a),ge!==null&&(Me.data=ge)))),(ge=ng?ag(e,a):lg(e,a))&&(Me=ur(k,"onBeforeInput"),0<Me.length&&(ne=new md("onBeforeInput","beforeinput",null,a,I),G.push({event:ne,listeners:Me}),ne.data=ge)),Kg(G,e,k,a,I)}iy(G,t)})}function Ds(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ur(e,t){for(var a=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Wl(e,a),c!=null&&l.unshift(Ds(e,c,d)),c=Wl(e,t),c!=null&&l.push(Ds(e,c,d))),e.tag===3)return l;e=e.return}return[]}function $g(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cy(e,t,a,l,c){for(var d=t._reactName,p=[];a!==null&&a!==l;){var S=a,A=S.alternate,k=S.stateNode;if(S=S.tag,A!==null&&A===l)break;S!==5&&S!==26&&S!==27||k===null||(A=k,c?(k=Wl(a,d),k!=null&&p.unshift(Ds(a,k,A))):c||(k=Wl(a,d),k!=null&&p.push(Ds(a,k,A)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var ex=/\r\n?/g,tx=/\u0000|\uFFFD/g;function oy(e){return(typeof e=="string"?e:""+e).replace(ex,`
`).replace(tx,"")}function uy(e,t){return t=oy(t),oy(e)===t}function we(e,t,a,l,c,d){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||nl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&nl(e,""+l);break;case"className":hi(e,"class",l);break;case"tabIndex":hi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(e,a,l);break;case"style":od(e,l,d);break;case"data":if(t!=="object"){hi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=gi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&we(e,t,"name",c.name,c,null),we(e,t,"formEncType",c.formEncType,c,null),we(e,t,"formMethod",c.formMethod,c,null),we(e,t,"formTarget",c.formTarget,c,null)):(we(e,t,"encType",c.encType,c,null),we(e,t,"method",c.method,c,null),we(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=gi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=vn);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=gi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),yi(e,"popover",l);break;case"xlinkActuate":pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dm.get(a)||a,yi(e,a,l))}}function Po(e,t,a,l,c,d){switch(a){case"style":od(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?nl(e,l):(typeof l=="number"||typeof l=="bigint")&&nl(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ed.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),d=e[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):yi(e,a,l)}}}function ft(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:we(e,t,d,p,a,null)}}c&&we(e,t,"srcSet",a.srcSet,a,null),l&&we(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var S=d=p=c=null,A=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var I=a[l];if(I!=null)switch(l){case"name":c=I;break;case"type":p=I;break;case"checked":A=I;break;case"defaultChecked":k=I;break;case"value":d=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,t));break;default:we(e,t,l,I,a,null)}}sd(e,d,S,A,k,p,c,!1);return;case"select":Se("invalid",e),l=p=d=null;for(c in a)if(a.hasOwnProperty(c)&&(S=a[c],S!=null))switch(c){case"value":d=S;break;case"defaultValue":p=S;break;case"multiple":l=S;default:we(e,t,c,S,a,null)}t=d,a=p,e.multiple=!!l,t!=null?tl(e,!!l,t,!1):a!=null&&tl(e,!!l,a,!0);return;case"textarea":Se("invalid",e),d=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(S=a[p],S!=null))switch(p){case"value":l=S;break;case"defaultValue":c=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:we(e,t,p,S,a,null)}rd(e,l,c,d);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:we(e,t,A,l,a,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<Rs.length;l++)Se(Rs[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:we(e,t,k,l,a,null)}return;default:if(lc(t)){for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!==void 0&&Po(e,t,I,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&we(e,t,S,l,a,null))}function nx(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,p=null,S=null,A=null,k=null,I=null;for(B in a){var G=a[B];if(a.hasOwnProperty(B)&&G!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":A=G;default:l.hasOwnProperty(B)||we(e,t,B,null,l,G)}}for(var U in l){var B=l[U];if(G=a[U],l.hasOwnProperty(U)&&(B!=null||G!=null))switch(U){case"type":d=B;break;case"name":c=B;break;case"checked":k=B;break;case"defaultChecked":I=B;break;case"value":p=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:B!==G&&we(e,t,U,B,l,G)}}nc(e,p,S,A,k,I,d,c);return;case"select":B=p=S=U=null;for(d in a)if(A=a[d],a.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":B=A;default:l.hasOwnProperty(d)||we(e,t,d,null,l,A)}for(c in l)if(d=l[c],A=a[c],l.hasOwnProperty(c)&&(d!=null||A!=null))switch(c){case"value":U=d;break;case"defaultValue":S=d;break;case"multiple":p=d;default:d!==A&&we(e,t,c,d,l,A)}t=S,a=p,l=B,U!=null?tl(e,!!a,U,!1):!!l!=!!a&&(t!=null?tl(e,!!a,t,!0):tl(e,!!a,a?[]:"",!1));return;case"textarea":B=U=null;for(S in a)if(c=a[S],a.hasOwnProperty(S)&&c!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:we(e,t,S,null,l,c)}for(p in l)if(c=l[p],d=a[p],l.hasOwnProperty(p)&&(c!=null||d!=null))switch(p){case"value":U=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==d&&we(e,t,p,c,l,d)}id(e,U,B);return;case"option":for(var $ in a)if(U=a[$],a.hasOwnProperty($)&&U!=null&&!l.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:we(e,t,$,null,l,U)}for(A in l)if(U=l[A],B=a[A],l.hasOwnProperty(A)&&U!==B&&(U!=null||B!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:we(e,t,A,U,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)U=a[re],a.hasOwnProperty(re)&&U!=null&&!l.hasOwnProperty(re)&&we(e,t,re,null,l,U);for(k in l)if(U=l[k],B=a[k],l.hasOwnProperty(k)&&U!==B&&(U!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,t));break;default:we(e,t,k,U,l,B)}return;default:if(lc(t)){for(var ke in a)U=a[ke],a.hasOwnProperty(ke)&&U!==void 0&&!l.hasOwnProperty(ke)&&Po(e,t,ke,void 0,l,U);for(I in l)U=l[I],B=a[I],!l.hasOwnProperty(I)||U===B||U===void 0&&B===void 0||Po(e,t,I,U,l,B);return}}for(var L in a)U=a[L],a.hasOwnProperty(L)&&U!=null&&!l.hasOwnProperty(L)&&we(e,t,L,null,l,U);for(G in l)U=l[G],B=a[G],!l.hasOwnProperty(G)||U===B||U==null&&B==null||we(e,t,G,U,l,B)}function dy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ax(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],d=c.transferSize,p=c.initiatorType,S=c.duration;if(d&&S&&dy(p)){for(p=0,S=c.responseEnd,l+=1;l<a.length;l++){var A=a[l],k=A.startTime;if(k>S)break;var I=A.transferSize,G=A.initiatorType;I&&dy(G)&&(A=A.responseEnd,p+=I*(A<S?1:(S-k)/(A-k)))}if(--l,t+=8*(d+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vo=null,Qo=null;function dr(e){return e.nodeType===9?e:e.ownerDocument}function fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=null;function lx(){var e=window.event;return e&&e.type==="popstate"?e===Ko?!1:(Ko=e,!0):(Ko=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,sx=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(e){return my.resolve(null).then(e).catch(rx)}:hy;function rx(e){setTimeout(function(){throw e})}function oa(e){return e==="head"}function gy(e,t){var a=t,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),zl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")js(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,js(a);for(var d=a.firstChild;d;){var p=d.nextSibling,S=d.nodeName;d[Zl]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&js(e.ownerDocument.body);a=c}while(a);zl(t)}function xy(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Wo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wo(a),ec(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cx(e,t,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function ox(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wt(e.nextSibling),e===null))return null;return e}function py(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function Jo(e){return e.data==="$?"||e.data==="$~"}function Fo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ux(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $o=null;function vy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Wt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function by(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Sy(e,t,a){switch(t=dr(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function js(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ec(e)}var Jt=new Map,Ey=new Set;function fr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=Z.d;Z.d={f:dx,r:fx,D:yx,C:hx,L:mx,m:gx,X:px,S:xx,M:vx};function dx(){var e=wn.f(),t=ar();return e||t}function fx(e){var t=Fa(e);t!==null&&t.tag===5&&t.type==="form"?Hf(t):wn.r(e)}var jl=typeof document>"u"?null:document;function My(e,t,a){var l=jl;if(l&&typeof t=="string"&&t){var c=Xt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ey.has(c)||(Ey.add(c),e={rel:e,crossOrigin:a,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),ft(t,"link",e),it(t),l.head.appendChild(t)))}}function yx(e){wn.D(e),My("dns-prefetch",e,null)}function hx(e,t){wn.C(e,t),My("preconnect",e,t)}function mx(e,t,a){wn.L(e,t,a);var l=jl;if(l&&e&&t){var c='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Xt(a.imageSizes)+'"]')):c+='[href="'+Xt(e)+'"]';var d=c;switch(t){case"style":d=Ll(e);break;case"script":d=Ol(e)}Jt.has(d)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Ls(d))||t==="script"&&l.querySelector(Os(d))||(t=l.createElement("link"),ft(t,"link",e),it(t),l.head.appendChild(t)))}}function gx(e,t){wn.m(e,t);var a=jl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Xt(l)+'"][href="'+Xt(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ol(e)}if(!Jt.has(d)&&(e=v({rel:"modulepreload",href:e},t),Jt.set(d,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Os(d)))return}l=a.createElement("link"),ft(l,"link",e),it(l),a.head.appendChild(l)}}}function xx(e,t,a){wn.S(e,t,a);var l=jl;if(l&&e){var c=$a(l).hoistableStyles,d=Ll(e);t=t||"default";var p=c.get(d);if(!p){var S={loading:0,preload:null};if(p=l.querySelector(Ls(d)))S.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(d))&&eu(e,a);var A=p=l.createElement("link");it(A),ft(A,"link",e),A._p=new Promise(function(k,I){A.onload=k,A.onerror=I}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yr(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:S},c.set(d,p)}}}function px(e,t){wn.X(e,t);var a=jl;if(a&&e){var l=$a(a).hoistableScripts,c=Ol(e),d=l.get(c);d||(d=a.querySelector(Os(c)),d||(e=v({src:e,async:!0},t),(t=Jt.get(c))&&tu(e,t),d=a.createElement("script"),it(d),ft(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function vx(e,t){wn.M(e,t);var a=jl;if(a&&e){var l=$a(a).hoistableScripts,c=Ol(e),d=l.get(c);d||(d=a.querySelector(Os(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Jt.get(c))&&tu(e,t),d=a.createElement("script"),it(d),ft(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Ny(e,t,a,l){var c=(c=ce.current)?fr(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ll(a.href),a=$a(c).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ll(a.href);var d=$a(c).hoistableStyles,p=d.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=c.querySelector(Ls(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),d||bx(c,e,a,p.state))),t&&l===null)throw Error(i(528,""));return p}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ol(a),a=$a(c).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ll(e){return'href="'+Xt(e)+'"'}function Ls(e){return'link[rel="stylesheet"]['+e+"]"}function Ty(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function bx(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ft(t,"link",a),it(t),e.head.appendChild(t))}function Ol(e){return'[src="'+Xt(e)+'"]'}function Os(e){return"script[async]"+e}function Ay(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(l)return t.instance=l,it(l),l;var c=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ft(l,"style",c),yr(l,a.precedence,e),t.instance=l;case"stylesheet":c=Ll(a.href);var d=e.querySelector(Ls(c));if(d)return t.state.loading|=4,t.instance=d,it(d),d;l=Ty(a),(c=Jt.get(c))&&eu(l,c),d=(e.ownerDocument||e).createElement("link"),it(d);var p=d;return p._p=new Promise(function(S,A){p.onload=S,p.onerror=A}),ft(d,"link",l),t.state.loading|=4,yr(d,a.precedence,e),t.instance=d;case"script":return d=Ol(a.src),(c=e.querySelector(Os(d)))?(t.instance=c,it(c),c):(l=a,(c=Jt.get(d))&&(l=v({},a),tu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),it(c),ft(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,yr(l,a.precedence,e));return t.instance}function yr(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,p=0;p<l.length;p++){var S=l[p];if(S.dataset.precedence===t)d=S;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var hr=null;function Cy(e,t,a){if(hr===null){var l=new Map,c=hr=new Map;c.set(a,l)}else c=hr,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var d=a[c];if(!(d[Zl]||d[ct]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var S=l.get(p);S?S.push(d):l.set(p,[d])}}return l}function Ry(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Sx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ex(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Ll(l.href),d=t.querySelector(Ls(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=mr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,it(d);return}d=t.ownerDocument||t,l=Ty(l),(c=Jt.get(c))&&eu(l,c),d=d.createElement("link"),it(d);var p=d;p._p=new Promise(function(S,A){p.onload=S,p.onerror=A}),ft(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=mr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var nu=0;function Mx(e,t){return e.stylesheets&&e.count===0&&xr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&xr(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&nu===0&&(nu=62500*ax());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xr(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>nu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function mr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gr=null;function xr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gr=new Map,t.forEach(Nx,e),gr=null,mr.call(e))}function Nx(e,t){if(!(t.state.loading&4)){var a=gr.get(e);if(a)var l=a.get(null);else{a=new Map,gr.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var p=c[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=t.instance,p=c.getAttribute("data-precedence"),d=a.get(p)||l,d===l&&a.set(null,c),a.set(p,c),this.count++,l=mr.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var zs={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Tx(e,t,a,l,c,d,p,S,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function jy(e,t,a,l,c,d,p,S,A,k,I,G){return e=new Tx(e,t,a,p,A,k,I,G,S),t=1,d===!0&&(t|=24),d=zt(3,null,null,t),e.current=d,d.stateNode=e,t=_c(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:t},Bc(d),e}function Ly(e){return e?(e=ol,e):ol}function Oy(e,t,a,l,c,d){c=Ly(c),l.context===null?l.context=c:l.pendingContext=c,l=Fn(t),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$n(e,l,t),a!==null&&(Rt(a,e,t),ds(a,e,t))}function zy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function au(e,t){zy(e,t),(e=e.alternate)&&zy(e,t)}function _y(e){if(e.tag===13||e.tag===31){var t=Oa(e,67108864);t!==null&&Rt(t,e,67108864),au(e,67108864)}}function wy(e){if(e.tag===13||e.tag===31){var t=Bt();t=Jr(t);var a=Oa(e,t);a!==null&&Rt(a,e,t),au(e,t)}}var pr=!0;function Ax(e,t,a,l){var c=_.T;_.T=null;var d=Z.p;try{Z.p=2,lu(e,t,a,l)}finally{Z.p=d,_.T=c}}function Cx(e,t,a,l){var c=_.T;_.T=null;var d=Z.p;try{Z.p=8,lu(e,t,a,l)}finally{Z.p=d,_.T=c}}function lu(e,t,a,l){if(pr){var c=su(l);if(c===null)Go(e,t,l,vr,a),Uy(e,l);else if(Dx(c,e,t,a,l))l.stopPropagation();else if(Uy(e,l),t&4&&-1<Rx.indexOf(e)){for(;c!==null;){var d=Fa(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=Ca(d.pendingLanes);if(p!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;p;){var A=1<<31-Xe(p);S.entanglements[1]|=A,p&=~A}un(d),(Le&6)===0&&(tr=mt()+500,Cs(0))}}break;case 31:case 13:S=Oa(d,2),S!==null&&Rt(S,d,2),ar(),au(d,2)}if(d=su(l),d===null&&Go(e,t,l,vr,a),d===c)break;c=d}c!==null&&l.stopPropagation()}else Go(e,t,l,null,a)}}function su(e){return e=ic(e),iu(e)}var vr=null;function iu(e){if(vr=null,e=Ja(e),e!==null){var t=u(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vr=e,null}function ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qr()){case ii:return 2;case ri:return 8;case Ka:case Zr:return 32;case ci:return 268435456;default:return 32}default:return 32}}var ru=!1,ua=null,da=null,fa=null,_s=new Map,ws=new Map,ya=[],Rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uy(e,t){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function ks(e,t,a,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Fa(t),t!==null&&_y(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Dx(e,t,a,l,c){switch(t){case"focusin":return ua=ks(ua,e,t,a,l,c),!0;case"dragenter":return da=ks(da,e,t,a,l,c),!0;case"mouseover":return fa=ks(fa,e,t,a,l,c),!0;case"pointerover":var d=c.pointerId;return _s.set(d,ks(_s.get(d)||null,e,t,a,l,c)),!0;case"gotpointercapture":return d=c.pointerId,ws.set(d,ks(ws.get(d)||null,e,t,a,l,c)),!0}return!1}function By(e){var t=Ja(e.target);if(t!==null){var a=u(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Ju(e.priority,function(){wy(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,Ju(e.priority,function(){wy(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=su(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);sc=l,a.target.dispatchEvent(l),sc=null}else return t=Fa(a),t!==null&&_y(t),e.blockedOn=a,!1;t.shift()}return!0}function Hy(e,t,a){br(e)&&a.delete(t)}function jx(){ru=!1,ua!==null&&br(ua)&&(ua=null),da!==null&&br(da)&&(da=null),fa!==null&&br(fa)&&(fa=null),_s.forEach(Hy),ws.forEach(Hy)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,ru||(ru=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jx)))}var Er=null;function Iy(e){Er!==e&&(Er=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Er===e&&(Er=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(iu(l||a)===null)continue;break}var d=Fa(a);d!==null&&(e.splice(t,3),t-=3,lo(d,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function zl(e){function t(A){return Sr(A,e)}ua!==null&&Sr(ua,e),da!==null&&Sr(da,e),fa!==null&&Sr(fa,e),_s.forEach(t),ws.forEach(t);for(var a=0;a<ya.length;a++){var l=ya[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ya.length&&(a=ya[0],a.blockedOn===null);)By(a),a.blockedOn===null&&ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],p=c[Et]||null;if(typeof d=="function")p||Iy(a);else if(p){var S=null;if(d&&d.hasAttribute("formAction")){if(c=d,p=d[Et]||null)S=p.formAction;else if(iu(c)!==null)continue}else S=p.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Iy(a)}}}function Yy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function cu(e){this._internalRoot=e}Mr.prototype.render=cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=Bt();Oy(a,l,e,t,null,null)},Mr.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oy(e.current,2,null,e,null,null),ar(),t[Wa]=null}};function Mr(e){this._internalRoot=e}Mr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ya.length&&t!==0&&t<ya[a].priority;a++);ya.splice(a,0,e),a===0&&By(e)}};var qy=s.version;if(qy!=="19.2.3")throw Error(i(527,qy,"19.2.3"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Lx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nr.isDisabled&&Nr.supportsFiber)try{J=Nr.inject(Lx),fe=Nr}catch{}}return Bs.createRoot=function(e,t){if(!o(e))throw Error(i(299));var a=!1,l="",c=Kf,d=Wf,p=Jf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=jy(e,1,!1,null,null,a,l,null,c,d,p,Yy),e[Wa]=t.current,Xo(e),new cu(t)},Bs.hydrateRoot=function(e,t,a){if(!o(e))throw Error(i(299));var l=!1,c="",d=Kf,p=Wf,S=Jf,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),t=jy(e,1,!0,t,a??null,l,c,A,d,p,S,Yy),t.context=Ly(null),a=t.current,l=Bt(),l=Jr(l),c=Fn(l),c.callback=null,$n(a,c,l),a=l,t.current.lanes=a,Ql(t,a),un(t),e[Wa]=t.current,Xo(e),new Mr(t)},Bs.version="19.2.3",Bs}var Fy;function Yx(){if(Fy)return du.exports;Fy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),du.exports=Ix(),du.exports}var qx=Yx();const Xx=Lh(qx),qe=(n,s)=>({x:(n.x-s.pan.x)/s.zoom,y:-(n.y-s.pan.y)/s.zoom}),xe=(n,s)=>({x:n.x*s.zoom+s.pan.x,y:s.pan.y-n.y*s.zoom}),te=(n,s)=>Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2)),mn=(n,s)=>({x:(n.x+s.x)/2,y:(n.y+s.y)/2}),$s=(n,s)=>{const r=s.y-n.y,i=s.x-n.x;let o=Math.atan2(r,i);return o*=180/Math.PI,o<0&&(o+=360),parseFloat(o.toFixed(2))},$y=(n,s)=>parseFloat(te(n,s).toFixed(2)),pa=(n,s,r)=>{const i=Math.pow(te(s,r),2);if(i===0)return te(n,s);let o=((n.x-s.x)*(r.x-s.x)+(n.y-s.y)*(r.y-s.y))/i;o=Math.max(0,Math.min(1,o));const u={x:s.x+o*(r.x-s.x),y:s.y+o*(r.y-s.y)};return te(n,u)},en=()=>Math.random().toString(36).substr(2,9),Va=(n,s,r)=>{const i=r*Math.PI/180,o=Math.cos(i),u=Math.sin(i),f=n.x-s.x,y=n.y-s.y,h=f*o-y*u,m=f*u+y*o;return{x:s.x+h,y:s.y+m}},Ul=(n,s,r,i)=>{const o=n,u={x:n.x+s,y:n.y},f={x:n.x+s,y:n.y+r},y={x:n.x,y:n.y+r};return i===0?[o,u,f,y]:[o,Va(u,o,i),Va(f,o,i),Va(y,o,i)]},Qa=(n,s,r,i)=>{const o=s/2,u=r/2,f={x:n.x-o,y:n.y+u},y={x:n.x+o,y:n.y+u},h={x:n.x+o,y:n.y-u},m={x:n.x-o,y:n.y-u};return i===0?[f,y,h,m]:[Va(f,n,i),Va(y,n,i),Va(h,n,i),Va(m,n,i)]},zh=n=>{let s=1/0,r=1/0,i=-1/0,o=-1/0;if(n.length===0)return null;const u=(f,y)=>{f<s&&(s=f),f>i&&(i=f),y<r&&(r=y),y>o&&(o=y)};return n.forEach(f=>{if(f.type==="LINE")u(f.start.x,f.start.y),u(f.end.x,f.end.y);else if(f.type==="CIRCLE")u(f.center.x-f.radius,f.center.y-f.radius),u(f.center.x+f.radius,f.center.y+f.radius);else if(f.type==="ARC")u(f.center.x-f.radius,f.center.y-f.radius),u(f.center.x+f.radius,f.center.y+f.radius);else if(f.type==="LWPOLYLINE")f.vertices.forEach(y=>u(y.x,y.y));else if(f.type==="INSERT")u(f.insertionPoint.x,f.insertionPoint.y);else if(f.type==="TEXT")u(f.point.x,f.point.y),u(f.point.x+f.text.length*f.height*.6,f.point.y+f.height);else if(f.type==="MTEXT"){const y=f;Ul(y.boxCorner,y.boxWidth,y.boxHeight,y.rotation||0).forEach(m=>u(m.x,m.y))}}),s===1/0?null:{min:{x:s,y:r},max:{x:i,y:o},center:{x:(s+i)/2,y:(r+o)/2},width:i-s,height:o-r}},mu=(n,s,r)=>{const i=Math.min(s.x,r.x),o=Math.max(s.x,r.x),u=Math.min(s.y,r.y),f=Math.max(s.y,r.y),y=h=>h.x>=i&&h.x<=o&&h.y>=u&&h.y<=f;if(n.type==="LINE")return y(n.start)&&y(n.end);if(n.type==="CIRCLE")return n.center.x-n.radius>=i&&n.center.x+n.radius<=o&&n.center.y-n.radius>=u&&n.center.y+n.radius<=f;if(n.type==="ARC")return y(n.center);if(n.type==="LWPOLYLINE")return n.vertices.every(h=>y(h));if(n.type==="INSERT")return y(n.insertionPoint);if(n.type==="TEXT")return y(n.point);if(n.type==="MTEXT"){const h=n;return Ul(h.boxCorner,h.boxWidth,h.boxHeight,h.rotation||0).every(x=>y(x))}return!1},Tr=(n,s)=>{let r=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const u=s[i].x,f=s[i].y,y=s[o].x,h=s[o].y;f>n.y!=h>n.y&&n.x<(y-u)*(n.y-f)/(h-f)+u&&(r=!r)}return r},Lu=n=>{let r=10;for(;r*n<10;)r*=10;for(;r*n>100;)r/=10;return r},Yl=(n,s,r,i)=>{const o=n.x,u=n.y,f=s.x,y=s.y,h=r.x,m=r.y,x=i.x,v=i.y,b=(v-m)*(f-o)-(x-h)*(y-u);if(b===0)return null;const M=((x-h)*(u-m)-(v-m)*(o-h))/b,T=((f-o)*(u-m)-(y-u)*(o-h))/b;return M>=0&&M<=1&&T>=0&&T<=1?{x:o+M*(f-o),y:u+M*(y-u)}:null},_h=(n,s,r,i)=>{const o=n.x,u=n.y,f=s.x,y=s.y,h=r.x,m=r.y,x=i.x,v=i.y,b=(v-m)*(f-o)-(x-h)*(y-u);if(b===0)return null;const M=((x-h)*(u-m)-(v-m)*(o-h))/b;return{x:o+M*(f-o),y:u+M*(y-u)}},Bl=(n,s,r,i)=>{const o=r.x,u=r.y,f=i,y=s.x-n.x,h=s.y-n.y,m=n.x-o,x=n.y-u,v=y*y+h*h,b=2*(m*y+x*h),M=m*m+x*x-f*f;let T=b*b-4*v*M;if(T<0)return[];T=Math.sqrt(T);const E=(-b-T)/(2*v),N=(-b+T)/(2*v),R=[];return E>=0&&E<=1&&R.push({x:n.x+E*y,y:n.y+E*h}),N>=0&&N<=1&&R.push({x:n.x+N*y,y:n.y+N*h}),R},wh=(n,s,r,i)=>{const o=te(n,r);if(o>s+i||o<Math.abs(s-i)||o===0)return[];const u=(s*s-i*i+o*o)/(2*o),f=Math.sqrt(s*s-u*u),y=n.x+u*(r.x-n.x)/o,h=n.y+u*(r.y-n.y)/o;return[{x:y+f*(r.y-n.y)/o,y:h-f*(r.x-n.x)/o},{x:y-f*(r.y-n.y)/o,y:h+f*(r.x-n.x)/o}]},eh=(n,s)=>{if(n.type==="LINE"&&s.type==="LINE"){const r=Yl(n.start,n.end,s.start,s.end);return r?[r]:[]}return n.type==="LINE"&&(s.type==="CIRCLE"||s.type==="ARC")?Bl(n.start,n.end,s.center,s.radius):(n.type==="CIRCLE"||n.type==="ARC")&&s.type==="LINE"?Bl(s.start,s.end,n.center,n.radius):(n.type==="CIRCLE"||n.type==="ARC")&&(s.type==="CIRCLE"||s.type==="ARC")?wh(n.center,n.radius,s.center,s.radius):[]},Gx=n=>{const s=[];for(let r=0;r<n.vertices.length;r++){const i=(r+1)%n.vertices.length;if(!n.closed&&r===n.vertices.length-1)break;s.push({id:en(),type:"LINE",layer:n.layer,color:n.color,lineStyle:n.lineStyle,start:n.vertices[r],end:n.vertices[i]})}return s},Px=n=>{const s=n.filter(h=>h.type==="LINE");if(s.length<2)return n;const r=[s[0].start,s[0].end],i=new Set([s[0].id]);let o=!0;for(;o;){o=!1;const h=r[0],m=r[r.length-1];for(const x of s){if(i.has(x.id))continue;const v=.001;if(te(x.start,m)<v?(r.push(x.end),i.add(x.id),o=!0):te(x.end,m)<v?(r.push(x.start),i.add(x.id),o=!0):te(x.end,h)<v?(r.unshift(x.start),i.add(x.id),o=!0):te(x.start,h)<v&&(r.unshift(x.end),i.add(x.id),o=!0),o)break}}const u={id:en(),type:"LWPOLYLINE",layer:s[0].layer,color:s[0].color,lineStyle:s[0].lineStyle,closed:te(r[0],r[r.length-1])<.001,vertices:r};u.closed&&u.vertices.pop();const f=n.filter(h=>!i.has(h.id)&&h.type==="LINE"),y=n.filter(h=>h.type!=="LINE");return[u,...f,...y]},th=(n,s,r)=>{const i=n.vertices,o=i.length,u=s,f=(u-1+o)%o,y=(u+1)%o;if(!n.closed&&(u===0||u===o-1))return null;const h=i[f],m=i[u],x=i[y];if(h.bulge&&Math.abs(h.bulge)>1e-6||m.bulge&&Math.abs(m.bulge)>1e-6)return null;const v={x:m.x-h.x,y:m.y-h.y},b={x:x.x-m.x,y:x.y-m.y},M=Math.sqrt(v.x*v.x+v.y*v.y),T=Math.sqrt(b.x*b.x+b.y*b.y);if(M<1e-9||T<1e-9)return null;const E={x:v.x/M,y:v.y/M},N={x:b.x/T,y:b.y/T},R=E.x*N.x+E.y*N.y,z=Math.max(-1,Math.min(1,R));if(Math.abs(z)>.9999)return null;const C=Math.acos(-z),H=Math.tan(C/2);if(Math.abs(H)<1e-9)return null;const P=r/H;if(P>M||P>T)return null;const X={x:m.x-E.x*P,y:m.y-E.y*P},Q={x:m.x+N.x*P,y:m.y+N.y*P},ie=Math.PI-C,F=E.x*N.y-E.y*N.x;let pe=1;F<0&&(pe=-1);const ve=Math.tan(ie/4)*pe,oe=[...i],Ve={x:X.x,y:X.y,bulge:ve},Je={x:Q.x,y:Q.y,bulge:0};return oe.splice(u,1,Ve,Je),oe},Vx=(n,s)=>{const r=n.vertices;if(s<0||s>=r.length)return null;const i=r[s],o=(s+1)%r.length,u=r[o];if(!i.bulge)return null;const f=(s-1+r.length)%r.length,y=r[f],h=(o+1)%r.length,m=r[h],x=_h(y,i,u,m);if(!x)return null;const v=[...r];return o===0?(v.splice(s,1,x),v.shift()):v.splice(s,2,x),v},kh=(n,s,r)=>{const o=te(n,s)*(1+r*r)/(4*Math.abs(r)),u=s.x-n.x,f=s.y-n.y,y=Math.atan2(f,u),h=r>0?1:-1,m=y+h*(Math.PI/2-2*Math.atan(r)),x=n.x+o*Math.cos(m),v=n.y+o*Math.sin(m);let b=Math.atan2(n.y-v,n.x-x),M=Math.atan2(s.y-v,s.x-x);return{cx:x,cy:v,radius:o,startAngle:b,endAngle:M,counterClockwise:r>0}},li={epsWorld:1e-5,hitRadiusWorld:.001,angleEps:1e-5,paramEps:1e-6};function Qx(n){return{...li,...n}}const Hl=2*Math.PI;function yt(n){let s=n%Hl;return s<0&&(s+=Hl),s}function Zx(n,s){const r=yt(n),i=yt(s);if(Math.abs(i-r)<1e-10)return Hl;let o=i-r;return o<=0&&(o+=Hl),o}function Ou(n,s){const r=yt(n),i=Zx(n,s);return yt(r+i/2)}function Yr(n,s,r,i=1e-10){const o=yt(n),u=yt(s),f=yt(r);return Math.abs(f-u)<i?!0:u<f?o>=u-i&&o<=f+i:o>=u-i||o<=f+i}function Kx(n,s){const r=Math.abs(yt(n)-yt(s));return Math.min(r,Hl-r)}function Wx(n,s,r=1e-10){switch(s.type){case"LINE":return Uh(n,s);case"ARC":return Jx(n,s,r);case"CIRCLE":return Fx(n,s);case"LWPOLYLINE":return $x(n,s);default:const i=jr(s);return{closestPoint:i,distance:te(n,i)}}}function Uh(n,s){const{start:r,end:i}=s,o=i.x-r.x,u=i.y-r.y,f=o*o+u*u;if(f<1e-12)return{closestPoint:r,distance:te(n,r)};let y=((n.x-r.x)*o+(n.y-r.y)*u)/f;y=Math.max(0,Math.min(1,y));const h={x:r.x+y*o,y:r.y+y*u};return{closestPoint:h,distance:te(n,h)}}function Jx(n,s,r=1e-10){const{center:i,radius:o,startAngle:u,endAngle:f}=s,y=Math.atan2(n.y-i.y,n.x-i.x),h=yt(y);if(Yr(h,u,f,r)){const M={x:i.x+o*Math.cos(h),y:i.y+o*Math.sin(h)};return{closestPoint:M,distance:te(n,M)}}const m={x:i.x+o*Math.cos(u),y:i.y+o*Math.sin(u)},x={x:i.x+o*Math.cos(f),y:i.y+o*Math.sin(f)},v=te(n,m),b=te(n,x);return v<=b?{closestPoint:m,distance:v}:{closestPoint:x,distance:b}}function Fx(n,s){const{center:r,radius:i}=s,o=n.x-r.x,u=n.y-r.y,f=Math.sqrt(o*o+u*u);return f<1e-12?{closestPoint:{x:r.x+i,y:r.y},distance:i}:{closestPoint:{x:r.x+o/f*i,y:r.y+u/f*i},distance:Math.abs(f-i)}}function $x(n,s){if(s.vertices.length===0)return{closestPoint:{x:0,y:0},distance:1/0};if(s.vertices.length===1)return{closestPoint:s.vertices[0],distance:te(n,s.vertices[0])};let r=1/0,i=s.vertices[0];const o=s.vertices.length,u=s.closed?o:o-1;for(let f=0;f<u;f++){const y=(f+1)%o,h={start:s.vertices[f],end:s.vertices[y]},m=Uh(n,h);m.distance<r&&(r=m.distance,i=m.closestPoint)}return{closestPoint:i,distance:r}}function e1(n,s){if(s.length<2)return s.length===1?te(n,s[0]):1/0;let r=1/0;for(let i=0;i<s.length-1;i++){const o=pa(n,s[i],s[i+1]);o<r&&(r=o)}return r}function jr(n){switch(n.type){case"LINE":{const s=n;return mn(s.start,s.end)}case"ARC":{const s=n,r=Ou(s.startAngle,s.endAngle);return{x:s.center.x+s.radius*Math.cos(r),y:s.center.y+s.radius*Math.sin(r)}}case"CIRCLE":{const s=n;return{x:s.center.x+s.radius,y:s.center.y}}case"LWPOLYLINE":{const s=n;return s.vertices.length===0?{x:0,y:0}:s.vertices.length===1?s.vertices[0]:mn(s.vertices[0],s.vertices[1])}default:return{x:0,y:0}}}function Su(n,s){return{x:n.center.x+n.radius*Math.cos(s),y:n.center.y+n.radius*Math.sin(s)}}function Bh(n,s,r){const i=s.end.x-s.start.x,o=s.end.y-s.start.y,u=i*i+o*o;if(u<r.epsWorld*r.epsWorld)return 0;const f=((n.x-s.start.x)*i+(n.y-s.start.y)*o)/u;return Math.max(0,Math.min(1,f))}function Ea(n,s){const r=Math.atan2(n.y-s.center.y,n.x-s.center.x);return r<0?r+Hl:r}function Ks(n,s,r){return Yr(n,s.startAngle,s.endAngle,r.angleEps)}function t1(n,s,r){let i=0;for(let o=0;o<n&&o<r.vertices.length-1;o++){const u=nh(r,o);i+=u}return n<r.vertices.length-1&&(i+=s*nh(r,n)),i}function nh(n,s){const r=n.vertices.length;if(s>=r-1&&!n.closed)return 0;const i=(s+1)%r;return te(n.vertices[s],n.vertices[i])}function n1(n,s,r){if(s.length<2)return[];const i=[];for(let o=0;o<s.length-1;o++){const u=Hh(n,s[o],s[o+1],r);i.push(...u)}return zu(i,r)}function Hh(n,s,r,i){switch(n.type){case"LINE":return a1(n,s,r,i);case"ARC":return l1(n,s,r,i);case"CIRCLE":return s1(n,s,r);case"LWPOLYLINE":return i1(n,s,r,i);default:return[]}}function a1(n,s,r,i){const o=Yl(n.start,n.end,s,r);if(!o)return[];const u=Bh(o,n,i);return u<-i.paramEps||u>1+i.paramEps?[]:[{point:o,param:Math.max(0,Math.min(1,u))}]}function l1(n,s,r,i){return Bl(s,r,n.center,n.radius).filter(u=>{const f=Ea(u,n);return Ks(f,n,i)}).map(u=>({point:u,param:Ea(u,n)}))}function s1(n,s,r,i){return Bl(s,r,n.center,n.radius).map(u=>({point:u,param:Ea(u,n)}))}function i1(n,s,r,i){const o=[],u=n.vertices.length;for(let f=0;f<u;f++){const y=(f+1)%u;if(!n.closed&&f===u-1)break;const h=n.vertices[f],m=n.vertices[y],x=Yl(h,m,s,r);if(x){const v=m.x-h.x,b=m.y-h.y,M=v*v+b*b;let T=0;M>i.epsWorld*i.epsWorld&&(T=((x.x-h.x)*v+(x.y-h.y)*b)/M,T=Math.max(0,Math.min(1,T)));const E=t1(f,T,n);o.push({point:x,param:E,segmentIndex:f})}}return o}function r1(n,s,r,i){const o=[[{x:s.x,y:s.y},{x:r.x,y:s.y}],[{x:r.x,y:s.y},{x:r.x,y:r.y}],[{x:r.x,y:r.y},{x:s.x,y:r.y}],[{x:s.x,y:r.y},{x:s.x,y:s.y}]],u=[];for(const[f,y]of o){const h=Hh(n,f,y,i);u.push(...h)}return zu(u,i)}function c1(n,s,r){const i=[];for(const o of s){const u=Ih(n,o,r);for(const f of u){const y=o1(n,f,r);y!==null&&i.push({point:f,param:y})}}return zu(i,r)}function Ih(n,s,r){if(n.type==="LINE"&&s.type==="LINE"){const i=Yl(n.start,n.end,s.start,s.end);return i?[i]:[]}if(n.type==="LINE"&&(s.type==="CIRCLE"||s.type==="ARC")){const i=n,o=s,u=Bl(i.start,i.end,o.center,o.radius);return s.type==="ARC"?u.filter(f=>Ks(Ea(f,o),s,r)):u}if((n.type==="CIRCLE"||n.type==="ARC")&&s.type==="LINE")return Ih(s,n,r);if((n.type==="CIRCLE"||n.type==="ARC")&&(s.type==="CIRCLE"||s.type==="ARC")){const i=n,o=s;return wh(i.center,i.radius,o.center,o.radius).filter(f=>!(n.type==="ARC"&&!Ks(Ea(f,i),n,r)||s.type==="ARC"&&!Ks(Ea(f,o),s,r)))}return[]}function o1(n,s,r){switch(n.type){case"LINE":{const o=Bh(s,n,r);return o>=-r.paramEps&&o<=1+r.paramEps?Math.max(0,Math.min(1,o)):null}case"ARC":case"CIRCLE":{const i=n,o=te(s,i.center);if(Math.abs(o-i.radius)>r.epsWorld)return null;const u=Ea(s,i);return n.type==="ARC"&&!Ks(u,n,r)?null:u}default:return null}}function zu(n,s){const r=[];for(const i of n)r.some(u=>te(u.point,i.point)<s.epsWorld)||r.push(i);return r}function _u(n,s,r){if(s.length===0)return[{entity:n,paramRange:[0,1],midpoint:jr(n),markedForRemoval:!1}];switch(n.type){case"LINE":return Yh(n,s,r);case"ARC":return u1(n,s,r);case"CIRCLE":return d1(n,s,r);case"LWPOLYLINE":return f1(n,s,r);default:return[{entity:n,paramRange:[0,1],midpoint:jr(n),markedForRemoval:!1}]}}function Yh(n,s,r){const i=s.map(m=>m.param).filter(m=>m>r.paramEps&&m<1-r.paramEps).sort((m,x)=>m-x),o=[];for(const m of i)(o.length===0||Math.abs(m-o[o.length-1])>r.paramEps)&&o.push(m);if(o.length===0)return[{entity:n,paramRange:[0,1],midpoint:mn(n.start,n.end),markedForRemoval:!1}];const u=[],f=n.end.x-n.start.x,y=n.end.y-n.start.y,h=[0,...o,1];for(let m=0;m<h.length-1;m++){const x=h[m],v=h[m+1];if(v-x<r.paramEps)continue;const b={x:n.start.x+x*f,y:n.start.y+x*y},M={x:n.start.x+v*f,y:n.start.y+v*y},T={...n,id:en(),start:b,end:M};u.push({entity:T,paramRange:[x,v],midpoint:mn(b,M),markedForRemoval:!1})}return u}function u1(n,s,r){const i=yt(n.startAngle),o=yt(n.endAngle),u=s.map(m=>yt(m.param)).filter(m=>y1(m,i,o,r)).sort((m,x)=>{const v=ah(i,m),b=ah(i,x);return v-b}),f=[];for(const m of u)(f.length===0||Math.abs(yt(m-f[f.length-1]))>r.angleEps)&&f.push(m);if(f.length===0){const m=Eu(i,o);return[{entity:n,paramRange:[i,o],midpoint:Su(n,m),markedForRemoval:!1}]}const y=[],h=[i,...f,o];for(let m=0;m<h.length-1;m++){const x=h[m],v=h[m+1];if(Math.abs(yt(v-x))<r.angleEps)continue;const b=Eu(x,v),M={...n,id:en(),startAngle:x,endAngle:v};y.push({entity:M,paramRange:[x,v],midpoint:Su(n,b),markedForRemoval:!1})}return y}function d1(n,s,r){if(s.length<2)return[{entity:n,paramRange:[0,2*Math.PI],midpoint:{x:n.center.x+n.radius,y:n.center.y},markedForRemoval:!1}];const i=s.map(f=>yt(f.param)).sort((f,y)=>f-y),o=[];for(const f of i)(o.length===0||Math.abs(f-o[o.length-1])>r.angleEps)&&o.push(f);if(o.length<2)return[{entity:n,paramRange:[0,2*Math.PI],midpoint:{x:n.center.x+n.radius,y:n.center.y},markedForRemoval:!1}];const u=[];for(let f=0;f<o.length;f++){const y=o[f],h=o[(f+1)%o.length],m=Eu(y,h),x={type:"ARC",id:en(),layer:n.layer,color:n.color,lineStyle:n.lineStyle,center:n.center,radius:n.radius,startAngle:y,endAngle:h};u.push({entity:x,paramRange:[y,h],midpoint:Su(n,m),markedForRemoval:!1})}return u}function f1(n,s,r){const i=new Map;for(const f of s){const y=f.segmentIndex??0;i.has(y)||i.set(y,[]),i.get(y).push(f)}const o=[],u=n.vertices.length;for(let f=0;f<u;f++){const y=(f+1)%u;if(!n.closed&&f===u-1)break;const h=n.vertices[f],m=n.vertices[y],x={type:"LINE",id:en(),layer:n.layer,color:n.color,lineStyle:n.lineStyle,start:h,end:m},v=i.get(f)||[];if(v.length===0)o.push({entity:x,paramRange:[0,1],midpoint:mn(h,m),markedForRemoval:!1});else{const b=Yh(x,v,r);o.push(...b)}}return o}function y1(n,s,r,i){const o=i.angleEps;return s<r?n>=s-o&&n<=r+o:n>=s-o||n<=r+o}function ah(n,s){let r=s-n;return r<0&&(r+=2*Math.PI),r}function Eu(n,s){if(s<n){const r=2*Math.PI-n+s,i=n+r/2;return yt(i)}return(n+s)/2}var he=(n=>(n.SELECT="SELECT",n.PAN="PAN",n.LINE="LINE",n.CIRCLE="CIRCLE",n.RECTANGLE="RECTANGLE",n.POLYGON="POLYGON",n.TRIM="TRIM",n.MEASURE="MEASURE",n.TEXT="TEXT",n.TRANSFORM="TRANSFORM",n))(he||{}),de=(n=>(n.QUICK="QUICK",n.POWER="POWER",n.CORNER="CORNER",n.INSIDE="INSIDE",n.OUTSIDE="OUTSIDE",n))(de||{});function wu(n,s,r){switch(r.mode){case de.QUICK:return h1(n,s,r);case de.POWER:return m1(n,s,r);case de.INSIDE:case de.OUTSIDE:return S1(n,s,r);default:return n.map(i=>({fragment:i,distanceToTrimPath:1/0,isTouched:!1,isBetweenIntersections:!1,shouldRemove:!1}))}}function h1(n,s,r){const i=r.tolerance,o=r.clickPoint,u=n.map((h,m)=>{const{distance:x,closestPoint:v}=Wx(o,h.entity,i.angleEps),b=x<=i.hitRadiusWorld;let M=!1,T=1/0;if(h.entity.type==="ARC"||h.entity.type==="CIRCLE"){const E=h.entity;if(h.entity.type==="CIRCLE")M=!0,T=0;else{const N=Ea(o,E);M=Yr(N,E.startAngle,E.endAngle,i.angleEps);const R=Ou(E.startAngle,E.endAngle);T=Kx(N,R)}}else M=!0;return{index:m,fragment:h,distance:x,isTouched:b,isAngleContained:M,angularDistToMid:T}});let f=u.filter(h=>h.isTouched);f.length===0&&(f=u),f.sort((h,m)=>{if(h.isAngleContained!==m.isAngleContained)return h.isAngleContained?-1:1;if(h.isAngleContained&&m.isAngleContained){const x=h.fragment.entity.type==="ARC"||h.fragment.entity.type==="CIRCLE",v=m.fragment.entity.type==="ARC"||m.fragment.entity.type==="CIRCLE";if(x&&v&&Math.abs(h.angularDistToMid-m.angularDistToMid)>1e-9)return h.angularDistToMid-m.angularDistToMid}return h.distance-m.distance});const y=f.length>0?f[0].index:-1;return u.map(h=>({fragment:h.fragment,distanceToTrimPath:h.distance,isTouched:h.isTouched,isBetweenIntersections:!0,shouldRemove:h.index===y}))}function m1(n,s,r){const i=r.tolerance,o=r.trimPath,u=i.hitRadiusWorld;if(o.length<2)return n.map(h=>({fragment:h,distanceToTrimPath:1/0,isTouched:!1,isBetweenIntersections:!1,shouldRemove:!1}));const f=n.map(h=>{const m=g1(h,o),x=x1(h,o,i),v=m<=u||x,b=E1(h,s,i);return{fragment:h,distanceToTrimPath:m,isTouched:v,isBetweenIntersections:b,shouldRemove:v&&(b||x||s.length>0)}});if(f.every(h=>h.shouldRemove)&&f.length>1){let h=0,m=0;for(let x=0;x<f.length;x++){const v=b1(f[x].fragment);v>m&&(m=v,h=x)}f[h].shouldRemove=!1}return f}function g1(n,s,r){const i=n.entity,o=p1(i,5);let u=1/0;for(const f of o){const y=e1(f,s);y<u&&(u=y)}if(i.type==="LINE"){const f=i;for(let y=0;y<s.length-1;y++){const h=v1(f.start,f.end,s[y],s[y+1]);h<u&&(u=h)}}return u}function x1(n,s,r){const i=n.entity;for(let o=0;o<s.length-1;o++){const u=s[o],f=s[o+1];if(i.type==="LINE"){const y=i;if(Yl(y.start,y.end,u,f))return!0}else if(i.type==="ARC"){const y=i,h=Bl(u,f,y.center,y.radius);for(const m of h){const x=Math.atan2(m.y-y.center.y,m.x-y.center.x);if(Yr(x,y.startAngle,y.endAngle,r.angleEps))return!0}}}return!1}function p1(n,s){const r=[];if(n.type==="LINE"){const i=n;for(let o=0;o<=s;o++){const u=o/s;r.push({x:i.start.x+u*(i.end.x-i.start.x),y:i.start.y+u*(i.end.y-i.start.y)})}}else if(n.type==="ARC"){const i=n,o=i.startAngle;let u=i.endAngle;u<o&&(u+=2*Math.PI);for(let f=0;f<=s;f++){const y=f/s,h=o+y*(u-o);r.push({x:i.center.x+i.radius*Math.cos(h),y:i.center.y+i.radius*Math.sin(h)})}}else r.push(jr(n));return r}function v1(n,s,r,i){return Yl(n,s,r,i)?0:Math.min(pa(n,r,i),pa(s,r,i),pa(r,n,s),pa(i,n,s))}function b1(n){const s=n.entity;if(s.type==="LINE"){const r=s;return te(r.start,r.end)}else if(s.type==="ARC"){const r=s;let i=r.endAngle-r.startAngle;return i<0&&(i+=2*Math.PI),r.radius*i}return 1}function S1(n,s,r){const i={x:Math.min(r.boxStart.x,r.boxEnd.x),y:Math.min(r.boxStart.y,r.boxEnd.y)},o={x:Math.max(r.boxStart.x,r.boxEnd.x),y:Math.max(r.boxStart.y,r.boxEnd.y)},u=r.mode===de.INSIDE;return n.map(f=>{const y=f.midpoint,h=y.x>i.x&&y.x<o.x&&y.y>i.y&&y.y<o.y;return{fragment:f,distanceToTrimPath:0,isTouched:!0,isBetweenIntersections:!0,shouldRemove:u?!h:h}})}function E1(n,s,r){if(s.length<1)return!1;const[i,o]=n.paramRange;let u;n.entity.type==="ARC"||n.entity.type==="CIRCLE"?u=Ou(i,o):u=(i+o)/2;const f=s.map(y=>y.param).sort((y,h)=>y-h);for(let y=0;y<f.length-1;y++){const h=f[y],m=f[y+1];if(u>=h-r.paramEps&&u<=m+r.paramEps||i<=m+r.paramEps&&o>=h-r.paramEps)return!0}return f.length>0?u<=f[0]+r.paramEps||u>=f[f.length-1]-r.paramEps:!1}function Ar(n,s,r=[]){switch(s.mode){case de.QUICK:return M1(n,s,r);case de.POWER:return N1(n,s,r);case de.CORNER:return T1(n,s,r);case de.INSIDE:case de.OUTSIDE:return A1(n,s,r);default:return{elementsToRemove:[],elementsToAdd:[]}}}function M1(n,s,r){const i=n.find(x=>x.id===s.targetId);if(!i)return{elementsToRemove:[],elementsToAdd:[]};if(!Il(i,r))return{elementsToRemove:[],elementsToAdd:[]};const o=n.filter(x=>x.id!==i.id&&Il(x,r)),u=c1(i,o,s.tolerance),f=_u(i,u,s.tolerance);if(f.length===0)return{elementsToRemove:[],elementsToAdd:[]};const y=wu(f,u,s),h=y.filter(x=>!x.shouldRemove).map(x=>x.fragment.entity),m={intersections:u.map(x=>x.point),fragmentMidpoints:f.map(x=>x.midpoint),removedFragmentMidpoints:y.filter(x=>x.shouldRemove).map(x=>x.fragment.midpoint)};return{elementsToRemove:[s.targetId],elementsToAdd:h,debug:m}}function N1(n,s,r){if(s.trimPath.length<2)return{elementsToRemove:[],elementsToAdd:[]};const i=[],o=[],u=[],f=[],y=[];for(const h of n){if(!Il(h,r))continue;const m=n1(h,s.trimPath,s.tolerance);if(m.length===0)continue;const x=_u(h,m,s.tolerance);if(x.length<=1)continue;const v=wu(x,m,s);if(v.some(M=>M.shouldRemove)){i.push(h.id);const M=v.filter(T=>!T.shouldRemove).map(T=>T.fragment.entity);o.push(...M),u.push(...m.map(T=>T.point)),f.push(...x.map(T=>T.midpoint)),y.push(...v.filter(T=>T.shouldRemove).map(T=>T.fragment.midpoint))}}return{elementsToRemove:i,elementsToAdd:o,debug:{intersections:u,fragmentMidpoints:f,removedFragmentMidpoints:y,corridorPoints:s.trimPath}}}function T1(n,s,r){const i=n.find(b=>b.id===s.firstId),o=n.find(b=>b.id===s.secondId);if(!i||!o)return{elementsToRemove:[],elementsToAdd:[]};if(i.type!=="LINE"||o.type!=="LINE")return{elementsToRemove:[],elementsToAdd:[]};if(!Il(i,r)||!Il(o,r))return{elementsToRemove:[],elementsToAdd:[]};const u=_h(i.start,i.end,o.start,o.end);if(!u)return{elementsToRemove:[],elementsToAdd:[]};const f={...i},y=te(i.start,u),h=te(i.end,u);y<h?f.start=u:f.end=u;const m={...o},x=te(o.start,u),v=te(o.end,u);return x<v?m.start=u:m.end=u,{elementsToRemove:[i.id,o.id],elementsToAdd:[f,m],debug:{intersections:[u],fragmentMidpoints:[],removedFragmentMidpoints:[]}}}function A1(n,s,r){const i={x:Math.min(s.boxStart.x,s.boxEnd.x),y:Math.min(s.boxStart.y,s.boxEnd.y)},o={x:Math.max(s.boxStart.x,s.boxEnd.x),y:Math.max(s.boxStart.y,s.boxEnd.y)},u=[],f=[],y=[],h=[],m=[];for(const x of n){if(!Il(x,r))continue;const v=r1(x,i,o,s.tolerance),b=_u(x,v,s.tolerance),M=wu(b,v,s),T=M.filter(N=>!N.shouldRemove),E=M.filter(N=>N.shouldRemove);E.length>0&&(u.push(x.id),f.push(...T.map(N=>N.fragment.entity)),y.push(...v.map(N=>N.point)),h.push(...b.map(N=>N.midpoint)),m.push(...E.map(N=>N.fragment.midpoint)))}return{elementsToRemove:u,elementsToAdd:f,debug:{intersections:y,fragmentMidpoints:h,removedFragmentMidpoints:m,corridorPoints:[{x:i.x,y:i.y},{x:o.x,y:i.y},{x:o.x,y:o.y},{x:i.x,y:o.y},{x:i.x,y:i.y}]}}}function Il(n,s){const r=s.find(i=>i.name===n.layer);return r?r.visible&&!r.locked:!0}function C1(n,s,r=li){return{mode:de.QUICK,targetId:n,clickPoint:s,tolerance:r}}function R1(n,s=li){return{mode:de.POWER,trimPath:n,tolerance:s}}function D1(n,s,r=li){return{mode:de.CORNER,firstId:n,secondId:s,tolerance:r}}function j1(n,s,r,i=li){return{mode:r,boxStart:n,boxEnd:s,tolerance:i}}function Cr(n,s){const r=new Set(s.elementsToRemove);return[...n.filter(o=>!r.has(o.id)),...s.elementsToAdd]}function ku(n,s){var y,h;const r=(n.rotation||0)*(Math.PI/180),i=Math.cos(r),o=Math.sin(r),u=((y=n.scale)==null?void 0:y.x)||1,f=((h=n.scale)==null?void 0:h.y)||1;return{m11:i*u,m12:-o*u,m21:o*f,m22:i*f,tx:n.insertionPoint.x,ty:n.insertionPoint.y}}function ga(n,s){let r=n.x-0,i=n.y-0;const o=r*s.m11+i*s.m21,u=r*s.m12+i*s.m22;return{x:o+s.tx,y:u+s.ty}}function L1(n,s,r){var b,M;let i=n.x-s.insertionPoint.x,o=n.y-s.insertionPoint.y;const u=-(s.rotation||0)*(Math.PI/180),f=Math.cos(u),y=Math.sin(u),h=((b=s.scale)==null?void 0:b.x)||1,m=((M=s.scale)==null?void 0:M.y)||1;i/=h,o/=m;const x=i*f-o*y,v=i*y+o*f;return{x:x+r.x,y:v+r.y}}function O1(n,s,r){const i=ku(s),o={x:n.x-r.x,y:n.y-r.y};return ga(o,i)}function z1(n,s,r){return L1(n,s,r)}const qh=(n,s,r)=>{const i=[];if(n.type==="LINE")i.push({...n.start,type:"ENDPOINT"}),i.push({...n.end,type:"ENDPOINT"}),i.push({...mn(n.start,n.end),type:"MIDPOINT"});else if(n.type==="CIRCLE"||n.type==="ARC")i.push({...n.center,type:"CENTER"});else if(n.type==="LWPOLYLINE"){n.vertices.forEach(o=>i.push({...o,type:"ENDPOINT"}));for(let o=0;o<n.vertices.length;o++){const u=n.vertices[(o+1)%n.vertices.length];o===n.vertices.length-1&&!n.closed||i.push({...mn(n.vertices[o],u),type:"MIDPOINT"})}}else if(n.type==="INSERT"){if(i.push({...n.insertionPoint,type:"INSERTION"}),s&&r){const o=s[n.blockName];if(o)try{const u=z1(r,n,o.basePoint);o.entities.forEach(f=>{qh(f).forEach(h=>{const m=O1(h,n,o.basePoint);i.push({...m,type:h.type})})})}catch{}}}else n.type==="TEXT"&&i.push({...n.point,type:"INSERTION"});return i},_1=(n,s,r,i,o)=>{let u=null,f=i;for(const y of s){if(r.includes(y.id))continue;const h=qh(y,o,n);for(const m of h){const x=te(n,m);x<f&&(f=x,u=m)}}return u},w1=(n,s)=>{if(s.type!=="CIRCLE"&&s.type!=="ARC")return[];const r=te(n,s.center);if(r<=s.radius)return[];const i=Math.atan2(s.center.y-n.y,s.center.x-n.x),o=Math.acos(s.radius/r),u=y=>({x:s.center.x+s.radius*Math.cos(y),y:s.center.y+s.radius*Math.sin(y),type:"TANGENT"}),f=Math.PI-o;return[u(i+f),u(i-f)]},k1=(n,s)=>{if(s.type==="LINE"){const r=s.start,i=s.end,o=Math.pow(te(r,i),2);if(o===0)return null;let u=((n.x-r.x)*(i.x-r.x)+(n.y-r.y)*(i.y-r.y))/o;return u=Math.max(0,Math.min(1,u)),{x:r.x+u*(i.x-r.x),y:r.y+u*(i.y-r.y),type:"PERPENDICULAR"}}else if(s.type==="CIRCLE"||s.type==="ARC"){const r=te(n,s.center);if(r<1e-9)return null;const i=s.radius/r;return{x:s.center.x+(n.x-s.center.x)*i,y:s.center.y+(n.y-s.center.y)*i,type:"PERPENDICULAR"}}return null},U1=(n,s,r,i)=>{const o=8/i,u=s.filter(f=>r.includes(f.id));for(const f of u)if(f.type==="LINE"){if(te(n,f.start)<o)return{elementId:f.id,type:"START"};if(te(n,f.end)<o)return{elementId:f.id,type:"END"};const y={x:(f.start.x+f.end.x)/2,y:(f.start.y+f.end.y)/2};if(te(n,y)<o)return{elementId:f.id,type:"CENTER"}}else if(f.type==="CIRCLE"||f.type==="ARC"){if(te(n,f.center)<o)return{elementId:f.id,type:"CENTER"}}else if(f.type==="LWPOLYLINE"){const y=f;for(let h=0;h<y.vertices.length;h++){if(te(n,y.vertices[h])<o)return{elementId:f.id,type:"VERTEX",index:h};if(!y.closed&&h===y.vertices.length-1)continue;const m=(h+1)%y.vertices.length,x=y.vertices[h],v=y.vertices[m];let b={x:(x.x+v.x)/2,y:(x.y+v.y)/2},M=b;if(x.bulge&&Math.abs(x.bulge)>1e-6){kh(x,v,x.bulge);const T={x:(x.x+v.x)/2,y:(x.y+v.y)/2},E=v.x-x.x,N=v.y-x.y,R=Math.sqrt(E*E+N*N),z=x.bulge*R/2,C={x:-N/R,y:E/R};M={x:T.x+C.x*z,y:T.y+C.y*z}}else{const T=v.x-x.x,E=v.y-x.y,N=Math.sqrt(T*T+E*E);if(N>1e-9){const R={x:-E/N,y:T/N},z=20/i;M={x:b.x+R.x*z,y:b.y+R.y*z}}}if(te(n,b)<o)return{elementId:f.id,type:"MIDPOINT",index:h};if(te(n,M)<o)return{elementId:f.id,type:"BULGE",index:h}}}else if(f.type==="SPLINE"){for(let y=0;y<f.controlPoints.length;y++)if(te(n,f.controlPoints[y])<o)return{elementId:f.id,type:"VERTEX",index:y}}else if(f.type==="TEXT"){if(te(n,f.point)<o)return{elementId:f.id,type:"INSERTION"}}else if(f.type==="MTEXT"){const y=f,h=Ul(y.boxCorner,y.boxWidth,y.boxHeight,y.rotation||0);for(let x=0;x<h.length;x++)if(te(n,h[x])<o)return{elementId:f.id,type:"CORNER",index:x};const m={x:(h[0].x+h[2].x)/2,y:(h[0].y+h[2].y)/2};if(te(n,m)<o)return{elementId:f.id,type:"INSERTION"}}else if(f.type==="IMAGE"){const y=Qa({x:f.x,y:f.y},f.width,f.height,f.rotation||0);for(let m=0;m<4;m++)if(te(n,y[m])<o)return{elementId:f.id,type:"CORNER",index:m};const h=[{x:(y[0].x+y[1].x)/2,y:(y[0].y+y[1].y)/2},{x:(y[1].x+y[2].x)/2,y:(y[1].y+y[2].y)/2},{x:(y[2].x+y[3].x)/2,y:(y[2].y+y[3].y)/2},{x:(y[3].x+y[0].x)/2,y:(y[3].y+y[0].y)/2}];for(let m=0;m<4;m++)if(te(n,h[m])<o)return{elementId:f.id,type:"MIDPOINT",index:m}}return null},B1=(n,s,r=!1)=>{if(r){n.setLineDash([5,5]);return}!s||s==="CONTINUOUS"?n.setLineDash([]):s==="DASHED"?n.setLineDash([10,5]):s==="DASHDOT"&&n.setLineDash([10,5,2,5])},Pa=(n,s,r,i,o=4,u=!1)=>{const f=xe(s,r);n.fillStyle=i,n.beginPath(),n.arc(f.x,f.y,o,0,2*Math.PI),n.fill(),u&&(n.strokeStyle="#fff",n.lineWidth=1,n.stroke())},H1=(n,s,r,i)=>{const u=Lu(i.zoom)*i.zoom,f=i.pan.x%u,y=i.pan.y%u;n.beginPath(),n.strokeStyle="#2a2a2a",n.lineWidth=1;for(let m=f;m<s;m+=u)n.moveTo(m,0),n.lineTo(m,r);for(let m=y;m<r;m+=u)n.moveTo(0,m),n.lineTo(s,m);n.stroke();const h=xe({x:0,y:0},i);n.lineWidth=2,n.beginPath(),n.strokeStyle="#ef4444",n.moveTo(h.x,h.y),n.lineTo(h.x+50,h.y),n.stroke(),n.beginPath(),n.strokeStyle="#22c55e",n.moveTo(h.x,h.y),n.lineTo(h.x,h.y-50),n.stroke()},I1=(n,s,r)=>{const i=xe(s,r);n.strokeStyle="#fbbf24",n.lineWidth=2,n.beginPath(),s.type==="ENDPOINT"?n.strokeRect(i.x-4,i.y-4,8,8):s.type==="MIDPOINT"?(n.moveTo(i.x,i.y-5),n.lineTo(i.x+4,i.y+4),n.lineTo(i.x-4,i.y+4),n.closePath(),n.stroke()):s.type==="CENTER"?(n.arc(i.x,i.y,4,0,2*Math.PI),n.stroke()):s.type==="GRID"?(n.fillStyle="#808080",n.arc(i.x,i.y,2,0,2*Math.PI),n.fill()):s.type==="INSERTION"&&(n.moveTo(i.x-4,i.y),n.lineTo(i.x+4,i.y),n.moveTo(i.x,i.y-4),n.lineTo(i.x,i.y+4),n.stroke(),n.strokeRect(i.x-3,i.y-3,6,6))},Y1=(n,s,r)=>{if(xe(s.refPoint,r),n.beginPath(),n.strokeStyle="#f97316",n.setLineDash([4,4]),n.lineWidth=1,s.type==="X"){const i=xe({x:s.value,y:0},r).x;n.moveTo(i,0),n.lineTo(i,window.innerHeight)}else if(s.type==="Y"){const i=xe({x:0,y:s.value},r).y;n.moveTo(0,i),n.lineTo(window.innerWidth,i)}n.stroke(),n.setLineDash([]),Pa(n,s.refPoint,r,"#f97316",2)},q1=(n,s=!1,r=20)=>{if(n.length<2)return n;const i=[],o=[...n];s?(o.push(n[0]),o.push(n[1]),o.unshift(n[n.length-1])):(o.unshift(n[0]),o.push(n[n.length-1]));for(let u=0;u<o.length-3;u++){const f=o[u],y=o[u+1],h=o[u+2],m=o[u+3];for(let x=0;x<r;x++){const v=x/r,b=v*v,M=b*v,T=.5*(2*y.x+(-f.x+h.x)*v+(2*f.x-5*y.x+4*h.x-m.x)*b+(-f.x+3*y.x-3*h.x+m.x)*M),E=.5*(2*y.y+(-f.y+h.y)*v+(2*f.y-5*y.y+4*h.y-m.y)*b+(-f.y+3*y.y-3*h.y+m.y)*M);i.push({x:T,y:E})}}return s?i.push(n[0]):i.push(n[n.length-1]),i},Mu=(n,s,r,i,o,u=!1,f)=>{if(n.beginPath(),n.strokeStyle=i,n.lineWidth=o,B1(n,f,u),s.type==="LINE"){const y=xe(s.start,r),h=xe(s.end,r);n.moveTo(y.x,y.y),n.lineTo(h.x,h.y)}else if(s.type==="CIRCLE"){const y=xe(s.center,r),h=s.radius*r.zoom;n.arc(y.x,y.y,h,0,2*Math.PI)}else if(s.type==="ARC"){const y=xe(s.center,r),h=s.radius*r.zoom;n.arc(y.x,y.y,h,-s.startAngle,-s.endAngle,!0)}else if(s.type==="LWPOLYLINE"){if(s.vertices.length>0){const y=xe(s.vertices[0],r);n.moveTo(y.x,y.y);for(let h=0;h<s.vertices.length;h++){const m=s.vertices[h],x=s.vertices[(h+1)%s.vertices.length];if(h===s.vertices.length-1&&!s.closed)break;const v=xe(x,r);if(m.bulge&&Math.abs(m.bulge)>1e-6){const b=kh(m,x,m.bulge),M=xe({x:b.cx,y:b.cy},r),T=b.radius*r.zoom;n.arc(M.x,M.y,T,-b.startAngle,-b.endAngle,b.counterClockwise)}else n.lineTo(v.x,v.y)}}}else if(s.type==="SPLINE"&&s.controlPoints&&s.controlPoints.length>0){const y=s.controlPoints.map(h=>xe(h,r));if(y.length>=2){const h=q1(y,s.closed);n.moveTo(h[0].x,h[0].y);for(let m=1;m<h.length;m++)n.lineTo(h[m].x,h[m].y)}else y.length===1&&(n.moveTo(y[0].x,y[0].y),n.lineTo(y[0].x,y[0].y))}n.stroke(),n.setLineDash([])},lh=(n,s,r,i,o,u,f=!1)=>{const y=i[s.blockName];if(!y)return;const h=ku(s,y.basePoint);if(n.save(),f&&(n.globalAlpha=.5,n.setLineDash([4,4])),y.entities.forEach(m=>{const x=b=>{const M={x:b.x-y.basePoint.x,y:b.y-y.basePoint.y};return ga(M,h)},v=JSON.parse(JSON.stringify(m));m.type==="LINE"?(v.start=x(m.start),v.end=x(m.end)):m.type==="CIRCLE"?(v.center=x(m.center),v.radius*=Math.max(Math.abs(h.m11),Math.abs(h.m22))):m.type==="LWPOLYLINE"?v.vertices=m.vertices.map(b=>x(b)):m.type==="ARC"&&(v.center=x(m.center),v.radius*=Math.max(Math.abs(h.m11),Math.abs(h.m22)),v.startAngle+=s.rotation*(Math.PI/180),v.endAngle+=s.rotation*(Math.PI/180)),Mu(n,v,r,o,u,!1,v.lineStyle)}),f){const m=xe(s.insertionPoint,r);n.fillStyle="#a855f7",n.beginPath(),n.arc(m.x,m.y,4,0,2*Math.PI),n.fill(),n.strokeStyle="#ffffff",n.lineWidth=1,n.stroke()}n.restore()},sh=(n,s,r,i)=>{const o=xe(s.point,r),u=s.height*r.zoom;n.save(),n.translate(o.x,o.y),s.rotation&&n.rotate(-s.rotation*Math.PI/180),n.font=`${s.fontWeight||"normal"} ${u}px ${s.fontFamily||"monospace"}`,n.fillStyle=i,n.textBaseline="bottom",n.textAlign="left",n.fillText(s.text,0,0),n.restore()},X1=(n,s,r,i)=>{const o=xe(s.boxCorner,r),u=s.boxWidth*r.zoom,f=s.boxHeight*r.zoom,y=s.style||{},h=(y.height||10)*r.zoom,m=(y.padding||4)*r.zoom;n.save(),n.translate(o.x,o.y),s.rotation&&n.rotate(-s.rotation*Math.PI/180),y.hasBackground&&(n.fillStyle="rgba(30, 30, 30, 0.85)",n.fillRect(0,-f,u,f)),y.hasBorder&&(n.strokeStyle=i,n.lineWidth=1,n.strokeRect(0,-f,u,f));const x=y.fontWeight||"normal",v=y.fontStyle||"normal",b=y.textDecoration||"";n.font=`${v} ${x} ${h}px ${y.fontFamily||"monospace"}`,n.fillStyle=i,n.textBaseline="top",n.textAlign=y.alignment||"left";const M=s.text.split(`
`),T=h*1.3,E=y.alignment==="center"?u/2:y.alignment==="right"?u-m:m;M.forEach((N,R)=>{const z=-f+m+R*T;if(n.fillText(N,E,z),b==="underline"){const C=n.measureText(N),H=z+h*1.1;let P=E;y.alignment==="center"&&(P=E-C.width/2),y.alignment==="right"&&(P=E-C.width),n.fillRect(P,H,C.width,Math.max(1,h/15))}}),n.restore()},G1=(n,s,r,i)=>{if(s.type!=="DIMENSION")return;const o=xe(s.start,r),u=xe(s.end,r),f=(o.x+u.x)/2,y=(o.y+u.y)/2;n.beginPath(),n.strokeStyle=i,n.lineWidth=1,n.moveTo(o.x,o.y),n.lineTo(u.x,u.y),n.stroke();const h=4,m=u.x-o.x,x=u.y-o.y,b=Math.atan2(x,m)+Math.PI/2,M=N=>{n.beginPath(),n.moveTo(N.x-h*Math.cos(b),N.y-h*Math.sin(b)),n.lineTo(N.x+h*Math.cos(b),N.y+h*Math.sin(b)),n.stroke()};M(o),M(u),n.font="12px monospace";const T=n.measureText(s.text),E=4;n.fillStyle="rgba(18, 18, 18, 0.8)",n.fillRect(f-T.width/2-E,y-8,T.width+E*2,16),n.fillStyle=i,n.textBaseline="middle",n.fillText(s.text,f-T.width/2,y)},P1=(n,s,r)=>{if(s.type!=="LINE")return;const i=xe(s.start,r),o=xe(s.end,r);n.beginPath(),n.strokeStyle="#fbbf24",n.lineWidth=1,n.setLineDash([4,4]),n.moveTo(i.x,i.y),n.lineTo(o.x,o.y),n.stroke(),n.setLineDash([]);const u=M=>{n.beginPath(),n.moveTo(M.x-4,M.y-4),n.lineTo(M.x+4,M.y+4),n.moveTo(M.x+4,M.y-4),n.lineTo(M.x-4,M.y+4),n.stroke()};u(i),u(o);const f=te(s.start,s.end).toFixed(2),y=$s(s.start,s.end).toFixed(1),h=`${f} unit ${y}`,m=(i.x+o.x)/2,x=(i.y+o.y)/2;n.font="12px monospace";const v=n.measureText(h),b=4;n.fillStyle="rgba(0, 0, 0, 0.7)",n.fillRect(m-v.width/2-b,x-20,v.width+b*2,16),n.fillStyle="#fbbf24",n.fillText(h,m-v.width/2,x-8)},ih=new Map,V1=(n,s,r,i=1)=>{let o=ih.get(s.src);if(o||(o=new Image,o.src=s.src,ih.set(s.src,o)),!o.complete||o.naturalWidth===0)return;const u=xe({x:s.x,y:s.y},r),f=s.width*r.zoom,y=s.height*r.zoom;n.save(),n.translate(u.x,u.y),s.rotation&&n.rotate(-s.rotation*Math.PI/180),n.globalAlpha=i,n.drawImage(o,-f/2,-y/2,f,y),n.restore()},Q1=(n,s,r)=>{const o="#3b82f6",u=(h,m=o)=>{const x=xe(h,r);n.fillStyle=m,n.fillRect(x.x-4,x.y-4,8,8),n.strokeStyle="#ffffff",n.lineWidth=1,n.strokeRect(x.x-4,x.y-4,8,8)},f=h=>{const m=xe(h,r),x=12,v=6;n.fillStyle="#f59e0b",n.fillRect(m.x-x/2,m.y-v/2,x,v),n.strokeStyle="#ffffff",n.lineWidth=1,n.strokeRect(m.x-x/2,m.y-v/2,x,v)},y=h=>{const m=xe(h,r);n.fillStyle="#10b981",n.beginPath(),n.arc(m.x,m.y,4,0,2*Math.PI),n.fill(),n.strokeStyle="#ffffff",n.stroke()};if(s.type==="LINE")u(s.start),u(s.end),u({x:(s.start.x+s.end.x)/2,y:(s.start.y+s.end.y)/2});else if(s.type==="LWPOLYLINE"){s.vertices.forEach(h=>u(h));for(let h=0;h<s.vertices.length;h++){if(!s.closed&&h===s.vertices.length-1)continue;const m=(h+1)%s.vertices.length,x=s.vertices[h],v=s.vertices[m],b={x:(x.x+v.x)/2,y:(x.y+v.y)/2};if(f(b),x.bulge&&Math.abs(x.bulge)>1e-6){const M=v.x-x.x,T=v.y-x.y,E=Math.sqrt(M*M+T*T),N=x.bulge*E/2,R={x:-T/E,y:M/E},z={x:b.x+R.x*N,y:b.y+R.y*N};y(z)}else{const M=v.x-x.x,T=v.y-x.y,E=Math.sqrt(M*M+T*T);if(E>1e-9){const N={x:-T/E,y:M/E},R=20/r.zoom,z={x:b.x+N.x*R,y:b.y+N.y*R};y(z)}}}}else if(s.type==="SPLINE")s.controlPoints.forEach(h=>u(h));else if(s.type==="CIRCLE"||s.type==="ARC")u(s.center);else if(s.type==="TEXT")u(s.point);else if(s.type==="MTEXT"){const h=s,m=Ul(h.boxCorner,h.boxWidth,h.boxHeight,h.rotation||0);m.forEach(v=>u(v));const x={x:(m[0].x+m[2].x)/2,y:(m[0].y+m[2].y)/2};f(x)}else if(s.type==="IMAGE"){const h=(s.rotation||0)*Math.PI/180,m=Math.cos(h),x=Math.sin(h),v=s.width/2,b=s.height/2,M=(E,N)=>({x:s.x+(E*m-N*x),y:s.y+(E*x+N*m)});[M(-v,-b),M(0,-b),M(v,-b),M(v,0),M(v,b),M(0,b),M(-v,b),M(-v,0)].forEach(E=>u(E))}},Z1=(n,s,r,i,o)=>{const u=xe(s,i),f=xe(r,i),y=Math.min(u.x,f.x),h=Math.min(u.y,f.y),m=Math.abs(u.x-f.x),x=Math.abs(u.y-f.y);n.save(),o==="CROSSING"?(n.fillStyle="rgba(46, 204, 113, 0.25)",n.strokeStyle="#2ecc71",n.lineWidth=2,n.setLineDash([5,5])):(n.fillStyle="rgba(52, 152, 219, 0.25)",n.strokeStyle="#3498db",n.lineWidth=2,n.setLineDash([])),n.fillRect(y,h,m,x),n.strokeRect(y,h,m,x),n.restore()},K1=(n,s,r)=>{if(s.length===0)return;n.beginPath(),n.strokeStyle="#ef4444",n.fillStyle="rgba(239, 68, 68, 0.1)",n.setLineDash([5,5]);const i=xe(s[0],r);n.moveTo(i.x,i.y);for(let o=1;o<s.length;o++){const u=xe(s[o],r);n.lineTo(u.x,u.y)}n.closePath(),n.fill(),n.stroke(),n.setLineDash([])},W1=(n,s,r)=>{if(s.length<2)return;n.save(),n.beginPath(),n.strokeStyle="#f59e0b",n.lineWidth=2,n.setLineDash([8,4]),n.lineCap="round",n.lineJoin="round";const i=xe(s[0],r);n.moveTo(i.x,i.y);for(let o=1;o<s.length;o++){const u=xe(s[o],r);n.lineTo(u.x,u.y)}if(n.stroke(),s.length>0){const o=xe(s[s.length-1],r);n.fillStyle="#f59e0b",n.beginPath(),n.arc(o.x,o.y,4,0,2*Math.PI),n.fill(),n.strokeStyle="#ffffff",n.lineWidth=1,n.stroke()}n.restore()},dn=(n,s)=>({x:n.x+s.x,y:n.y+s.y}),J1=(n,s)=>n.type==="LINE"?{...n,start:dn(n.start,s),end:dn(n.end,s)}:n.type==="CIRCLE"?{...n,center:dn(n.center,s)}:n.type==="ARC"?{...n,center:dn(n.center,s)}:n.type==="LWPOLYLINE"?{...n,vertices:n.vertices.map(r=>dn(r,s))}:n.type==="DIMENSION"?{...n,start:dn(n.start,s),end:dn(n.end,s)}:n.type==="INSERT"?{...n,insertionPoint:dn(n.insertionPoint,s)}:n.type==="TEXT"?{...n,point:dn(n.point,s)}:n.type==="MTEXT"?{...n,boxCorner:dn(n.boxCorner,s)}:n,F1=(n,s,r)=>{if(n.id!==s.elementId)return n;const i=JSON.parse(JSON.stringify(n));if(i.type==="LINE")s.type==="START"?i.start=r:s.type==="END"&&(i.end=r);else if(i.type==="LWPOLYLINE")typeof s.index=="number"&&i.vertices[s.index]&&(i.vertices[s.index]=r);else if(i.type==="CIRCLE"||i.type==="ARC")s.type==="CENTER"&&(i.center=r);else if(i.type==="TEXT")i.point=r;else if(i.type==="MTEXT"){if(s.type==="INSERTION"){const o=r.x-(i.boxCorner.x+i.boxWidth/2),u=r.y-(i.boxCorner.y-i.boxHeight/2);i.boxCorner={x:i.boxCorner.x+o,y:i.boxCorner.y+u}}else if(s.type==="CORNER"&&typeof s.index=="number"){const o=[i.boxCorner,{x:i.boxCorner.x+i.boxWidth,y:i.boxCorner.y},{x:i.boxCorner.x+i.boxWidth,y:i.boxCorner.y-i.boxHeight},{x:i.boxCorner.x,y:i.boxCorner.y-i.boxHeight}],u=(s.index+2)%4,f=o[u],y=Math.min(r.x,f.x),h=Math.max(r.x,f.x),m=Math.min(r.y,f.y),x=Math.max(r.y,f.y);i.boxCorner={x:y,y:x},i.boxWidth=Math.max(h-y,10),i.boxHeight=Math.max(x-m,10)}}return i},gn=(n,s)=>[1,0,n,0,1,s,0,0,1],Nu=n=>{const s=Math.cos(n),r=Math.sin(n);return[s,-r,0,r,s,0,0,0,1]},Tu=(n,s)=>{const r=gn(-s.x,-s.y),i=Nu(n),o=gn(s.x,s.y);return va(o,va(i,r))},Xh=(n,s)=>[n,0,0,0,s,0,0,0,1],Au=(n,s)=>{const r=gn(-s.x,-s.y),i=Xh(n,n),o=gn(s.x,s.y);return va(o,va(i,r))},Gh=(n,s)=>{const r=s.x-n.x,i=s.y-n.y,o=Math.atan2(i,r),u=gn(-n.x,-n.y),f=Nu(-o),y=Xh(1,-1),h=Nu(o),m=gn(n.x,n.y);return va(m,va(h,va(y,va(f,u))))},va=(n,s)=>{const r=n[0],i=n[1],o=n[2],u=n[3],f=n[4],y=n[5],h=n[6],m=n[7],x=n[8],v=s[0],b=s[1],M=s[2],T=s[3],E=s[4],N=s[5],R=s[6],z=s[7],C=s[8];return[r*v+i*T+o*R,r*b+i*E+o*z,r*M+i*N+o*C,u*v+f*T+y*R,u*b+f*E+y*z,u*M+f*N+y*C,h*v+m*T+x*R,h*b+m*E+x*z,h*M+m*N+x*C]},Pe=(n,s)=>({x:s[0]*n.x+s[1]*n.y+s[2],y:s[3]*n.x+s[4]*n.y+s[5]}),Hs=n=>Math.atan2(n[3],n[0])*(180/Math.PI),$1=n=>n[0]*n[4]-n[1]*n[3],ei=(n,s)=>{const r=JSON.parse(JSON.stringify(n)),o=$1(s)<0;switch(r.type){case"LINE":{const u=r;return u.start=Pe(u.start,s),u.end=Pe(u.end,s),u}case"LWPOLYLINE":{const u=r;return u.vertices=u.vertices.map(f=>{const y=Pe(f,s);return f.bulge&&o?{...y,bulge:-f.bulge}:{...f,...y}}),u}case"CIRCLE":{const u=r,f=Pe(u.center,s),y=Pe({x:0,y:0},s),h=Pe({x:1,y:0},s),m=Math.hypot(h.x-y.x,h.y-y.y);return u.center=f,u.radius*=m,u}case"ARC":{const u=r,f=Pe(u.center,s),y=Pe({x:0,y:0},s),h=Pe({x:1,y:0},s),m=Math.hypot(h.x-y.x,h.y-y.y);Hs(s);const x=u.startAngle*Math.PI/180,v=u.endAngle*Math.PI/180,b={x:u.center.x+u.radius*Math.cos(x),y:u.center.y+u.radius*Math.sin(x)},M={x:u.center.x+u.radius*Math.cos(v),y:u.center.y+u.radius*Math.sin(v)},T=Pe(b,s),E=Pe(M,s);u.center=f,u.radius*=m;let N=Math.atan2(T.y-f.y,T.x-f.x)*180/Math.PI;N<0&&(N+=360);let R=Math.atan2(E.y-f.y,E.x-f.x)*180/Math.PI;return R<0&&(R+=360),o?(u.startAngle=R,u.endAngle=N):(u.startAngle=N,u.endAngle=R),u}case"TEXT":{const u=r;u.point=Pe(u.point,s);const f=Hs(s);return u.rotation=(u.rotation+f)%360,u}case"MTEXT":{const u=r;u.boxCorner=Pe(u.boxCorner,s);const f=Pe({x:0,y:0},s),y=Pe({x:1,y:0},s),h=Math.hypot(y.x-f.x,y.y-f.y),m=Hs(s);return u.boxWidth*=h,u.boxHeight*=h,u.style?u.style.height*=h:u.height*=h,u.rotation=(u.rotation+m)%360,u}case"IMAGE":{const u=r;u.x,u.y;const f=Pe({x:u.x,y:u.y},s),y=Pe({x:0,y:0},s),h=Pe({x:1,y:0},s),m=Math.hypot(h.x-y.x,h.y-y.y),x=Hs(s);return u.x=f.x,u.y=f.y,u.width*=m,u.height*=m,u.rotation=(u.rotation+x)%360,u}case"SPLINE":{const u=r;return u.controlPoints=u.controlPoints.map(f=>Pe(f,s)),u}case"INSERT":{const u=r;u.insertionPoint=Pe(u.insertionPoint,s);const f=Pe({x:0,y:0},s),y=Pe({x:1,y:0},s),h=Math.hypot(y.x-f.x,y.y-f.y),m=Hs(s);return u.scale.x*=h,u.scale.y*=h,u.rotation=(u.rotation+m)%360,u}case"DIMENSION":{const u=r;return u.start=Pe(u.start,s),u.end=Pe(u.end,s),u}default:return r}},ep=(n,s,r,i,o,u,f,y,h=null,m=null,x=null,v={},b=null,M=null)=>{n.clearRect(0,0,s,r),n.fillStyle="#121212",n.fillRect(0,0,s,r),H1(n,s,r,i),n.lineCap="round",n.lineJoin="round";const T=new Map(f.map(C=>[C.name,C]));xe({x:-1e10,y:1e10},i);const E={x:Math.min(qe({x:0,y:0},i).x,qe({x:s,y:r},i).x),y:Math.min(qe({x:0,y:0},i).y,qe({x:s,y:r},i).y)},N={x:Math.max(qe({x:0,y:0},i).x,qe({x:s,y:r},i).x),y:Math.max(qe({x:0,y:0},i).y,qe({x:s,y:r},i).y)},R=C=>{const H=zh([C]);return H?!(H.max.x<E.x||H.min.x>N.x||H.max.y<E.y||H.min.y>N.y):!0},z=(C,H,P,X=!1)=>{const Q=T.get(C.layer);if(Q&&!Q.visible||!X&&!R(C))return;let ie=H||(X?"#3b82f6":C.color==="BYLAYER"||!C.color?(Q==null?void 0:Q.color)||"#ffffff":C.color),F=P||(X?2:1);C.type==="INSERT"?(lh(n,C,i,v,ie,F,!1),X&&Pa(n,C.insertionPoint,i,"#3b82f6",4)):C.type==="DIMENSION"?G1(n,C,i,ie):C.type==="TEXT"?(sh(n,C,i,ie),X&&Pa(n,C.point,i,"#3b82f6",4)):C.type==="MTEXT"?(X1(n,C,i,ie),X&&Pa(n,C.boxCorner,i,"#3b82f6",4)):C.type==="IMAGE"?(V1(n,C,i),X&&Pa(n,{x:C.x,y:C.y},i,"#3b82f6",4)):Mu(n,C,i,ie,F,!1,C.lineStyle),X&&!y&&Q1(n,C,i)};if(o.forEach(C=>{var P;const H=u.includes(C.id);if(H&&M){const X=ei(C,M);z(X,"#3b82f6",2,!1);return}if(H&&(y!=null&&y.isActive))if(y.mode==="STRETCH"&&((P=y.activeHandle)==null?void 0:P.elementId)===C.id){const X=F1(C,y.activeHandle,y.currentPos);z(X,"#3b82f6",2,!1),z(C,"#4b5563",1,!1)}else if(y.mode==="MOVE"){y.isCopy&&z(C,void 0,1,!1);const X=J1(C,y.offset);z(X,"#3b82f6",2,!1)}else z(C,void 0,void 0,!0);else z(C,void 0,void 0,H)}),y!=null&&y.isActive){y.guides.forEach(H=>Y1(n,H,i)),y.mode==="MOVE"&&Pa(n,y.basePoint,i,"#f59e0b",4,!0);const C=y.currentPos;if(y.snap?I1(n,y.snap,i):Pa(n,C,i,"#3b82f6",3),y.mode==="MOVE"){const H=xe(y.basePoint,i),P=xe(C,i);n.beginPath(),n.strokeStyle="#60a5fa",n.setLineDash([2,2]),n.lineWidth=1,n.moveTo(H.x,H.y),n.lineTo(P.x,P.y),n.stroke(),n.setLineDash([])}}h&&(h.id==="measure"?P1(n,h,i):h.type==="TEXT"?sh(n,h,i,"#a855f7"):h.type==="INSERT"?lh(n,h,i,v,"#a855f7",1,!0):Mu(n,h,i,"#a855f7",1,!0)),m&&Z1(n,m.start,m.end,i,m.type),x&&x.length>0&&K1(n,x,i),b&&b.length>0&&W1(n,b,i)},tp=({canvasRef:n,view:s,setView:r,elements:i,selection:o,layers:u,dragState:f,previewEl:y,mode:h,dragStart:m,currentMouse:x,selectionBox:v,fencePolygon:b,trimPath:M,blocks:T,previewMatrix:E})=>{O.useEffect(()=>{const N=n.current;if(!N)return;const R=N.getContext("2d");if(!R)return;let z;const C=()=>{(N.width!==window.innerWidth||N.height!==window.innerHeight)&&(N.width=window.innerWidth,N.height=window.innerHeight);let H=null;if(v)H=v;else if(h==="DRAG_SELECT"&&m&&x){const P=qe(m,s),X=qe(x,s),Q=X.x-P.x;H={start:P,end:X,type:Q>0?"WINDOW":"CROSSING"}}ep(R,N.width,N.height,s,i,o,u,f.isActive?f:null,y,H,b,T,M||null,E||null),z=requestAnimationFrame(C)};return C(),()=>cancelAnimationFrame(z)},[s,i,o,y,u,h,m,x,v,b,M,f,T,E])},np=n=>{var i;const s=O.useRef(null),r=n.canvasRef||s;return tp({canvasRef:r,view:n.view,setView:n.setView,elements:n.elements,selection:n.selection,layers:n.layers,dragState:n.dragState,previewEl:n.previewEl,mode:n.mode,dragStart:n.dragStart,currentMouse:n.currentMouse,selectionBox:n.selectionBox,fencePolygon:n.fencePolygon,trimPath:n.trimPath,blocks:n.blocks,previewMatrix:(i=n.transformState)==null?void 0:i.previewMatrix}),g.jsx("canvas",{ref:r,className:"block touch-none cursor-crosshair bg-[#121212]",onMouseDown:n.onMouseDown,onMouseMove:n.onMouseMove,onMouseUp:n.onMouseUp,onDoubleClick:n.onDoubleClick,onContextMenu:n.onContextMenu})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lp=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,i)=>i?i.toUpperCase():r.toLowerCase()),rh=n=>{const s=lp(n);return s.charAt(0).toUpperCase()+s.slice(1)},Ph=(...n)=>n.filter((s,r,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===r).join(" ").trim(),sp=n=>{for(const s in n)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ip={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:f,...y},h)=>O.createElement("svg",{ref:h,...ip,width:s,height:s,stroke:n,strokeWidth:i?Number(r)*24/Number(s):r,className:Ph("lucide",o),...!u&&!sp(y)&&{"aria-hidden":"true"},...y},[...f.map(([m,x])=>O.createElement(m,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(n,s)=>{const r=O.forwardRef(({className:i,...o},u)=>O.createElement(rp,{ref:u,iconNode:s,className:Ph(`lucide-${ap(rh(n))}`,`lucide-${n}`,i),...o}));return r.displayName=rh(n),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vh=ae("activity",cp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],up=ae("bold",op);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],fp=ae("box",dp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ws=ae("check",yp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ch=ae("chevron-down",hp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gp=ae("chevron-right",mp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],pp=ae("circle-dot",xp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uu=ae("circle",vp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],Sp=ae("corner-down-left",bp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]],Mp=ae("corner-up-right",Ep);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Tp=ae("crosshair",Np);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Cp=ae("external-link",Ap);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Dp=ae("eye-off",Rp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lp=ae("eye",jp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Qh=ae("grid-3x3",Op);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],_p=ae("hand",zp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kp=ae("image",wp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Bp=ae("italic",Up);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ip=ae("layers",Hp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],qp=ae("layout-template",Yp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Zh=ae("lock-open",Xp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Kh=ae("lock",Gp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"m12 15 4 4",key:"lnac28"}],["path",{d:"M2.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.029-6.029a1 1 0 1 1 3 3l-6.029 6.029a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.365-6.367A1 1 0 0 0 8.716 4.282z",key:"nlhkjb"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}]],Vp=ae("magnet",Pp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Wh=ae("maximize",Qp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Kp=ae("menu",Zp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]],Jp=ae("merge",Wp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M5 12h14",key:"1ays0h"}]],Jh=ae("minus",Fp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],ev=ae("mouse-pointer-2",$p);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],nv=ae("mouse-pointer",tv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],lv=ae("move",av);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],iv=ae("navigation",sv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cv=ae("palette",rv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],uv=ae("pen-tool",ov);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fv=ae("plus",dv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],hv=ae("redo",yv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gv=ae("refresh-cw",mv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],pv=ae("rotate-cw",xv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Fh=ae("ruler",vv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sv=ae("save",bv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]],Mv=ae("scaling",Ev);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],$h=ae("scissors",Nv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Av=ae("search",Tv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Rv=ae("settings-2",Cv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jv=ae("settings",Dv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Ov=ae("sliders-vertical",Lv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],_v=ae("split",zv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],em=ae("square-check-big",wv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],Uv=ae("square-dashed",kv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Bu=ae("square",Bv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],Iv=ae("text-align-center",Hv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],qv=ae("text-align-end",Yv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],tm=ae("text-align-start",Xv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nm=ae("trash-2",Gv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],Hu=ae("triangle",Pv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],am=ae("type",Vv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Zv=ae("underline",Qv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Wv=ae("undo",Kv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Fv=ae("undo-2",Jv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],eb=ae("waves",$v);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ql=ae("x",tb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ab=ae("zap",nb),lb={[de.QUICK]:"Click a segment to remove the nearest fragment split by intersections.",[de.POWER]:"Drag a fence; segments touched by the fence corridor are removed.",[de.CORNER]:"Select two lines/arcs to extend/trim them to a corner intersection.",[de.INSIDE]:"Draw a box; remove parts inside the box.",[de.OUTSIDE]:"Draw a box; remove parts outside the box."},sb=({mode:n,setMode:s})=>{const[r,i]=O.useState({visible:!1,text:"",x:0,y:0}),o=O.useRef(null),u=[{id:de.QUICK,label:"Quick",icon:g.jsx($h,{size:16})},{id:de.POWER,label:"Power",icon:g.jsx(ab,{size:16})},{id:de.CORNER,label:"Corner",icon:g.jsx(Wh,{size:16})},{id:de.INSIDE,label:"Inside",icon:g.jsx(Uv,{size:16})},{id:de.OUTSIDE,label:"Outside",icon:g.jsx(Cp,{size:16})}];O.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const f=(m,x)=>{o.current&&clearTimeout(o.current);const b=x.currentTarget.getBoundingClientRect();o.current=window.setTimeout(()=>{i({visible:!0,text:lb[m],x:b.left+b.width/2,y:b.bottom+8})},150)},y=()=>{o.current&&(clearTimeout(o.current),o.current=null),i(m=>({...m,visible:!1}))},h=m=>{m.key==="Escape"&&y()};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-2 flex gap-2 z-50",children:[g.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase flex items-center px-2 border-r border-gray-700",children:"Trim Mode"}),u.map(m=>g.jsxs("button",{onClick:()=>s(m.id),onMouseEnter:x=>f(m.id,x),onMouseLeave:y,onFocus:x=>f(m.id,x),onBlur:y,onKeyDown:h,className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${n===m.id?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,"aria-describedby":r.visible?"trim-tooltip":void 0,children:[m.icon,g.jsx("span",{children:m.label})]},m.id))]}),r.visible&&g.jsxs("div",{id:"trim-tooltip",role:"tooltip",className:"fixed z-[60] px-3 py-2 text-sm text-white bg-gray-800 rounded-lg shadow-lg border border-gray-700 max-w-xs pointer-events-none",style:{left:r.x,top:r.y,transform:"translateX(-50%)"},children:[r.text,g.jsx("div",{className:"absolute -top-1.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-gray-800 border-l border-t border-gray-700 rotate-45"})]})]})},Iu=n=>{try{const s=n.replace(/(mm|cm|m|in|ft|unit|px)$/i,"").trim();if(!s)return NaN;if(!/^[0-9+\-*/().\s]+$/.test(s))return NaN;const i=new Function(`return ${s}`)();return typeof i=="number"&&isFinite(i)?i:NaN}catch{return NaN}},Ae=({value:n,onCommit:s,displayPrecision:r=2,min:i,max:o,integer:u=!1,className:f,disabled:y,...h})=>{const[m,x]=O.useState(E(n,r,u)),[v,b]=O.useState(!1),[M,T]=O.useState(!1);function E(X,Q,ie){return ie||Number.isInteger(X)?Math.round(X).toString():X.toFixed(Q)}O.useEffect(()=>{v||(x(E(n,r,u)),T(!1))},[n,v,r,u]);const N=X=>{b(!1),z()},R=X=>{X.key==="Enter"?(z(),X.currentTarget.blur()):X.key==="Escape"&&(x(E(n,r,u)),T(!1),X.currentTarget.blur())},z=()=>{let X=Iu(m);isNaN(X)?(T(!0),x(E(n,r,u))):(u&&(X=Math.round(X)),i!==void 0&&(X=Math.max(i,X)),o!==void 0&&(X=Math.min(o,X)),T(!1),s(X),x(E(X,r,u)))},C="transition-colors duration-150",H=M?"border-red-500 ring-1 ring-red-500":"",P=y?"opacity-50 cursor-not-allowed":"";return g.jsx("input",{...h,type:"text",value:m,onChange:X=>{x(X.target.value),M&&T(!1)},onBlur:N,onFocus:()=>b(!0),onKeyDown:R,disabled:y,title:M?"Invalid expression. Use numbers and +, -, *, /, ()":void 0,className:`${f} ${C} ${H} ${P}`,autoComplete:"off"})},ib=({state:n,onClose:s,onApply:r,onRemove:i})=>{const[o,u]=O.useState(5),[f,y]=O.useState(!1);return O.useEffect(()=>{const h=document.getElementById("fillet-radius-input");h&&h.focus()},[]),n.visible?g.jsxs("div",{className:"fixed z-[100] bg-gray-900 border border-gray-700 rounded-lg shadow-2xl p-3 flex flex-col gap-3 min-w-[200px]",style:{left:n.position.x,top:n.position.y},children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-2",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Fillet Corner"}),g.jsx("button",{onClick:s,className:"text-gray-500 hover:text-white",children:g.jsx(ql,{size:14})})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"text-xs text-blue-400",children:"Radius"}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(Ae,{id:"fillet-radius-input",value:o,onCommit:u,className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-sm"})})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"fillet-all",checked:f,onChange:h=>y(h.target.checked),className:"w-4 h-4 bg-gray-800 border-gray-700 rounded text-blue-600 focus:ring-0"}),g.jsx("label",{htmlFor:"fillet-all",className:"text-xs text-gray-300 select-none cursor-pointer flex items-center gap-1",children:"Apply to all corners"})]}),g.jsxs("button",{onClick:()=>r(o,f),className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white py-1.5 rounded text-xs transition-colors",children:[g.jsx(Sp,{size:14}),"Apply Fillet"]}),n.hasBulge&&g.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-2 bg-gray-800 hover:bg-red-900/50 text-red-400 py-1.5 rounded text-xs transition-colors border border-gray-700",children:[g.jsx(Fv,{size:14}),"Remove Fillet"]})]}):null},rb=({dragState:n,screenPos:s,onCommit:r,typingValue:i,setTypingValue:o})=>{const[u,f]=O.useState("dist"),y=!!n.customInput,h=y?["custom"]:["dist","angle","dx","dy"];O.useEffect(()=>{y&&x(0)},[y]);const[m,x]=O.useState(0),v=n.offset.x,b=n.offset.y,M=te({x:0,y:0},n.offset),T=$s({x:0,y:0},n.offset),E=O.useRef(null);O.useEffect(()=>{const C=H=>{H.key==="Tab"&&(H.preventDefault(),x(P=>(P+1)%h.length),o(null))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[o,h.length]),O.useEffect(()=>{i!==null&&E.current&&E.current.focus()},[i]);const N=()=>{if(i===null)return;const C=Iu(i);isNaN(C)||r(C,y?"custom":h[m]),o(null)},R=C=>{var H;if(C==="custom")return((H=n.customInput)==null?void 0:H.label)||"";switch(C){case"dist":return"L";case"angle":return"";case"dx":return"X";case"dy":return"Y"}return""},z=C=>{var H;if(i!==null&&(C==="custom"||h[m]===C))return i;if(C==="custom")return((H=n.customInput)==null?void 0:H.value)||"";switch(C){case"dist":return M.toFixed(2);case"angle":return T.toFixed(2);case"dx":return v.toFixed(2);case"dy":return b.toFixed(2)}return""};return g.jsx("div",{className:"absolute z-50 pointer-events-none flex flex-col gap-1",style:{left:s.x+20,top:s.y+20},children:h.map((C,H)=>{const P=H===m;return g.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded backdrop-blur-md shadow-sm transition-colors ${P?"bg-blue-600/90 text-white":"bg-gray-800/80 text-gray-300"}`,children:[g.jsx("span",{className:"font-mono text-xs font-bold w-6",children:R(C)}),P&&i!==null?g.jsx("input",{ref:E,type:"text",value:i,onChange:X=>o(X.target.value),onKeyDown:X=>{X.key==="Enter"&&N(),X.stopPropagation()},className:"bg-transparent border-none outline-none text-white font-mono text-sm w-20 pointer-events-auto",autoFocus:!0}):g.jsx("span",{className:"font-mono text-sm",children:z(C)}),g.jsx("span",{className:"text-[10px] opacity-50 ml-auto pl-2",children:P?"TAB":""})]},C)})})};var Be=(n=>(n.Radius="RADIUS",n.Diameter="DIAMETER",n.TwoPointArc="ARC_2PT",n.ThreePointArc="ARC_3PT",n))(Be||{});function Yu(n,s){return Math.hypot(s.x-n.x,s.y-n.y)}function cb(n,s){return{x:(n.x+s.x)/2,y:(n.y+s.y)/2}}function gu(n,s){return{center:cb(n,s),radius:Yu(n,s)/2}}function oh(n,s){return{center:n,radius:Yu(n,s)}}function ti(n,s,r){const i=n.x,o=n.y,u=s.x,f=s.y,y=r.x,h=r.y,m=2*(i*(f-h)+u*(h-o)+y*(o-f));if(Math.abs(m)<1e-10)return null;const x={x:((i*i+o*o)*(f-h)+(u*u+f*f)*(h-o)+(y*y+h*h)*(o-f))/m,y:((i*i+o*o)*(y-u)+(u*u+f*f)*(i-y)+(y*y+h*h)*(u-i))/m},v=Yu(x,n),b=Math.atan2(n.y-x.y,n.x-x.x),M=Math.atan2(s.y-x.y,s.x-x.x),T=Math.atan2(r.y-x.y,r.x-x.x);let E=!1;return b<T?E=M>b&&M<T:E=M>b||M<T,E?{center:x,radius:v,startAngle:b,endAngle:T}:{center:x,radius:v,startAngle:T,endAngle:b}}function lm(n,s,r,i){const o=Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2),u=Math.sqrt(o);if(u>2*r)return null;const f={x:(n.x+s.x)/2,y:(n.y+s.y)/2},y=Math.sqrt(Math.max(0,r*r-o/4)),h=(s.x-n.x)/u,m=(s.y-n.y)/u,x={x:f.x-m*y,y:f.y+h*y},v={x:f.x+m*y,y:f.y-h*y},b=ti(n,i,s);if(!b)return null;const M=Math.hypot(x.x-b.center.x,x.y-b.center.y),T=Math.hypot(v.x-b.center.x,v.y-b.center.y),E=M<T?x:v,N=Math.atan2(n.y-E.y,n.x-E.x),R=Math.atan2(s.y-E.y,s.x-E.x);let z=N,C=R;const H=Math.atan2(i.y-E.y,i.x-E.x);let P=C-z;P<0&&(P+=2*Math.PI);let X=H-z;return X<0&&(X+=2*Math.PI),X<P?{center:E,radius:r,startAngle:z,endAngle:C}:{center:E,radius:r,startAngle:C,endAngle:z}}const ob={onMouseDown(n,s,r){if(!n.dragStart)n.setDragStart(r),n.setDragState({isActive:!0,mode:"MOVE",startMouse:s,basePoint:r,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"R",value:"0.0000"}});else{const{center:i,radius:o}=oh(n.dragStart,r),u={type:"CIRCLE",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i,radius:o};n.setElements(f=>[...f,u]),n.setDragStart(null),n.setPreviewEl(null),n.setDragState({isActive:!1})}},onMouseMove(n,s,r){if(n.dragStart){const{center:i,radius:o}=oh(n.dragStart,r),u={type:"CIRCLE",id:"preview",layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i,radius:o};n.setPreviewEl(u),n.setDragState({isActive:!0,mode:"MOVE",basePoint:i,currentPos:r,offset:{x:r.x-i.x,y:r.y-i.y},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"R",value:o.toFixed(4)}})}},onInputCommit(n,s){if(n.dragStart&&s>0){const r=n.dragStart,i=s,o={type:"CIRCLE",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:r,radius:i};n.setElements(u=>[...u,o]),n.setDragStart(null),n.setPreviewEl(null),n.setDragState({isActive:!1})}}},ub={onMouseDown(n,s,r){if(!n.dragStart)n.setDragStart(r),n.setDragState({isActive:!0,mode:"MOVE",startMouse:s,basePoint:r,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"D",value:"0.0000"}});else{const{center:i,radius:o}=gu(n.dragStart,r),u={type:"CIRCLE",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i,radius:o};n.setElements(f=>[...f,u]),n.setDragStart(null),n.setPreviewEl(null),n.setDragState({isActive:!1})}},onMouseMove(n,s,r){if(n.dragStart){const{center:i,radius:o}=gu(n.dragStart,r),u=o*2,f={type:"CIRCLE",id:"preview",layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i,radius:o};n.setPreviewEl(f),n.setDragState({isActive:!0,mode:"MOVE",basePoint:i,currentPos:r,offset:{x:r.x-i.x,y:r.y-i.y},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"D",value:u.toFixed(4)}})}},onInputCommit(n,s){if(n.dragStart&&s>0&&n.dragState.currentPos){const r=n.dragStart,i=n.dragState.currentPos,o=Math.hypot(i.x-r.x,i.y-r.y);let u=i.x-r.x,f=i.y-r.y;o<1e-9?(u=1,f=0):(u/=o,f/=o);const y={x:r.x+u*s,y:r.y+f*s},{center:h,radius:m}=gu(r,y),x={type:"CIRCLE",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:h,radius:m};n.setElements(v=>[...v,x]),n.setDragStart(null),n.setPreviewEl(null),n.setDragState({isActive:!1})}}};let kn=0,Ht=null,fn=null;const Lr=()=>{kn=0,Ht=null,fn=null},db={onMouseDown(n,s,r){if(kn===0)Ht=r,kn=1,n.setDragStart(r),n.setDragState({isActive:!0,mode:"MOVE",basePoint:r,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"L",value:"0.00"}});else if(kn===1)fn=r,kn=2,n.setDragState({isActive:!0,mode:"MOVE",basePoint:r,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:ln()==="RADIUS"?"R":"D",value:"0.00"}});else if(kn===2&&Ht&&fn){const i=ti(Ht,r,fn);if(i){const o={type:"ARC",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i.center,radius:i.radius,startAngle:i.startAngle,endAngle:i.endAngle};n.setElements(u=>[...u,o])}Lr(),n.setPreviewEl(null),n.setDragStart(null),n.setDragState({isActive:!1})}},onMouseMove(n,s,r){if(kn===1&&Ht){const i={type:"LINE",id:"preview_line",start:Ht,end:r,layer:"0",color:"BYLAYER"};n.setPreviewEl(i);const o=Math.hypot(r.x-Ht.x,r.y-Ht.y);n.setDragState({isActive:!0,mode:"MOVE",basePoint:Ht,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"L",value:o.toFixed(4)}})}else if(kn===2&&Ht&&fn){const i=ti(Ht,r,fn);if(i){const o={type:"ARC",id:"preview",layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i.center,radius:i.radius,startAngle:i.startAngle,endAngle:i.endAngle};n.setPreviewEl(o);const u=ln()==="RADIUS"?1:2;n.setDragState({isActive:!0,mode:"MOVE",basePoint:fn,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:ln()==="RADIUS"?"R":"D",value:(i.radius*u).toFixed(4)}})}}},onInputCommit(n,s){if(kn===2&&Ht&&fn&&s>0){const r=ln()==="RADIUS"?1:2,i=s/r,o=n.dragState.currentPos||fn,u=lm(Ht,fn,i,o);if(u){const f={type:"ARC",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:u.center,radius:u.radius,startAngle:u.startAngle,endAngle:u.endAngle};n.setElements(y=>[...y,f]),Lr(),n.setPreviewEl(null),n.setDragStart(null),n.setDragState({isActive:!1})}}}};let Un=0,bt=null,Ft=null;const Or=()=>{Un=0,bt=null,Ft=null},xu=n=>{for(;n<0;)n+=2*Math.PI;for(;n>=2*Math.PI;)n-=2*Math.PI;return n},fb={onMouseDown(n,s,r){if(Un===0)bt=r,Un=1,n.setDragStart(r),n.setDragState({isActive:!0,mode:"MOVE",basePoint:r,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"Start",value:""}});else if(Un===1)Ft=r,Un=2,n.setDragState({isActive:!0,mode:"MOVE",basePoint:r,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:ln()==="RADIUS"?"R":"D",value:"0.00"}});else if(Un===2&&bt&&Ft){const i=ti(bt,Ft,r);if(i){const o={type:"ARC",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i.center,radius:i.radius,startAngle:i.startAngle,endAngle:i.endAngle};n.setElements(u=>[...u,o])}Or(),n.setPreviewEl(null),n.setDragStart(null),n.setDragState({isActive:!1})}},onMouseMove(n,s,r){if(Un===1&&bt){const i={type:"LINE",id:"preview_line",start:bt,end:r,layer:"0",color:"BYLAYER"};n.setPreviewEl(i);const o=Math.hypot(r.x-bt.x,r.y-bt.y);n.setDragState({isActive:!0,mode:"MOVE",basePoint:bt,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:"L",value:o.toFixed(4)}})}else if(Un===2&&bt&&Ft){const i=ti(bt,Ft,r);if(i){const o={type:"ARC",id:"preview",layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:i.center,radius:i.radius,startAngle:i.startAngle,endAngle:i.endAngle};n.setPreviewEl(o);const u=ln()==="RADIUS"?1:2;n.setDragState({isActive:!0,mode:"MOVE",basePoint:Ft,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1,customInput:{label:ln()==="RADIUS"?"R":"D",value:(i.radius*u).toFixed(4)}})}}},onInputCommit(n,s){if(Un===2&&bt&&Ft&&s>0){const r=ln()==="RADIUS"?1:2,i=s/r,o=n.dragState.currentPos||Ft,u=lm(bt,Ft,i,o);if(u){const f=u.center,y=u.radius;let h=Math.atan2(bt.y-f.y,bt.x-f.x),m=Math.atan2(Ft.y-f.y,Ft.x-f.x),x=Math.atan2(o.y-f.y,o.x-f.x);const v=xu(h);xu(m);const b=xu(x);let M=v,T=b;const E={type:"ARC",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",center:f,radius:y,startAngle:M,endAngle:T};n.setElements(N=>[...N,E]),Or(),n.setPreviewEl(null),n.setDragStart(null),n.setDragState({isActive:!1})}}}};let jt=Be.Radius,ba="RADIUS";const _l={[Be.Radius]:ob,[Be.Diameter]:ub,[Be.TwoPointArc]:db,[Be.ThreePointArc]:fb},uh=n=>{jt=n,n===Be.Radius?ba="RADIUS":n===Be.Diameter&&(ba="DIAMETER"),Lr(),Or()},dh=()=>jt,yb=n=>{ba=n},ln=()=>ba,hb={onMouseDown(n,s,r,i){var o,u;n.dragStart||(Lr(),Or(),jt===Be.Radius?ba="RADIUS":jt===Be.Diameter&&(ba="DIAMETER")),(u=(o=_l[jt]).onMouseDown)==null||u.call(o,n,s,r,i)},onMouseMove(n,s,r,i){var o,u;(u=(o=_l[jt]).onMouseMove)==null||u.call(o,n,s,r,i)},onMouseUp(n,s,r,i){var o,u;(u=(o=_l[jt]).onMouseUp)==null||u.call(o,n,s,r,i)},onContextMenu(n,s,r,i){const o=ba==="RADIUS"?"DIAMETER":"RADIUS";ba=o,jt===Be.Radius&&o==="DIAMETER"?jt=Be.Diameter:jt===Be.Diameter&&o==="RADIUS"&&(jt=Be.Radius),_l[jt].onMouseMove&&_l[jt].onMouseMove(n,s,r,i)},onInputCommit(n,s,r){const i=_l[jt];i.onInputCommit&&i.onInputCommit(n,s,r)}},mb={[Be.Radius]:g.jsx(Uu,{size:16}),[Be.Diameter]:g.jsx(pp,{size:16}),[Be.TwoPointArc]:g.jsx(Mp,{size:16}),[Be.ThreePointArc]:g.jsx(Vh,{size:16})},gb={[Be.Radius]:"Circle (R)",[Be.Diameter]:"Circle (D)",[Be.TwoPointArc]:"Arc 2pt",[Be.ThreePointArc]:"Arc 3pt"},xb=()=>{const[n,s]=O.useState(dh()),[r,i]=O.useState(ln());O.useEffect(()=>{uh(Be.Radius),s(Be.Radius),i("RADIUS")},[]),O.useEffect(()=>{const f=setInterval(()=>{const y=dh();y!==n&&s(y);const h=ln();h!==r&&i(h)},100);return()=>clearInterval(f)},[n,r]);const o=f=>{uh(f),s(f),setTimeout(()=>i(ln()),0)},u=n===Be.TwoPointArc||n===Be.ThreePointArc;return g.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-2 flex gap-4 z-50 items-center",children:[g.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase flex items-center px-2 border-r border-gray-700",children:"Circle / Arc"}),g.jsx("div",{className:"flex gap-2",children:Object.values(Be).map(f=>g.jsxs("button",{onClick:()=>o(f),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${n===f?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[mb[f],g.jsx("span",{children:gb[f]})]},f))}),u&&g.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-700 pl-4",children:[g.jsx("span",{className:"text-xs text-gray-400 font-bold",children:"INPUT:"}),g.jsx("button",{onClick:()=>{const f=r==="RADIUS"?"DIAMETER":"RADIUS";yb(f),i(f)},className:"bg-gray-800 hover:bg-gray-700 text-white px-2 py-1 rounded text-xs font-mono w-8 text-center",children:r==="RADIUS"?"R":"D"})]})]})};var ht=(n=>(n.TwoPoint="LINE_2PT",n.Spline="SPLINE",n.Polyline="POLYLINE",n))(ht||{});const pb={onMouseDown(n,s,r){if(!n.dragStart)n.setDragStart(r),n.setDragState({isActive:!0,mode:"MOVE",basePoint:r,currentPos:r,offset:{x:0,y:0},guides:[],snap:null,isCopy:!1,isOrtho:!1});else{const i={type:"LINE",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",start:n.dragStart,end:r};n.setElements(o=>[...o,i]),n.setDragStart(null),n.setDragState({isActive:!1}),n.setPreviewEl(null)}},onMouseMove(n,s,r){if(n.dragStart){const i={type:"LINE",id:"preview",layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",start:n.dragStart,end:r};n.setPreviewEl(i),n.setDragState({isActive:!0,mode:"MOVE",basePoint:n.dragStart,currentPos:r,offset:{x:r.x-n.dragStart.x,y:r.y-n.dragStart.y},guides:[],snap:null,isCopy:!1,isOrtho:!1})}}};let Bn=[];const qu=()=>{Bn=[]},vb=()=>Bn.length,bb={onMouseDown(n,s,r){Bn.push(r)},onMouseMove(n,s,r){if(Bn.length>0){const i=[...Bn,r],o={type:"SPLINE",id:"preview",layer:n.activeLayer||"0",color:"BYLAYER",controlPoints:i,degree:3,closed:!1};n.setPreviewEl(o);const u=Bn[Bn.length-1];n.setDragState({isActive:!0,mode:"MOVE",basePoint:u,currentPos:r,offset:{x:r.x-u.x,y:r.y-u.y},guides:[],snap:null,isCopy:!1,isOrtho:!1})}},onContextMenu(n){if(Bn.length>=2){const s={type:"SPLINE",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",controlPoints:[...Bn],degree:3,closed:!1};n.setElements(r=>[...r,s])}qu(),n.setPreviewEl(null),n.setDragState({isActive:!1})}};let Hn=[];const Xu=()=>{Hn=[]},Sb=()=>Hn.length,Eb={onMouseDown(n,s,r){Hn.push(r)},onMouseMove(n,s,r){if(Hn.length>0){const i=Fs(),o=[...Hn,r],u={type:"LWPOLYLINE",id:"preview",layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",vertices:o,closed:i};n.setPreviewEl(u);const f=Hn[Hn.length-1];n.setDragState({isActive:!0,mode:"MOVE",basePoint:f,currentPos:r,offset:{x:r.x-f.x,y:r.y-f.y},guides:[],snap:null,isCopy:!1,isOrtho:!1})}},onContextMenu(n){if(Hn.length>=2){const s={type:"LWPOLYLINE",id:n.generateId(),layer:n.activeLayer||"0",color:"BYLAYER",lineStyle:"CONTINUOUS",vertices:[...Hn],closed:Fs()};n.setElements(r=>[...r,s])}Xu(),n.setPreviewEl(null),n.setDragState({isActive:!1})}};let Yn=ht.TwoPoint,sm=!1,hn=null;const Ps={[ht.TwoPoint]:pb,[ht.Spline]:bb,[ht.Polyline]:Eb},Mb=n=>{Yn=n,qu(),Xu()},Js=()=>Yn,Nb=n=>{sm=n},Fs=()=>sm,fh=()=>{var n,s;hn&&((s=(n=Ps[Yn]).onContextMenu)==null||s.call(n,hn))},yh=()=>{qu(),Xu(),hn&&(hn.setPreviewEl(null),hn.setDragState({isActive:!1}),hn.setDragStart(null))},hh=()=>{if(Yn===ht.Spline){const n=vb();return{count:n,canFinish:n>=2}}if(Yn===ht.Polyline){const n=Sb();return{count:n,canFinish:n>=2}}return{count:0,canFinish:!1}},Tb={onMouseDown(n,s,r,i){var o,u;hn=n,(u=(o=Ps[Yn]).onMouseDown)==null||u.call(o,n,s,r,i)},onMouseMove(n,s,r,i){var o,u;hn=n,(u=(o=Ps[Yn]).onMouseMove)==null||u.call(o,n,s,r,i)},onMouseUp(n,s,r,i){var o,u;hn=n,(u=(o=Ps[Yn]).onMouseUp)==null||u.call(o,n,s,r,i)},onContextMenu(n,s,r,i){var o,u;hn=n,(u=(o=Ps[Yn]).onContextMenu)==null||u.call(o,n,s,r,i)}},Ab=()=>{const[n,s]=O.useState(!1),[r,i]=O.useState(!1);return O.useEffect(()=>{const o=setInterval(()=>{if(Js()===ht.TwoPoint){s(!1);return}const f=hh();s(f.count>0),i(f.canFinish)},100);return()=>clearInterval(o)},[]),O.useEffect(()=>{const o=u=>{if(Js()===ht.TwoPoint)return;const f=hh();f.count!==0&&(u.key==="Enter"?(u.preventDefault(),u.stopPropagation(),f.canFinish&&fh()):u.key==="Escape"&&(u.preventDefault(),u.stopPropagation(),yh()))};return window.addEventListener("keydown",o,!0),()=>window.removeEventListener("keydown",o,!0)},[]),n?g.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-600 pl-4 ml-2 animate-in fade-in slide-in-from-left-2 duration-200",children:[g.jsxs("button",{onClick:fh,disabled:!r,className:`flex items-center gap-1 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider transition-all ${r?"bg-green-600 text-white hover:bg-green-500 shadow-lg shadow-green-900/20 transform hover:scale-105":"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700"}`,title:"Apply (Enter)",children:[g.jsx(Ws,{size:14,strokeWidth:3}),g.jsx("span",{children:"Apply"})]}),g.jsx("button",{onClick:yh,className:"flex items-center gap-1 px-3 py-1.5 rounded text-xs font-bold uppercase tracking-wider bg-gray-800 text-red-400 border border-red-900/30 hover:bg-red-900/20 hover:text-red-300 transition-colors",title:"Cancel (Esc)",children:g.jsx(ql,{size:14,strokeWidth:3})})]}):null},Cb={[ht.TwoPoint]:g.jsx(Jh,{size:16,transform:"rotate(-45)"}),[ht.Polyline]:g.jsx(Vh,{size:16}),[ht.Spline]:g.jsx(eb,{size:16})},Rb={[ht.TwoPoint]:"Line",[ht.Polyline]:"Polyline",[ht.Spline]:"Spline"},Db=()=>{const[n,s]=O.useState(Js()),[r,i]=O.useState(Fs());O.useEffect(()=>{s(Js()),i(Fs());const f=setInterval(()=>{const y=Js();y!==n&&s(y);const h=Fs();h!==r&&i(h)},100);return()=>clearInterval(f)},[n,r]);const o=f=>{Mb(f),s(f)},u=()=>{const f=!r;Nb(f),i(f)};return g.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-2 flex gap-4 z-50 items-center",children:[g.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase flex items-center px-2 border-r border-gray-700",children:"Line Tools"}),g.jsx("div",{className:"flex gap-2",children:Object.values(ht).map(f=>g.jsxs("button",{onClick:()=>o(f),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${n===f?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[Cb[f],g.jsx("span",{children:Rb[f]})]},f))}),n===ht.Polyline&&g.jsx("div",{className:"flex items-center gap-2 border-l border-gray-700 pl-4",children:g.jsxs("button",{onClick:u,className:`flex items-center gap-2 px-2 py-1 rounded text-xs transition-colors ${r?"text-blue-400":"text-gray-400 hover:text-white"}`,children:[r?g.jsx(em,{size:14}):g.jsx(Bu,{size:14}),g.jsx("span",{children:"Closed"})]})}),g.jsx(Ab,{})]})};var $t=(n=>(n.Corner="CORNER",n.Center="CENTER",n.ThreePoint="THREE_POINT",n))($t||{});let im=!1,rm=!1;const jb=n=>im=n,qr=()=>im,Lb=n=>rm=n,Xr=()=>rm,mh=(n,s)=>[{x:n.x,y:n.y},{x:s.x,y:n.y},{x:s.x,y:s.y},{x:n.x,y:s.y}],gh=(n,s)=>{const r=Math.abs(s.x-n.x),i=Math.abs(s.y-n.y);return[{x:n.x-r,y:n.y-i},{x:n.x+r,y:n.y-i},{x:n.x+r,y:n.y+i},{x:n.x-r,y:n.y+i}]},xh=(n,s,r)=>{const i=s.x-n.x,o=s.y-n.y,u=Math.sqrt(i*i+o*o);if(u<1e-9)return[n,n,n,n];const f=-o/u,y=i/u,h=r.x-s.x,m=r.y-s.y,x=h*f+m*y,v=f*x,b=y*x,M={x:s.x+v,y:s.y+b},T={x:n.x+v,y:n.y+b};return[n,s,M,T]},Gu=(n,s,r,i)=>{if(n.length<4)return[];const o={x:(n[0].x+n[1].x)/2,y:(n[0].y+n[1].y)/2},u={x:(n[1].x+n[2].x)/2,y:(n[1].y+n[2].y)/2},f={x:(n[2].x+n[3].x)/2,y:(n[2].y+n[3].y)/2},y={x:(n[3].x+n[0].x)/2,y:(n[3].y+n[0].y)/2},h=[];return h.push({id:i(),type:"LINE",layer:s,color:r,lineStyle:"DASHDOT",start:y,end:u}),h.push({id:i(),type:"LINE",layer:s,color:r,lineStyle:"DASHDOT",start:o,end:f}),h},Pu=(n,s,r,i)=>n.length<4?[]:[{id:i(),type:"LINE",layer:s,color:r,lineStyle:"DASHED",start:n[0],end:n[2]},{id:i(),type:"LINE",layer:s,color:r,lineStyle:"DASHED",start:n[1],end:n[3]}],Ob={onMouseDown(n,s,r){if(!n.dragStart)n.setDragStart(r);else{const i=n.dragStart,u=mh(i,r),f=n.activeLayer||"0",y=n.activeColor||"BYLAYER",m=[{id:n.generateId(),type:"LWPOLYLINE",layer:f,color:y,closed:!0,vertices:u}];qr()&&m.push(...Gu(u,f,y,n.generateId)),Xr()&&m.push(...Pu(u,f,y,n.generateId)),n.setElements(x=>[...x,...m]),n.setDragStart(null),n.setPreviewEl(null)}},onMouseMove(n,s,r){if(n.dragStart){const i=n.dragStart,u=mh(i,r),f={id:"preview",type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:u};n.setPreviewEl(f)}},onMouseUp(n,s,r){}},zb={onMouseDown(n,s,r){if(!n.dragStart)n.setDragStart(r);else{const i=n.dragStart,u=gh(i,r),f=n.activeLayer||"0",y=n.activeColor||"BYLAYER",m=[{id:n.generateId(),type:"LWPOLYLINE",layer:f,color:y,closed:!0,vertices:u}];qr()&&m.push(...Gu(u,f,y,n.generateId)),Xr()&&m.push(...Pu(u,f,y,n.generateId)),n.setElements(x=>[...x,...m]),n.setDragStart(null),n.setPreviewEl(null)}},onMouseMove(n,s,r){if(n.dragStart){const i=n.dragStart,u=gh(i,r),f={id:"preview",type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:u};n.setPreviewEl(f)}}};let Dt=[];const Cu=()=>{Dt=[]},_b={onMouseDown(n,s,r){if(Dt.length===0)Dt.push(r),n.setDragStart(r);else if(Dt.length===1)Dt.push(r),n.setDragStart(null);else if(Dt.length===2){const i=Dt[0],o=Dt[1],f=xh(i,o,r),y=n.activeLayer||"0",h=n.activeColor||"BYLAYER",x=[{id:n.generateId(),type:"LWPOLYLINE",layer:y,color:h,closed:!0,vertices:f}];qr()&&x.push(...Gu(f,y,h,n.generateId)),Xr()&&x.push(...Pu(f,y,h,n.generateId)),n.setElements(v=>[...v,...x]),Cu(),n.setPreviewEl(null)}},onMouseMove(n,s,r){if(Dt.length!==0){if(Dt.length===1){const i=Dt[0],o=r,u={id:"preview",type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:[i,o]};n.setPreviewEl(u)}else if(Dt.length===2){const i=xh(Dt[0],Dt[1],r),o={id:"preview",type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:i};n.setPreviewEl(o)}}},onContextMenu(n){Cu(),n.setDragStart(null),n.setPreviewEl(null)}};let xa=$t.Corner;const wb=n=>{xa===$t.ThreePoint&&Cu(),xa=n},kb=()=>xa,Is={[$t.Corner]:Ob,[$t.Center]:zb,[$t.ThreePoint]:_b},Ub={onMouseDown:(n,s,r)=>{var i,o;return(o=(i=Is[xa]).onMouseDown)==null?void 0:o.call(i,n,s,r)},onMouseMove:(n,s,r)=>{var i,o;return(o=(i=Is[xa]).onMouseMove)==null?void 0:o.call(i,n,s,r)},onMouseUp:(n,s,r)=>{var i,o;return(o=(i=Is[xa]).onMouseUp)==null?void 0:o.call(i,n,s,r)},onContextMenu:(n,s,r)=>{Is[xa].onContextMenu?Is[xa].onContextMenu(n,s,r):(n.setDragStart(null),n.setPreviewEl(null))}},Bb=()=>{const[n,s]=O.useState(kb()),[r,i]=O.useState(qr()),[o,u]=O.useState(Xr()),f=m=>{wb(m),s(m)},y=()=>{const m=!r;jb(m),i(m)},h=()=>{const m=!o;Lb(m),u(m)};return g.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-2 flex gap-4 z-50 items-center",children:[g.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase flex items-center px-2 border-r border-gray-700",children:"Rectangle"}),g.jsxs("div",{className:"flex gap-2 border-r border-gray-700 pr-4",children:[g.jsxs("button",{onClick:()=>f($t.Corner),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${n===$t.Corner?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,title:"Corner Rectangle",children:[g.jsx(Bu,{size:16}),g.jsx("span",{children:"Corner"})]}),g.jsxs("button",{onClick:()=>f($t.Center),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${n===$t.Center?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,title:"Center Rectangle",children:[g.jsx(Mv,{size:16}),g.jsx("span",{children:"Center"})]}),g.jsxs("button",{onClick:()=>f($t.ThreePoint),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${n===$t.ThreePoint?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,title:"3-Point Rectangle",children:[g.jsx(uv,{size:16}),g.jsx("span",{children:"3-Point"})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:y,className:`flex items-center gap-2 px-2 py-1.5 rounded text-xs transition-colors ${r?"bg-gray-700 text-blue-400":"text-gray-500 hover:text-gray-300"}`,title:"Add Centerlines",children:[g.jsx(Tp,{size:14}),g.jsx("span",{children:"Centerlines"})]}),g.jsxs("button",{onClick:h,className:`flex items-center gap-2 px-2 py-1.5 rounded text-xs transition-colors ${o?"bg-gray-700 text-blue-400":"text-gray-500 hover:text-gray-300"}`,title:"Add Diagonals",children:[g.jsx(ql,{size:14}),g.jsx("span",{children:"Diagonals"})]})]})]})};var In=(n=>(n.Center="CENTER",n.Edge="EDGE",n))(In||{});let cm=In.Center,om=3,um=!0;const Hb=n=>cm=n,Vs=()=>cm,Ib=n=>om=Math.max(3,Math.min(64,n)),ni=()=>om,Yb=n=>um=n,Ru=()=>um,qb=()=>{const[n,s]=O.useState(Vs()),[r,i]=O.useState(ni()),[o,u]=O.useState(Ru()),f=m=>{Hb(m),s(m)},y=m=>{Ib(m),i(m)},h=()=>{const m=!o;Yb(m),u(m)};return g.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-2 flex gap-4 z-50 items-center",children:[g.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase flex items-center px-2 border-r border-gray-700",children:"Polygon"}),g.jsxs("div",{className:"flex items-center gap-2 border-r border-gray-700 pr-4",children:[g.jsx("label",{className:"text-gray-400 text-xs",children:"Sides:"}),g.jsx(Ae,{value:r,onCommit:y,min:3,max:64,integer:!0,displayPrecision:0,className:"w-12 bg-gray-800 border border-gray-600 rounded px-1 py-0.5 text-sm text-white"})]}),g.jsxs("div",{className:"flex gap-2 border-r border-gray-700 pr-4",children:[g.jsxs("button",{onClick:()=>f(In.Center),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${n===In.Center?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,title:"Center Method",children:[g.jsx(Uu,{size:16}),g.jsx("span",{children:"Center"})]}),g.jsxs("button",{onClick:()=>f(In.Edge),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${n===In.Edge?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,title:"Edge Method",children:[g.jsx(qp,{size:16}),g.jsx("span",{children:"Edge"})]})]}),n===In.Center&&g.jsx("div",{className:"flex gap-2",children:g.jsxs("button",{onClick:h,className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${o?"bg-gray-700 text-blue-400":"text-gray-500 hover:text-gray-300"}`,title:o?"Inscribed in Circle":"Circumscribed about Circle",children:[g.jsx(Hu,{size:16,className:o?"":"rotate-180"}),g.jsx("span",{children:o?"Inscribed":"Circumscribed"})]})})]})};var Sa=(n=>(n.Simple="SIMPLE",n.Block="BLOCK",n))(Sa||{}),qn=(n=>(n.None="NONE",n.Leader="LEADER",n))(qn||{});const Xb=[{key:"arial",displayName:"Arial (Standard)",cssFamily:"Arial, sans-serif",cadEquivalents:["Arial","ARIAL","txt","standard"]},{key:"roboto",displayName:"Roboto",cssFamily:"'Roboto', sans-serif",cadEquivalents:[]},{key:"gothic",displayName:"Gothic (Technical)",cssFamily:"'Franklin Gothic Medium', 'Arial Narrow', sans-serif",cadEquivalents:["simplex","SIMPLEX","gothicg","GOTHICG","gothic"]},{key:"isocp",displayName:"ISOCP (ISO)",cssFamily:"'Arial', sans-serif",cadEquivalents:["isocp","ISOCP","isocp.shx","iso"]},{key:"romans",displayName:"Romans (Serif)",cssFamily:"'Times New Roman', serif",cadEquivalents:["romans","ROMANS","romanc","ROMANC"]},{key:"courier",displayName:"Courier (Mono)",cssFamily:"'Courier New', monospace",cadEquivalents:["monotxt","MONOTXT"],isMonospace:!0},{key:"gost",displayName:"GOST-like",cssFamily:"'Arial Narrow', sans-serif",cadEquivalents:["gost","GOST","gost-a","GOST-A"]}];let dm=Sa.Simple,fm=qn.None,ym=10,hm=0,mm="arial";const Qs=()=>dm,Gb=n=>dm=n,zr=()=>fm,Pb=n=>fm=n,_r=()=>ym,Vb=n=>ym=n,wr=()=>hm,Qb=n=>hm=n,kr=()=>mm,Zb=n=>mm=n,Kb=()=>{const[n,s]=O.useState(Qs()),[r,i]=O.useState(zr()),[o,u]=O.useState(_r()),[f,y]=O.useState(wr()),[h,m]=O.useState(kr()),x=E=>{Gb(E),s(E)},v=()=>{const E=r===qn.None?qn.Leader:qn.None;Pb(E),i(E)},b=E=>{Vb(E),u(E)},M=E=>{Qb(E),y(E)},T=E=>{Zb(E.target.value),m(E.target.value)};return g.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-2 flex gap-4 z-50 items-center",children:[g.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase flex items-center px-2 border-r border-gray-700",children:"Text"}),g.jsxs("div",{className:"flex gap-2 border-r border-gray-700 pr-4",children:[g.jsxs("button",{onClick:()=>x(Sa.Simple),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${n===Sa.Simple?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,title:"Simple Text",children:[g.jsx(am,{size:16}),g.jsx("span",{children:"Text"})]}),g.jsxs("button",{onClick:()=>x(Sa.Block),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${n===Sa.Block?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800"}`,title:"Text Block",children:[g.jsx(tm,{size:16}),g.jsx("span",{children:"Block"})]})]}),g.jsxs("div",{className:"flex items-center gap-2 border-r border-gray-700 pr-4",children:[g.jsx("label",{className:"text-gray-400 text-xs",children:"Font:"}),g.jsx("select",{value:h,onChange:T,className:"bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white",children:Xb.map(E=>g.jsx("option",{value:E.key,children:E.displayName},E.key))})]}),g.jsxs("div",{className:"flex items-center gap-2 border-r border-gray-700 pr-4",children:[g.jsx("label",{className:"text-gray-400 text-xs",children:"Height:"}),g.jsx(Ae,{value:o,onCommit:b,min:.1,displayPrecision:1,className:"w-16 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white"})]}),g.jsxs("div",{className:"flex items-center gap-2 border-r border-gray-700 pr-4",children:[g.jsx("label",{className:"text-gray-400 text-xs",children:"Rotation:"}),g.jsx(Ae,{value:f,onCommit:M,displayPrecision:0,className:"w-16 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white"})]}),g.jsx("div",{className:"flex gap-2",children:g.jsxs("button",{onClick:v,className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm transition-colors ${r===qn.Leader?"bg-gray-700 text-blue-400":"text-gray-500 hover:text-gray-300"}`,title:"Leader Arrow",children:[g.jsx(iv,{size:16}),g.jsx("span",{children:"Leader"})]})})]})},Wb=({screenPos:n,initialText:s="",onCommit:r,onCancel:i})=>{const[o,u]=O.useState(s),f=O.useRef(null),y=O.useRef(!1);O.useEffect(()=>{setTimeout(()=>{var x,v;(x=f.current)==null||x.focus(),(v=f.current)==null||v.select()},50)},[]);const h=x=>{x.stopPropagation(),x.key==="Enter"?(x.preventDefault(),y.current=!0,o.trim()?r(o):i()):x.key==="Escape"&&(x.preventDefault(),y.current=!0,i())},m=x=>{x.stopPropagation()};return g.jsx("div",{className:"fixed z-[200]",style:{left:n.x,top:n.y-20},onMouseDown:m,children:g.jsx("input",{ref:f,type:"text",value:o,onChange:x=>u(x.target.value),onKeyDown:h,placeholder:"Enter text...",className:"bg-gray-900 border-2 border-blue-500 rounded px-3 py-2 text-white text-sm min-w-[200px] outline-none shadow-xl",autoComplete:"off"})})},Jb={fontKey:"arial",height:10,rotation:0,bold:!1,italic:!1,underline:!1,alignment:"left",hasBorder:!1,hasBackground:!1,padding:4},Fb=(n,s,r,i,o)=>{const f=document.createElement("canvas").getContext("2d");if(!f)return{width:100,height:50};f.font=`${i?"bold":"normal"} ${s}px ${r}`;const y=n.split(`
`),h=s*1.3;let m=0;y.forEach(v=>{const b=f.measureText(v);m=Math.max(m,b.width)});const x=y.length*h;return{width:Math.max(m+o*2,50),height:Math.max(x+o*2,30)}},$b=({initialText:n="",initialStyle:s,initialBoxWidth:r=100,initialBoxHeight:i=50,onApply:o,onCancel:u,position:f})=>{const y={...Jb,...s},h=O.useRef(null),[m,x]=O.useState(n),[v,b]=O.useState(y.bold||!1),[M,T]=O.useState(y.italic||!1),[E,N]=O.useState(y.underline||!1),[R,z]=O.useState(y.alignment||"left"),[C,H]=O.useState(y.hasBorder||!1),[P,X]=O.useState(y.hasBackground||!1),[Q,ie]=O.useState(r),[F,pe]=O.useState(i),[ve,oe]=O.useState(!0);O.useEffect(()=>{var Z;const _=(Z=h.current)==null?void 0:Z.querySelector("textarea");setTimeout(()=>_==null?void 0:_.focus(),50)},[]),O.useEffect(()=>{if(ve&&m){const _=Fb(m,y.height||10,y.fontKey||"Arial",v,y.padding||4);ie(Math.max(_.width,r)),pe(Math.max(_.height,i))}},[m,v,ve]);const Ve=()=>{const _={fontKey:y.fontKey,height:y.height,rotation:y.rotation,bold:v,italic:M,underline:E,alignment:R,hasBorder:C,hasBackground:P,padding:y.padding};o(m,_,Q,F)},Je=_=>{_.stopPropagation()},at=_=>{_.stopPropagation(),_.key==="Escape"&&(_.preventDefault(),u()),_.key==="Enter"&&_.ctrlKey&&(_.preventDefault(),Ve())};return g.jsxs("div",{ref:h,className:"fixed bg-gray-900/95 backdrop-blur-md border border-gray-700 rounded-lg shadow-2xl p-4 z-[200] w-[420px]",style:{left:f.x,top:f.y,transform:`rotate(${-(y.rotation||0)}deg)`,transformOrigin:"top left"},onMouseDown:Je,onKeyDown:at,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-700",children:[g.jsx("h3",{className:"text-sm font-bold text-gray-300",children:"Text Block Editor"}),g.jsx("span",{className:"text-xs text-gray-500",children:"Ctrl+Enter to apply"})]}),g.jsx("textarea",{value:m,onChange:_=>x(_.target.value),placeholder:"Enter text...",className:"w-full h-28 bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white text-sm resize-none mb-3 outline-none focus:border-blue-500"}),g.jsxs("div",{className:"flex gap-2 mb-3 pb-3 border-b border-gray-700",children:[g.jsx("button",{onClick:()=>b(!v),className:`p-1.5 rounded transition-colors ${v?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:"Bold",children:g.jsx(up,{size:16})}),g.jsx("button",{onClick:()=>T(!M),className:`p-1.5 rounded transition-colors ${M?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:"Italic",children:g.jsx(Bp,{size:16})}),g.jsx("button",{onClick:()=>N(!E),className:`p-1.5 rounded transition-colors ${E?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:"Underline",children:g.jsx(Zv,{size:16})}),g.jsx("div",{className:"w-px bg-gray-700 mx-1"}),g.jsx("button",{onClick:()=>z("left"),className:`p-1.5 rounded transition-colors ${R==="left"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:"Align Left",children:g.jsx(tm,{size:16})}),g.jsx("button",{onClick:()=>z("center"),className:`p-1.5 rounded transition-colors ${R==="center"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:"Align Center",children:g.jsx(Iv,{size:16})}),g.jsx("button",{onClick:()=>z("right"),className:`p-1.5 rounded transition-colors ${R==="right"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,title:"Align Right",children:g.jsx(qv,{size:16})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3 pb-3 border-b border-gray-700",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Width"}),g.jsx(Ae,{value:Q,onCommit:_=>{ie(_),oe(!1)},min:20,displayPrecision:0,className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-white text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Height"}),g.jsx(Ae,{value:F,onCommit:_=>{pe(_),oe(!1)},min:20,displayPrecision:0,className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-white text-sm"})]}),g.jsx("div",{className:"flex items-end",children:g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:ve,onChange:_=>oe(_.target.checked),className:"w-4 h-4 rounded bg-gray-700 border-gray-600"}),g.jsx("span",{children:"Auto-fit"})]})})]}),g.jsxs("div",{className:"flex gap-4 mb-4",children:[g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:C,onChange:_=>H(_.target.checked),className:"w-4 h-4 rounded bg-gray-700 border-gray-600"}),g.jsx("span",{children:"Border"})]}),g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:P,onChange:_=>X(_.target.checked),className:"w-4 h-4 rounded bg-gray-700 border-gray-600"}),g.jsx("span",{children:"Background"})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:Ve,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition-colors",children:[g.jsx(Ws,{size:16}),g.jsx("span",{children:"Apply"})]}),g.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded transition-colors",children:[g.jsx(ql,{size:16}),g.jsx("span",{children:"Cancel"})]})]})]})};let nt=null,yn="tip";const Ur=()=>{nt=null,yn="tip"},e2=(n,s,r,i)=>{if(!s.trim()){Ur();return}const o=i?n.generateId():void 0;if(i&&o){const f=i.elbowPoint?[i.arrowTip,i.elbowPoint,r]:[i.arrowTip,r],y={id:n.generateId(),type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!1,vertices:f,annotationGroupId:o};n.setElements(h=>[...h,y])}const u={id:n.generateId(),type:"TEXT",point:r,text:s,height:_r(),rotation:wr(),fontFamily:kr(),fontWeight:"normal",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",annotationGroupId:o};n.setElements(f=>[...f,u]),Ur()},t2={onMouseDown(n,s,r){var o,u,f,y;zr()===qn.Leader?yn==="tip"?(nt={point:r,leaderData:{arrowTip:r}},yn="elbow"):yn==="elbow"?(nt!=null&&nt.leaderData&&(nt.leaderData.elbowPoint=r),yn="text"):yn==="text"&&(nt={...nt,point:r},(o=n.setPreviewEl)==null||o.call(n,null),(u=n.setTextEditState)==null||u.call(n,{active:!0,point:r,screenPos:s,mode:"simple",leaderData:nt==null?void 0:nt.leaderData}),yn="tip"):(nt={point:r},(f=n.setPreviewEl)==null||f.call(n,null),(y=n.setTextEditState)==null||y.call(n,{active:!0,point:r,screenPos:s,mode:"simple"}))},onMouseMove(n,s,r){var i;if(zr()===qn.Leader&&(nt!=null&&nt.leaderData)){let o=[];yn==="elbow"?o=[nt.leaderData.arrowTip,r]:yn==="text"&&nt.leaderData.elbowPoint?o=[nt.leaderData.arrowTip,nt.leaderData.elbowPoint,r]:yn==="text"&&(o=[nt.leaderData.arrowTip,r]),o.length>=2&&((i=n.setPreviewEl)==null||i.call(n,{id:"preview",type:"LWPOLYLINE",layer:"0",closed:!1,vertices:o}))}},onContextMenu(n,s,r){var i,o;Ur(),(i=n.setPreviewEl)==null||i.call(n,null),(o=n.setTextEditState)==null||o.call(n,{active:!1})}};let It=null,Yt=null,ma="tip";const Br=()=>{It=null,Yt=null,ma="tip"},n2=(n,s,r,i,o,u)=>{if(!s.trim()){Br();return}const f=Yt?n.generateId():void 0;if(Yt&&f){const h={x:i.x,y:i.y+u/2},m=Yt.elbowPoint?[Yt.arrowTip,Yt.elbowPoint,h]:[Yt.arrowTip,h],x={id:n.generateId(),type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!1,vertices:m,annotationGroupId:f};n.setElements(v=>[...v,x])}const y={id:n.generateId(),type:"MTEXT",boxCorner:i,boxWidth:o,boxHeight:u,text:s,rotation:r.rotation,style:{fontFamily:r.fontKey,height:r.height,fontWeight:r.bold?"bold":"normal",fontStyle:r.italic?"italic":"normal",textDecoration:r.underline?"underline":"none",hasBorder:r.hasBorder,hasBackground:r.hasBackground,alignment:r.alignment,padding:r.padding||4},layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",annotationGroupId:f};n.setElements(h=>[...h,y]),Br()},a2={onMouseDown(n,s,r){var o,u;if(zr()===qn.Leader&&ma!=="block"){ma==="tip"?(Yt={arrowTip:r},ma="elbow"):ma==="elbow"&&(Yt&&(Yt.elbowPoint=r),ma="block");return}if(!It)It=r;else{const f=Math.min(It.x,r.x),y=Math.min(It.y,r.y),h=Math.abs(r.x-It.x),m=Math.abs(r.y-It.y);(o=n.setPreviewEl)==null||o.call(n,null),(u=n.setTextEditState)==null||u.call(n,{active:!0,mode:"block",screenPos:s,boxCorner:{x:f,y},boxWidth:h||100,boxHeight:m||50,leaderData:Yt}),It=null}},onMouseMove(n,s,r){this._rafPending||(this._rafPending=!0,requestAnimationFrame(()=>{var i,o;if(this._rafPending=!1,It){const u=Math.min(It.x,r.x),f=Math.min(It.y,r.y),y=Math.max(It.x,r.x),h=Math.max(It.y,r.y);(i=n.setPreviewEl)==null||i.call(n,{id:"preview",type:"LWPOLYLINE",layer:"0",closed:!0,vertices:[{x:u,y:f},{x:y,y:f},{x:y,y:h},{x:u,y:h}]})}else if(Yt&&ma!=="block"){let u=[];ma==="elbow"&&(u=[Yt.arrowTip,r]),u.length>=2&&((o=n.setPreviewEl)==null||o.call(n,{id:"preview",type:"LWPOLYLINE",layer:"0",closed:!1,vertices:u}))}}))},onContextMenu(n,s,r){var i,o;Br(),(i=n.setPreviewEl)==null||i.call(n,null),(o=n.setTextEditState)==null||o.call(n,{active:!1})}},ph=(n,s,r)=>{const o=window.innerWidth,u=window.innerHeight;return{x:Math.max(20,Math.min(n.x,o-s-20)),y:Math.max(20,Math.min(n.y,u-r-20))}},l2=({state:n,context:s,onClose:r})=>{var y,h,m;const i=()=>{var x;(x=s.setPreviewEl)==null||x.call(s,null),Ur(),Br(),r()};if(O.useEffect(()=>{if(!n.active)return;const x=v=>{v.target.closest(".text-edit-overlay")||v.stopPropagation()};return document.addEventListener("keydown",x,!0),()=>{document.removeEventListener("keydown",x,!0)}},[n.active]),!n.active)return null;const o=x=>{n.point&&e2(s,x,n.point,n.leaderData),i()},u=(x,v,b,M)=>{if(n.boxCorner){const T=b||n.boxWidth||100,E=M||n.boxHeight||50;n2(s,x,{...v,fontKey:kr(),height:_r(),rotation:wr()},n.boxCorner,T,E)}i()},f=()=>{i()};if(n.mode==="simple"&&n.screenPos){const x=ph(n.screenPos,200,40);return g.jsx("div",{className:"text-edit-overlay",children:g.jsx(Wb,{screenPos:x,initialText:(y=n.existingElement)==null?void 0:y.text,onCommit:o,onCancel:f})})}if(n.mode==="block"&&n.screenPos){const x=ph(n.screenPos,400,350);return g.jsx("div",{className:"text-edit-overlay",children:g.jsx($b,{initialText:(h=n.existingElement)==null?void 0:h.text,initialStyle:(m=n.existingElement)!=null&&m.style?{fontKey:n.existingElement.style.fontFamily,height:n.existingElement.style.height,rotation:n.existingElement.rotation,bold:n.existingElement.style.fontWeight==="bold",italic:n.existingElement.style.fontStyle==="italic",underline:n.existingElement.style.textDecoration==="underline",alignment:n.existingElement.style.alignment,hasBorder:n.existingElement.style.hasBorder,hasBackground:n.existingElement.style.hasBackground,padding:n.existingElement.style.padding}:{fontKey:kr(),height:_r(),rotation:wr()},position:x,initialBoxWidth:n.boxWidth,initialBoxHeight:n.boxHeight,onApply:u,onCancel:f})})}return null},ai={active:!1,action:"MOVE",step:"PICK_BASE",basePoint:null,secondPoint:null,currentMouse:null,moveDelta:{x:0,y:0},moveDeltaSource:"MOUSE",rotateAngle:0,rotateAngleSource:"MOUSE",scaleFactor:1,scaleFactorSource:"MOUSE",dragStartScreen:null,inputValue:null,previewMatrix:null,isCopy:!1,deleteOriginal:!0},pu=5,s2=({state:n,setState:s,context:r,onClose:i})=>{const o=r.selection&&r.selection.length>0,u=M=>{s({...n,action:M,step:"PICK_BASE",basePoint:null,secondPoint:null,moveDelta:{x:0,y:0},moveDeltaSource:"MOUSE",rotateAngle:0,rotateAngleSource:"MOUSE",scaleFactor:1,scaleFactorSource:"MOUSE",dragStartScreen:null,previewMatrix:null})},f=M=>{const T={x:M,y:n.moveDelta.y},E=gn(T.x,T.y);s({...n,moveDelta:T,moveDeltaSource:"INPUT",previewMatrix:E})},y=M=>{const T={x:n.moveDelta.x,y:M},E=gn(T.x,T.y);s({...n,moveDelta:T,moveDeltaSource:"INPUT",previewMatrix:E})},h=M=>{if(!n.basePoint)return;const T=Tu(M*Math.PI/180,n.basePoint);s({...n,rotateAngle:M,rotateAngleSource:"INPUT",previewMatrix:T})},m=M=>{if(!n.basePoint)return;const T=Math.max(.01,M),E=Au(T,n.basePoint);s({...n,scaleFactor:T,scaleFactorSource:"INPUT",previewMatrix:E})},x=()=>{let M=n.previewMatrix;if(!M&&n.basePoint&&(n.action==="MOVE"?M=gn(n.moveDelta.x,n.moveDelta.y):n.action==="ROTATE"?M=Tu(n.rotateAngle*Math.PI/180,n.basePoint):n.action==="SCALE"?M=Au(n.scaleFactor,n.basePoint):n.action==="MIRROR"&&n.secondPoint&&te(n.basePoint,n.secondPoint)>=.001&&(M=Gh(n.basePoint,n.secondPoint))),M){const T=r.selection||[],E=r.elements||[];if(n.isCopy||n.action==="MIRROR"&&!n.deleteOriginal){const N=[];T.forEach(R=>{const z=E.find(C=>C.id===R);if(z){const C=ei(z,M);N.push({...C,id:r.generateId()})}}),r.setElements([...E,...N])}else{const N=E.map(R=>T.includes(R.id)?ei(R,M):R);r.setElements(N)}s(ai),i()}},v=()=>{s(ai),i()};if(!o)return g.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-3 z-50",children:g.jsx("div",{className:"text-yellow-400 text-sm text-center",children:"Select objects to transform"})});const b=!n.basePoint;return g.jsxs("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-gray-900/90 backdrop-blur-md border border-gray-700 rounded-lg shadow-xl p-3 flex flex-col gap-3 min-w-[320px] z-50",children:[g.jsx("div",{className:"flex gap-2 border-b border-gray-700 pb-2",children:["MOVE","ROTATE","SCALE","MIRROR"].map(M=>g.jsx("button",{onClick:()=>u(M),className:`px-3 py-1.5 rounded text-xs font-bold transition-colors ${n.action===M?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:M},M))}),g.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-300",children:[!n.basePoint&&g.jsx("div",{className:"text-yellow-400 text-xs text-center animate-pulse py-2",children:" Pick Base Point on Canvas"}),n.action==="MOVE"&&g.jsxs("div",{className:"flex gap-3 items-end",children:[g.jsxs("div",{className:"flex flex-col flex-1",children:[g.jsxs("label",{className:"text-[10px] text-gray-500 uppercase tracking-wider mb-1",children:["X ",g.jsx("span",{className:"text-gray-600",children:"(world)"})]}),g.jsx(Ae,{value:n.moveDelta.x,onCommit:f,disabled:b,displayPrecision:3,className:"bg-gray-800 border border-gray-600 rounded px-2 py-1.5 text-white w-full focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]}),g.jsxs("div",{className:"flex flex-col flex-1",children:[g.jsxs("label",{className:"text-[10px] text-gray-500 uppercase tracking-wider mb-1",children:["Y ",g.jsx("span",{className:"text-gray-600",children:"(world)"})]}),g.jsx(Ae,{value:n.moveDelta.y,onCommit:y,disabled:b,displayPrecision:3,className:"bg-gray-800 border border-gray-600 rounded px-2 py-1.5 text-white w-full focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]}),n.moveDeltaSource==="INPUT"&&g.jsx("div",{className:"text-[10px] text-blue-400 self-center",title:"Input-driven preview",children:""})]}),n.action==="ROTATE"&&g.jsxs("div",{className:"flex gap-3 items-end",children:[g.jsxs("div",{className:"flex flex-col flex-1",children:[g.jsxs("label",{className:"text-[10px] text-gray-500 uppercase tracking-wider mb-1",children:["Angle ",g.jsx("span",{className:"text-gray-600",children:"(degrees)"})]}),g.jsx(Ae,{value:n.rotateAngle,onCommit:h,disabled:b,displayPrecision:2,className:"bg-gray-800 border border-gray-600 rounded px-2 py-1.5 text-white w-full focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]}),n.rotateAngleSource==="INPUT"&&g.jsx("div",{className:"text-[10px] text-blue-400 self-center",title:"Input-driven preview",children:""})]}),n.action==="SCALE"&&g.jsxs("div",{className:"flex gap-3 items-end",children:[g.jsxs("div",{className:"flex flex-col flex-1",children:[g.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-wider mb-1",children:"Scale Factor"}),g.jsx(Ae,{value:n.scaleFactor,onCommit:m,disabled:b,displayPrecision:3,min:.01,className:"bg-gray-800 border border-gray-600 rounded px-2 py-1.5 text-white w-full focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]}),n.scaleFactorSource==="INPUT"&&g.jsx("div",{className:"text-[10px] text-blue-400 self-center",title:"Input-driven preview",children:""})]}),n.action==="MIRROR"&&n.basePoint&&g.jsx("div",{className:"text-yellow-400 text-xs text-center animate-pulse py-2",children:" Click to define mirror line endpoint"}),g.jsxs("div",{className:"flex items-center gap-4 mt-2 pt-2 border-t border-gray-700/50",children:[g.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:text-white transition-colors",children:[g.jsx("input",{type:"checkbox",checked:n.isCopy,onChange:M=>s({...n,isCopy:M.target.checked}),className:"rounded border-gray-600 bg-gray-800 text-blue-600 focus:ring-blue-500"}),"Copy"]}),n.action==="MIRROR"&&g.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:text-white transition-colors",children:[g.jsx("input",{type:"checkbox",checked:n.deleteOriginal,onChange:M=>s({...n,deleteOriginal:M.target.checked}),className:"rounded border-gray-600 bg-gray-800 text-blue-600 focus:ring-blue-500"}),"Delete Original"]})]})]}),g.jsxs("div",{className:"flex gap-2 mt-2 pt-2 border-t border-gray-700",children:[g.jsx("button",{onClick:x,disabled:!n.basePoint,className:"flex-1 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded py-1.5 text-xs font-bold transition-colors",children:"Apply"}),g.jsx("button",{onClick:v,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white rounded py-1.5 text-xs transition-colors",children:"Cancel"})]})]})},i2=({toolManager:n,tool:s,trimMode:r,setTrimMode:i,filletState:o,onFilletApply:u,onFilletRemove:f,dragState:y,currentMouse:h,typingValue:m,setTypingValue:x,selectionBox:v,view:b,textEditState:M,setTextEditState:T,context:E,transformState:N,setTransformState:R})=>g.jsxs(g.Fragment,{children:[v&&(()=>{const z=xe(v.start,b),C=xe(v.end,b),H=Math.min(z.x,C.x),P=Math.min(z.y,C.y),X=Math.abs(C.x-z.x),Q=Math.abs(C.y-z.y),ie=v.type==="WINDOW",F={position:"absolute",left:H,top:P,width:X,height:Q,backgroundColor:ie?"rgba(52, 152, 219, 0.25)":"rgba(46, 204, 113, 0.25)",border:ie?"2px solid #3498db":"2px dashed #2ecc71",pointerEvents:"none",zIndex:50};return g.jsx("div",{style:F})})(),s==="TRIM"&&g.jsx(sb,{mode:r,setMode:i}),s===he.CIRCLE&&g.jsx(xb,{}),s===he.LINE&&g.jsx(Db,{}),s===he.RECTANGLE&&g.jsx(Bb,{}),s===he.POLYGON&&g.jsx(qb,{}),s===he.TEXT&&g.jsx(Kb,{}),s===he.TRANSFORM&&g.jsx(s2,{state:N,setState:R,context:E,onClose:()=>{}}),(M==null?void 0:M.active)&&g.jsx(l2,{state:M,context:E,onClose:()=>T==null?void 0:T({active:!1})}),(o==null?void 0:o.visible)&&g.jsx(ib,{state:o,onApply:u,onRemove:f,onClose:()=>{}}),(y==null?void 0:y.isActive)&&h&&g.jsx(rb,{dragState:y,screenPos:h,onCommit:(z,C)=>n.onInputCommit(z,C),typingValue:m,setTypingValue:x})]}),r2=(n,s,r=[])=>{const i=O.useCallback(x=>s(x),[s]),o=O.useRef(null),u=O.useCallback(x=>{x.preventDefault();const v=1.1,b=x.deltaY<0?v:1/v,M=Math.min(Math.max(n.zoom*b,.1),500),T={x:x.clientX,y:x.clientY},E=qe(T,n),N={x:T.x-E.x*M,y:T.y+E.y*M};s({zoom:M,pan:N})},[n,s]),f=O.useCallback(()=>{if(!r||r.length===0){s({zoom:10,pan:{x:window.innerWidth/2,y:window.innerHeight/2}});return}let x=1/0,v=1/0,b=-1/0,M=-1/0;const T=(F,pe)=>{F<x&&(x=F),F>b&&(b=F),pe<v&&(v=pe),pe>M&&(M=pe)};if(r.forEach(F=>{F.type==="LINE"?(T(F.start.x,F.start.y),T(F.end.x,F.end.y)):F.type==="CIRCLE"||F.type==="ARC"?(T(F.center.x-F.radius,F.center.y-F.radius),T(F.center.x+F.radius,F.center.y+F.radius)):F.type==="LWPOLYLINE"?F.vertices.forEach(pe=>T(pe.x,pe.y)):F.type==="INSERT"?T(F.insertionPoint.x,F.insertionPoint.y):F.type==="TEXT"&&T(F.point.x,F.point.y)}),x===1/0)return;const E=b-x,N=M-v,R={x:(x+b)/2,y:(v+M)/2},z=50,C=window.innerWidth-z*2,H=window.innerHeight-z*2,P=C/(E||1),X=H/(N||1),Q=Math.min(P,X,100),ie={x:window.innerWidth/2-R.x*Q,y:window.innerHeight/2+R.y*Q};s({zoom:Q,pan:ie})},[r,s]),y=O.useCallback(x=>{o.current=x},[]),h=O.useCallback(x=>{if(!o.current)return;const v=x.x-o.current.x,b=x.y-o.current.y;s(M=>({...M,pan:{x:M.pan.x+v,y:M.pan.y+b}})),o.current=x},[s]),m=O.useCallback(()=>{o.current=null},[]);return{view:n,setView:i,handleWheel:u,handleDoubleClick:f,panStart:y,panMove:h,panEnd:m}},c2=({canvasRef:n,toolManager:s,view:r,setView:i,snapping:o=null,tool:u,dragStart:f,viewportHandlers:y=null,isSpacePressed:h=!1,onCursorMove:m,textEditActive:x=!1})=>{const v=()=>n&&"current"in n?n.current:null,b=O.useRef(!1),M=O.useCallback(R=>{if(!s||x)return;const z={x:R.clientX,y:R.clientY};if(y&&y.panStart&&(h||R.button===1)){y.panStart(z),b.current=!0;return}const C=qe(z,r),H=o?o.calculateSnapPoint(C,u,f):C;s.onMouseDown&&s.onMouseDown(H,{mouseScreen:z,rawWorld:C,originalEvent:R})},[s,r,o,u,f,y,h]),T=O.useCallback(R=>{if(!s||x)return;const z={x:R.clientX,y:R.clientY};if((b.current||h)&&y&&y.panMove){y.panMove(z);return}const C=qe(z,r),H=o?o.calculateSnapPoint(C,u,f):C;m&&m(C),s.onMouseMove&&s.onMouseMove(H,{mouseScreen:z,rawWorld:C,originalEvent:R})},[s,r,o,u,f,y,h,m]),E=O.useCallback(R=>{if(!s||x)return;const z={x:R.clientX,y:R.clientY};if((b.current||h)&&y&&y.panEnd){y.panEnd(),b.current=!1;return}const C=qe(z,r),H=o?o.calculateSnapPoint(C,u,f):C;s.onMouseUp&&s.onMouseUp(H,{mouseScreen:z,rawWorld:C,originalEvent:R})},[s,r,o,u,f,y,h]),N=O.useCallback(R=>{if(!s||x)return;R.preventDefault();const z={x:R.clientX,y:R.clientY},C=qe(z,r),H=o?o.calculateSnapPoint(C,u,f):C;s.onContextMenu&&s.onContextMenu(H,{mouseScreen:z,rawWorld:C,originalEvent:R})},[s,r,o,u,f]);O.useEffect(()=>{const z=v()||window;return z.addEventListener("mousedown",M),z.addEventListener("mousemove",T),z.addEventListener("mouseup",E),z.addEventListener("contextmenu",N),y&&y.handleWheel&&z.addEventListener("wheel",y.handleWheel,{passive:!1}),y&&y.handleDoubleClick&&z.addEventListener("dblclick",y.handleDoubleClick),()=>{z.removeEventListener("mousedown",M),z.removeEventListener("mousemove",T),z.removeEventListener("mouseup",E),z.removeEventListener("contextmenu",N),y&&y.handleWheel&&z.removeEventListener("wheel",y.handleWheel),y&&y.handleDoubleClick&&z.removeEventListener("dblclick",y.handleDoubleClick)}},[M,T,E,N,n])};function vh(){return{powerActive:!1,trimPath:[],cornerFirstId:null,mode:de.QUICK}}function o2(n){return{...n,powerActive:!1,trimPath:[],cornerFirstId:null}}function u2(n){return{...n,powerActive:!1,trimPath:[],cornerFirstId:null}}function d2(n,s){return{...n,powerActive:!0,trimPath:[s]}}function bh(n,s){return{...n,trimPath:[...n.trimPath,s]}}function f2(n){return{...n,powerActive:!1,trimPath:[]}}function y2(n,s){return{...n,cornerFirstId:s}}function Sh(n){return{...n,cornerFirstId:null}}function h2(n){return n.powerActive||n.cornerFirstId!==null}function m2(n){switch(n.mode){case de.QUICK:return"Click on entity segment to trim";case de.POWER:return n.powerActive?"Release to complete trim":"Drag across entities to trim";case de.CORNER:return n.cornerFirstId?"Select second entity for corner":"Select first entity for corner";case de.INSIDE:return"Drag to select area - entities inside will be trimmed";case de.OUTSIDE:return"Drag to select area - entities outside will be trimmed";default:return""}}const g2=.1,x2=5;class p2{constructor(s){this.cachedLayers=[],this.state=vh(),this.tolerance=Qx(s)}getState(){return{...this.state}}resetState(){this.state=o2(this.state)}setMode(s){this.state={...vh(),mode:s}}getMode(){return this.state.mode}cancel(){this.state=u2(this.state)}isInProgress(){return h2(this.state)}getStatusMessage(){return m2(this.state)}updateToleranceForZoom(s){this.tolerance={...this.tolerance,hitRadiusWorld:x2/s}}getTolerance(){return{...this.tolerance}}onMouseDown(s,r,i){var u;const o=s.trimMode||this.state.mode;switch(this.cachedLayers=s.layers||[],(u=s.view)!=null&&u.zoom&&this.updateToleranceForZoom(s.view.zoom),o){case de.QUICK:this.handleQuickTrimClick(s,r,i);break;case de.POWER:this.handlePowerTrimStart(s,r);break;case de.CORNER:this.handleCornerTrimClick(s,r);break;case de.INSIDE:case de.OUTSIDE:this.handleBoxTrimStart(s,r);break}}onMouseMove(s,r,i){const o=s.trimMode||this.state.mode;o===de.POWER&&this.state.powerActive?this.handlePowerTrimMove(s,r):(o===de.INSIDE||o===de.OUTSIDE)&&s.dragStart&&this.handleBoxTrimMove(s,r)}onMouseUp(s,r,i){switch(s.trimMode||this.state.mode){case de.POWER:this.handlePowerTrimEnd(s,r);break;case de.INSIDE:this.handleBoxTrimEnd(s,r,de.INSIDE);break;case de.OUTSIDE:this.handleBoxTrimEnd(s,r,de.OUTSIDE);break}}handleQuickTrimClick(s,r,i){var h,m,x;const o=(x=(h=s.selectionHook)==null?void 0:h.hitTest)==null?void 0:x.call(h,r,((m=s.view)==null?void 0:m.zoom)||1);if(!o)return;let u=r;i!=null&&i.mouseScreen&&s.view&&(u=qe(i.mouseScreen,s.view));const f=C1(o.id,u,this.tolerance),y=this.cachedLayers;s.setElements(v=>{const b=Ar(v,f,y);return b.elementsToRemove.length>0||b.elementsToAdd.length>0?Cr(v,b):v})}handlePowerTrimStart(s,r){var i;this.state=d2(this.state,r),(i=s.setTrimPath)==null||i.call(s,[r])}handlePowerTrimMove(s,r){var o;if(this.state.trimPath.length===0)return;const i=this.state.trimPath[this.state.trimPath.length-1];te(i,r)<g2||(this.state=bh(this.state,r),(o=s.setTrimPath)==null||o.call(s,[...this.state.trimPath]))}handlePowerTrimEnd(s,r){var i;if(this.state.trimPath.length>0){const o=this.state.trimPath[this.state.trimPath.length-1];te(o,r)>1e-5&&(this.state=bh(this.state,r))}if(this.state.trimPath.length>=2){const o=R1(this.state.trimPath,this.tolerance),u=this.cachedLayers;s.setElements(f=>{const y=Ar(f,o,u);return y.elementsToRemove.length>0||y.elementsToAdd.length>0?Cr(f,y):f})}this.state=f2(this.state),(i=s.setTrimPath)==null||i.call(s,[])}handleCornerTrimClick(s,r){var f,y,h;const i=(h=(f=s.selectionHook)==null?void 0:f.hitTest)==null?void 0:h.call(f,r,((y=s.view)==null?void 0:y.zoom)||1);if(!i){this.state=Sh(this.state);return}if(!this.state.cornerFirstId){this.state=y2(this.state,i.id);return}const o=D1(this.state.cornerFirstId,i.id,this.tolerance),u=this.cachedLayers;s.setElements(m=>{const x=Ar(m,o,u);return x.elementsToRemove.length>0||x.elementsToAdd.length>0?Cr(m,x):m}),this.state=Sh(this.state)}handleBoxTrimStart(s,r){var i,o;(i=s.setDragStart)==null||i.call(s,r),(o=s.setSelectionBox)==null||o.call(s,{start:r,end:r,type:"WINDOW"})}handleBoxTrimMove(s,r){var i;s.dragStart&&((i=s.setSelectionBox)==null||i.call(s,{start:s.dragStart,end:r,type:"WINDOW"}))}handleBoxTrimEnd(s,r,i){var f,y;if(!s.dragStart)return;const o=j1(s.dragStart,r,i,this.tolerance),u=this.cachedLayers;s.setElements(h=>{const m=Ar(h,o,u);return m.elementsToRemove.length>0||m.elementsToAdd.length>0?Cr(h,m):h}),(f=s.setDragStart)==null||f.call(s,null),(y=s.setSelectionBox)==null||y.call(s,null)}}function gm(n){return new p2(n)}gm();function v2(){const n=gm();return{getState(){const s=n.getState();return{powerActive:s.powerActive,trimPath:s.trimPath,cornerFirstId:s.cornerFirstId}},resetState(){n.resetState()},onMouseDown(s,r,i){n.onMouseDown(s,r,i)},onMouseMove(s,r,i){n.onMouseMove(s,r,i)},onMouseUp(s,r,i){n.onMouseUp(s,r,i)}}}function b2(){return v2()}const wl=b2();function Hr(n,s){const r=(i,o)=>({x:i.x+o.x,y:i.y+o.y});switch(n.type){case"LINE":{const i=n;return{...i,start:r(i.start,s),end:r(i.end,s)}}case"CIRCLE":{const i=n;return{...i,center:r(i.center,s)}}case"ARC":{const i=n;return{...i,center:r(i.center,s)}}case"LWPOLYLINE":{const i=n;return{...i,vertices:i.vertices.map(o=>r(o,s))}}case"SPLINE":{const i=n;return{...i,controlPoints:i.controlPoints.map(o=>r(o,s))}}case"INSERT":{const i=n;return{...i,insertionPoint:r(i.insertionPoint,s)}}case"TEXT":{const i=n;return{...i,point:r(i.point,s)}}case"IMAGE":{const i=n;return{...i,x:i.x+s.x,y:i.y+s.y}}default:return n}}function S2(n,s,r){if(n.type!=="LWPOLYLINE")return n;const i={...n},o=[...i.vertices];return o.splice(s+1,0,{x:r.x,y:r.y}),{...i,vertices:o}}function xm(n,s,r){if(n.id!==s.elementId)return n;if(n.type==="LINE"){const i={...n};return s.type==="START"?i.start=r:s.type==="END"&&(i.end=r),i}if(n.type==="LWPOLYLINE"){const i=n;if(typeof s.index=="number"){if(s.type==="VERTEX"){const o=[...i.vertices];if(o[s.index]){const u=o.length,f=s.index,y=(f-1+u)%u,h=(f+1)%u,m=o[y],x=o[h],v=Math.hypot(r.x-m.x,r.y-m.y),b=Math.hypot(r.x-x.x,r.y-x.y);return v<1e-4||b<1e-4?i:(o[s.index]={...o[s.index],x:r.x,y:r.y},{...i,vertices:o,isRegular:!1})}}else if(s.type==="BULGE"){const o=[...i.vertices],u=s.index,f=o[u],y=o[(u+1)%o.length],h=y.x-f.x,m=y.y-f.y,x=h*h+m*m;if(x>1e-6){let b=2*(h*(r.y-f.y)-m*(r.x-f.x))/x;return b>50&&(b=50),b<-50&&(b=-50),o[u]={...f,bulge:b},{...i,vertices:o}}}}}if(n.type==="SPLINE"){const i=n;if(s.type==="VERTEX"&&typeof s.index=="number"){const o=[...i.controlPoints];if(o[s.index])return o[s.index]=r,{...i,controlPoints:o}}}if(n.type==="CIRCLE"||n.type==="ARC"){const i={...n};return s.type==="CENTER"&&(i.center=r),i}if(n.type==="TEXT"){const i={...n};return i.point=r,i}if(n.type==="IMAGE"){const i={...n};if(s.type==="CORNER"&&typeof s.index=="number"){const o=Qa({x:i.x,y:i.y},i.width,i.height,i.rotation||0),u=(s.index+2)%4,f=o[u],y=r.x-f.x,h=r.y-f.y,m=(i.rotation||0)*Math.PI/180,x=Math.cos(m),v=Math.sin(m),b=y*x+h*v,M=y*-v+h*x;return{...i,width:Math.abs(b),height:Math.abs(M),x:f.x+y/2,y:f.y+h/2}}if(s.type==="MIDPOINT"&&typeof s.index=="number"){const o=Qa({x:i.x,y:i.y},i.width,i.height,i.rotation||0),u=[{x:(o[0].x+o[1].x)/2,y:(o[0].y+o[1].y)/2},{x:(o[1].x+o[2].x)/2,y:(o[1].y+o[2].y)/2},{x:(o[2].x+o[3].x)/2,y:(o[2].y+o[3].y)/2},{x:(o[3].x+o[0].x)/2,y:(o[3].y+o[0].y)/2}],f=(s.index+2)%4,y=u[f],h=r.x-y.x,m=r.y-y.y,x=(i.rotation||0)*Math.PI/180,v=Math.cos(x),b=Math.sin(x);if(s.index===0||s.index===2){const M=h*-b+m*v,T=M/2;return{...i,height:Math.abs(M),x:y.x+T*-b,y:y.y+T*v}}else{const M=h*v+m*b,T=M/2;return{...i,width:Math.abs(M),x:y.x+T*v,y:y.y+T*b}}}}return n}function E2(n,s,r,i,o=!1){const u=n.find(y=>y.id===s);if(!u||u.type!=="LWPOLYLINE")return null;const f=u;if(o){let y=[...f.vertices],h=!1;for(let m=y.length-1;m>=0;m--){const x={...f,vertices:y},v=th(x,m,i);v&&(y=v,h=!0)}return h?y:null}else return th(f,r,i)}function M2(n,s,r){const i=n.find(u=>u.id===s);return!i||i.type!=="LWPOLYLINE"?null:Vx(i,r)}function N2(n,s){if(n.type!=="LWPOLYLINE"&&n.type!=="SPLINE")return n;if(n.type==="LWPOLYLINE"){const r={...n},i=[...r.vertices];return i.length<=2?n:(i.splice(s,1),{...r,vertices:i})}else{const r={...n},i=[...r.controlPoints];return i.length<=2?n:(i.splice(s,1),{...r,controlPoints:i})}}function T2(){return{onApply(n,s,r,i,o=!1){const u=E2(n.elements,s,r,i,o);u&&n.setElements(f=>f.map(y=>y.id===s?{...y,vertices:u}:y))},onRemove(n,s,r){const i=M2(n.elements,s,r);i&&n.setElements(o=>o.map(u=>u.id===s?{...u,vertices:i}:u))}}}const Eh=T2();function A2(){return{commitMove(n,s,r,i){const o=n.elements.filter(u=>i.includes(u.id));if(r){const u=o.map(f=>{const y=JSON.parse(JSON.stringify(f));return y.id=n.generateId(),Hr(y,s)});n.setElements(f=>[...f,...u]),n.setSelection(u.map(f=>f.id))}else n.setElements(u=>u.map(f=>i.includes(f.id)?Hr(f,s):f))}}}const Mh=A2();function C2(){return{commitStretch(n,s,r){n.setElements(i=>i.map(o=>o.id===s.elementId?xm(o,s,r):o))}}}const Nh=C2(),R2={onMouseDown(n,s,r){n.setMode&&n.setMode("DRAW"),n.setDragStart&&n.setDragStart(r),n.setCurrentMouse&&n.setCurrentMouse(s),n.setPreviewEl&&n.setPreviewEl({id:"measure",type:"LINE",start:r,end:r,layer:"0",color:"BYLAYER"})},onMouseMove(n,s,r){!n.dragStart||!n.previewEl||n.setPreviewEl&&n.setPreviewEl(i=>({...i,end:r}))},onMouseUp(n){n.setPreviewEl&&n.setPreviewEl(null),n.setMode&&n.setMode("IDLE"),n.setDragStart&&n.setDragStart(null)}},D2={MeasureTool:R2};function Zs(){return{state:"idle",pressStartScreen:null,pressStartWorld:null,pressedElementId:null,pressedHandle:null,dragStartWorld:null,dragCurrentWorld:null,dragThresholdPx:5,isCtrlHeld:!1,isShiftHeld:!1,selectionBoxStart:null,selectionBoxEnd:null,selectionBoxType:null}}function j2(n,s,r){const i=s.x-n.x,o=s.y-n.y;return Math.sqrt(i*i+o*o)>r}function Ir(n,s,r=5){const i=s.x-n.x,o=s.y-n.y;if(Math.abs(i)<1e-10&&Math.abs(o)<1e-10)return s;let u=Math.atan2(o,i)*(180/Math.PI);u<0&&(u+=360);const y=Math.round(u/r)*r*(Math.PI/180),h=Math.sqrt(i*i+o*o);return{x:n.x+h*Math.cos(y),y:n.y+h*Math.sin(y)}}function L2(n,s,r=5){return Ir(n,s,r)}const vt={onElementPress(n,s,r,i,o){return{...n,state:"press",pressStartScreen:r,pressStartWorld:i,pressedElementId:s,pressedHandle:o}},onEmptyPress(n,s){return{...n,state:"selectionBox",selectionBoxStart:s,selectionBoxEnd:s,selectionBoxType:"WINDOW"}},onPressMove(n,s,r,i){return n.state!=="press"||!n.pressStartScreen||!j2(n.pressStartScreen,s,n.dragThresholdPx)?n:n.pressedHandle?{...n,state:"editHandleDrag",dragStartWorld:n.pressStartWorld,dragCurrentWorld:r}:i||n.pressedElementId?{...n,state:n.isCtrlHeld?"dragCopy":"dragMove",dragStartWorld:n.pressStartWorld,dragCurrentWorld:r}:n},onDragMove(n,s){if(n.state==="dragMove"||n.state==="dragCopy"||n.state==="editHandleDrag")return{...n,dragCurrentWorld:s};if(n.state==="selectionBox"&&n.selectionBoxStart){const r=s.x-n.selectionBoxStart.x;return{...n,selectionBoxEnd:s,selectionBoxType:r>0?"WINDOW":"CROSSING"}}return n},updateModifiers(n,s,r){const i={...n,isCtrlHeld:s,isShiftHeld:r};return(n.state==="dragMove"||n.state==="dragCopy")&&n.isCtrlHeld!==s?{...i,state:s?"dragCopy":"dragMove"}:i},onRelease(n){return{...Zs(),dragThresholdPx:n.dragThresholdPx,isCtrlHeld:n.isCtrlHeld,isShiftHeld:n.isShiftHeld}},cancel(n){return{...Zs(),dragThresholdPx:n.dragThresholdPx}},openContextMenu(n){return{...Zs(),state:"contextMenu",dragThresholdPx:n.dragThresholdPx}},closeContextMenu(n){return{...Zs(),dragThresholdPx:n.dragThresholdPx}}};let V=Zs();function O2(n,s,r,i){return n.filter(u=>s.includes(u.id)).map(u=>{const f=JSON.parse(JSON.stringify(u));return f.id=i(),Hr(f,r)})}function Ys(n){return n.ctrlKey||n.metaKey}const St={onMouseDown(n,s,r,i){var x,v,b,M,T,E,N,R,z,C;const o=qe(s,n.view),u=i==null?void 0:i.originalEvent;if(!u)return;const f=Ys(u),y=u.shiftKey;V=vt.updateModifiers(V,f,y);const h=(x=n.selectionHook)!=null&&x.getHitHandle?n.selectionHook.getHitHandle(o,n.selection||[],n.view.zoom):null;if(h&&u.button===0){if(u.preventDefault(),u.stopPropagation(),h.type==="MIDPOINT"&&typeof h.index=="number"){const X=n.elements.find(Q=>Q.id===h.elementId);if(X&&X.type==="LWPOLYLINE"){const Q=S2(X,h.index,o),ie={...h,type:"VERTEX",index:h.index+1};n.setElements(F=>F.map(pe=>pe.id===X.id?Q:pe)),V=vt.onElementPress(V,X.id,s,o,ie),V={...V,state:"editHandleDrag",dragStartWorld:o,dragCurrentWorld:o};return}}(v=n.selection)!=null&&v.includes(h.elementId)||(b=n.setSelection)==null||b.call(n,[h.elementId]);const H=n.elements.find(X=>X.id===h.elementId);if(!H)return;let P=o;if(H.type==="LINE"){const X=H;h.type==="START"?P=X.start:h.type==="END"?P=X.end:h.type==="CENTER"&&(P={x:(X.start.x+X.end.x)/2,y:(X.start.y+X.end.y)/2})}else H.type==="LWPOLYLINE"&&typeof h.index=="number"?P=H.vertices[h.index]:(H.type==="CIRCLE"||H.type==="ARC")&&h.type==="CENTER"?P=H.center:H.type==="TEXT"&&(P=H.point);V=vt.onElementPress(V,h.elementId,s,P,h),V={...V,state:"editHandleDrag",dragStartWorld:P,dragCurrentWorld:P};return}const m=(M=n.selectionHook)!=null&&M.hitTest?n.selectionHook.hitTest(o,n.view.zoom):null;if(m&&u.button===0){u.stopPropagation();const H=n.selection||[],P=H.includes(m.id);if(y){const X=P?H.filter(Q=>Q!==m.id):[...H,m.id];if((T=n.setSelection)==null||T.call(n,X),P)return}else f?P||(E=n.setSelection)==null||E.call(n,[...H,m.id]):P||(N=n.setSelection)==null||N.call(n,[m.id]);V=vt.onElementPress(V,m.id,s,o,null);return}!y&&!f&&((R=n.setSelection)==null||R.call(n,[])),V=vt.onEmptyPress(V,o),(z=n.setDragStart)==null||z.call(n,o),(C=n.setSelectionBox)==null||C.call(n,{start:o,end:o,type:"WINDOW"})},onMouseMove(n,s,r,i){var f,y;const o=i==null?void 0:i.originalEvent,u=qe(s,n.view);switch(o&&(V=vt.updateModifiers(V,Ys(o),o.shiftKey)),V.state){case"press":{const h=V.pressedElementId?(n.selection||[]).includes(V.pressedElementId):!1;V=vt.onPressMove(V,s,u,h),(V.state==="dragMove"||V.state==="dragCopy")&&o&&(o.preventDefault(),o.stopPropagation());break}case"dragMove":case"dragCopy":{o&&(o.preventDefault(),o.stopPropagation());let h=r;if(V.isShiftHeld&&V.dragStartWorld&&(h=Ir(V.dragStartWorld,u,5)),V=vt.onDragMove(V,h),V.dragStartWorld&&V.dragCurrentWorld){const m={x:V.dragCurrentWorld.x-V.dragStartWorld.x,y:V.dragCurrentWorld.y-V.dragStartWorld.y};(f=n.setDragState)==null||f.call(n,{isActive:!0,mode:"MOVE",basePoint:V.dragStartWorld,currentPos:V.dragCurrentWorld,offset:m,isCopy:V.state==="dragCopy",startMouse:V.pressStartScreen||s,isOrtho:V.isShiftHeld,snap:null,guides:[]})}break}case"editHandleDrag":{o&&(o.preventDefault(),o.stopPropagation());let h=r;if(V.isShiftHeld&&V.dragStartWorld&&V.pressedHandle){const m=V.pressedHandle,x=n.elements.find(v=>v.id===m.elementId);if((x==null?void 0:x.type)==="LINE"&&(m.type==="START"||m.type==="END")){const v=x,b=m.type==="START"?v.end:v.start;h=L2(b,u,5)}else h=Ir(V.dragStartWorld,u,5)}if(V=vt.onDragMove(V,h),n.setDragState&&V.dragStartWorld&&V.dragCurrentWorld){const m={x:V.dragCurrentWorld.x-V.dragStartWorld.x,y:V.dragCurrentWorld.y-V.dragStartWorld.y};n.setDragState({isActive:!0,mode:"STRETCH",activeHandle:V.pressedHandle,basePoint:V.dragStartWorld,currentPos:V.dragCurrentWorld,offset:m,isCopy:!1,startMouse:V.pressStartScreen||s,isOrtho:V.isShiftHeld,snap:null,guides:[]})}break}case"selectionBox":{if(V=vt.onDragMove(V,u),V.selectionBoxStart){const m=u.x-V.selectionBoxStart.x>0?"WINDOW":"CROSSING";(y=n.setSelectionBox)==null||y.call(n,{start:V.selectionBoxStart,end:u,type:m})}break}}},onMouseUp(n,s,r,i){var f,y,h,m,x,v,b,M,T,E,N;const o=i==null?void 0:i.originalEvent,u=qe(s,n.view);switch(V.state){case"dragMove":case"dragCopy":{if(o&&o.stopPropagation(),V.dragStartWorld&&V.dragCurrentWorld){const R={x:V.dragCurrentWorld.x-V.dragStartWorld.x,y:V.dragCurrentWorld.y-V.dragStartWorld.y};if(V.state==="dragCopy"){const z=O2(n.elements,n.selection||[],R,n.generateId);(f=n.setElements)==null||f.call(n,C=>[...C,...z]),(y=n.setSelection)==null||y.call(n,z.map(C=>C.id))}else(h=n.setElements)==null||h.call(n,z=>z.map(C=>(n.selection||[]).includes(C.id)?Hr(C,R):C))}(m=n.setDragState)==null||m.call(n,{isActive:!1});break}case"editHandleDrag":{if(o&&o.stopPropagation(),V.pressedHandle&&V.dragCurrentWorld){const R=V.pressedHandle,z=V.dragCurrentWorld;(x=n.setElements)==null||x.call(n,C=>C.map(H=>H.id===R.elementId?xm(H,R,z):H))}(v=n.setDragState)==null||v.call(n,{isActive:!1});break}case"selectionBox":{if(V.selectionBoxStart){const R=V.selectionBoxStart,z=u,C=Math.hypot(R.x-z.x,R.y-z.y),H=2/n.view.zoom;if(C>=H){const X=z.x-R.x>0?"WINDOW":"CROSSING",Q=(b=n.selectionHook)!=null&&b.getEntitiesInBox?n.selectionHook.getEntitiesInBox(R,z,X):[],ie=o?Ys(o):!1;if((o==null?void 0:o.shiftKey)||ie){const pe=Array.from(new Set([...n.selection||[],...Q]));(M=n.setSelection)==null||M.call(n,pe)}else(T=n.setSelection)==null||T.call(n,Q)}}(E=n.setDragStart)==null||E.call(n,null),(N=n.setSelectionBox)==null||N.call(n,null);break}}V=vt.onRelease(V)},onKeyDown(n,s,r){var o,u,f,y;const i=r==null?void 0:r.originalEvent;if(i&&(V=vt.updateModifiers(V,Ys(i),i.shiftKey)),(s==="Delete"||s==="Backspace")&&V.state==="editHandleDrag"&&V.pressedHandle&&V.pressedHandle.type==="VERTEX"){const h=V.pressedHandle;if(typeof h.index=="number"){n.setElements(m=>m.map(x=>x.id===h.elementId?N2(x,h.index):x)),V=vt.cancel(V),(o=n.setDragState)==null||o.call(n,{isActive:!1});return}}s==="Escape"&&(V=vt.cancel(V),(u=n.setDragStart)==null||u.call(n,null),(f=n.setSelectionBox)==null||f.call(n,null),(y=n.setDragState)==null||y.call(n,{isActive:!1}))},onKeyUp(n,s,r){const i=r==null?void 0:r.originalEvent;i&&(V=vt.updateModifiers(V,Ys(i),i.shiftKey))}},Du=(n,s,r,i)=>{const o=te(n,s);if(o<1e-9)return Array(r).fill(n);const u=Math.atan2(s.y-n.y,s.x-n.x);let f=o,y=u;if(!i){const x=Math.PI/r;f=o/Math.cos(x),y-=x}const h=[],m=2*Math.PI/r;for(let x=0;x<r;x++){const v=y+x*m;h.push({x:n.x+f*Math.cos(v),y:n.y+f*Math.sin(v)})}return h},z2={onMouseDown(n,s,r){if(!n.dragStart)n.setDragStart(r);else{const i=n.dragStart,o=r,u=ni(),f=Ru(),y=Du(i,o,u,f),h=y[0],m=y[1]||y[0],x=Math.hypot(m.x-h.x,m.y-h.y),v=Math.atan2(h.y-i.y,h.x-i.x),b={id:n.generateId(),type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:y,polygonSides:u,polygonCenter:i,rotation:v,sideLength:x,isRegular:!0,driveMode:"sideLength"};n.setElements(M=>[...M,b]),n.setDragStart(null),n.setPreviewEl(null)}},onMouseMove(n,s,r){if(n.dragStart){const i=n.dragStart,o=r,u=ni(),f=Ru(),y=Du(i,o,u,f),h={id:"preview",type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:y};n.setPreviewEl(h)}}},Th=(n,s,r,i)=>{const o=s.x-n.x,u=s.y-n.y,f=Math.sqrt(o*o+u*u);if(f<1e-9)return[];const y=2*Math.PI/r,m=f/2/Math.tan(y/2),x=(n.x+s.x)/2,v=(n.y+s.y)/2;let b=-u,M=o;const T=Math.sqrt(b*b+M*M);b/=T,M/=T;let E=1;const N=x+E*b*m,R=v+E*M*m,z=Math.sqrt((n.x-N)**2+(n.y-R)**2),C=Math.atan2(n.y-R,n.x-N),H=Math.atan2(s.y-R,s.x-N),P=[],X=2*Math.PI/r,Q=H,ie=C-X,F=oe=>(oe=oe%(2*Math.PI),oe<0&&(oe+=2*Math.PI),oe),pe=(oe,Ve)=>Math.abs(F(oe)-F(Ve))<.01;let ve=X;pe(Q,ie)&&(ve=-X);for(let oe=0;oe<r;oe++){const Ve=C+oe*ve;P.push({x:N+z*Math.cos(Ve),y:R+z*Math.sin(Ve)})}return P},_2={onMouseDown(n,s,r){if(!n.dragStart)n.setDragStart(r);else{const i=n.dragStart,o=r,u=ni(),f=Th(i,o,u);if(f.length>=3){const y=f.reduce((E,N)=>E+N.x,0)/f.length,h=f.reduce((E,N)=>E+N.y,0)/f.length,m={x:y,y:h},x=f[0],v=f[1]||f[0],b=Math.hypot(v.x-x.x,v.y-x.y),M=Math.atan2(x.y-h,x.x-y),T={id:n.generateId(),type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:f,polygonSides:u,polygonCenter:m,rotation:M,sideLength:b,isRegular:!0,driveMode:"sideLength"};n.setElements(E=>[...E,T])}n.setDragStart(null),n.setPreviewEl(null)}},onMouseMove(n,s,r){if(n.dragStart){const i=n.dragStart,o=r,u=ni(),f=Th(i,o,u);if(f.length>=3){const y={id:"preview",type:"LWPOLYLINE",layer:n.activeLayer||"0",color:n.activeColor||"BYLAYER",closed:!0,vertices:f};n.setPreviewEl(y)}}}},qs={[In.Center]:z2,[In.Edge]:_2},w2={onMouseDown:(n,s,r)=>{var i,o;return(o=(i=qs[Vs()]).onMouseDown)==null?void 0:o.call(i,n,s,r)},onMouseMove:(n,s,r)=>{var i,o;return(o=(i=qs[Vs()]).onMouseMove)==null?void 0:o.call(i,n,s,r)},onMouseUp:(n,s,r)=>{var i,o;return(o=(i=qs[Vs()]).onMouseUp)==null?void 0:o.call(i,n,s,r)},onContextMenu:(n,s,r)=>{const i=Vs();qs[i].onContextMenu?qs[i].onContextMenu(n,s,r):(n.setDragStart(null),n.setPreviewEl(null))}},Xs={[Sa.Simple]:t2,[Sa.Block]:a2},k2={onMouseDown:(n,s,r)=>{var i,o;return(o=(i=Xs[Qs()]).onMouseDown)==null?void 0:o.call(i,n,s,r)},onMouseMove:(n,s,r)=>{var i,o;return(o=(i=Xs[Qs()]).onMouseMove)==null?void 0:o.call(i,n,s,r)},onMouseUp:(n,s,r)=>{var i,o;return(o=(i=Xs[Qs()]).onMouseUp)==null?void 0:o.call(i,n,s,r)},onContextMenu:(n,s,r)=>{var o,u;const i=Qs();Xs[i].onContextMenu?Xs[i].onContextMenu(n,s,r):((o=n.setDragStart)==null||o.call(n,null),(u=n.setPreviewEl)==null||u.call(n,null))}},Ah=n=>{if(!n.basePoint)return null;switch(n.action){case"MOVE":return gn(n.moveDelta.x,n.moveDelta.y);case"ROTATE":return Tu(n.rotateAngle*Math.PI/180,n.basePoint);case"SCALE":return Au(n.scaleFactor,n.basePoint);case"MIRROR":return!n.secondPoint||te(n.basePoint,n.secondPoint)<.001?null:Gh(n.basePoint,n.secondPoint)}return null},vu=(n,s)=>Math.sqrt((s.x-n.x)**2+(s.y-n.y)**2),kl={onMouseDown:(n,s,r,i)=>{var m;const o=n,u=o.transformState,f=o.setTransformState;if(!u||!f)return;if(!o.selection||o.selection.length===0){(m=St.onMouseDown)==null||m.call(St,o,s,r,i);return}const y=qe(s,o.view),h=r||y;if(u.step==="PICK_BASE"){f({...u,step:u.action==="MOVE"||u.action==="MIRROR"?"PICK_TARGET":"INPUT",basePoint:h,currentMouse:h,moveDelta:{x:0,y:0},moveDeltaSource:"MOUSE",rotateAngle:0,rotateAngleSource:"MOUSE",scaleFactor:1,scaleFactorSource:"MOUSE",dragStartScreen:s,secondPoint:null,previewMatrix:null});return}if(u.step==="PICK_TARGET"||u.step==="INPUT"){let x={...u};u.action==="MIRROR"&&(x.secondPoint=h);const v=Ah(x);if(v){const b=o.selection,M=o.elements;if(u.isCopy||u.action==="MIRROR"&&!u.deleteOriginal){const T=[];b.forEach(E=>{const N=M.find(R=>R.id===E);if(N){const R=ei(N,v);T.push({...R,id:o.generateId()})}}),o.setElements([...M,...T]),o.setSelection(T.map(E=>E.id))}else{const T=M.map(E=>b.includes(E.id)?ei(E,v):E);o.setElements(T)}}f({...u,step:"PICK_BASE",basePoint:null,secondPoint:null,currentMouse:null,moveDelta:{x:0,y:0},moveDeltaSource:"MOUSE",rotateAngle:0,rotateAngleSource:"MOUSE",scaleFactor:1,scaleFactorSource:"MOUSE",dragStartScreen:null,inputValue:null,previewMatrix:null})}},onMouseMove:(n,s,r,i)=>{var m,x,v;const o=n,u=o.transformState,f=o.setTransformState;if(!u||!f)return;if(!((m=o.selection)!=null&&m.length)){(x=St.onMouseMove)==null||x.call(St,o,s,r,i);return}const y=qe(s,o.view),h=r||y;if(u.step!=="PICK_BASE"&&u.basePoint){const b=(v=i==null?void 0:i.originalEvent)==null?void 0:v.shiftKey;let M=u.moveDeltaSource==="MOUSE";u.moveDeltaSource==="INPUT"&&u.dragStartScreen&&vu(u.dragStartScreen,s)>pu&&(M=!0);let T=u.rotateAngleSource==="MOUSE";u.rotateAngleSource==="INPUT"&&u.dragStartScreen&&vu(u.dragStartScreen,s)>pu&&(T=!0);let E=u.scaleFactorSource==="MOUSE";u.scaleFactorSource==="INPUT"&&u.dragStartScreen&&vu(u.dragStartScreen,s)>pu&&(E=!0);let N={...u,currentMouse:h};switch(u.action){case"MOVE":{if(M){let R=h;b&&(R=Ir(u.basePoint,h,5));const z=R.x-u.basePoint.x,C=R.y-u.basePoint.y;N.moveDelta={x:z,y:C},N.moveDeltaSource="MOUSE",N.dragStartScreen=s}break}case"ROTATE":{if(T){let R=$s(u.basePoint,h);b&&(R=Math.round(R/5)*5),N.rotateAngle=R,N.rotateAngleSource="MOUSE",N.dragStartScreen=s}break}case"SCALE":{if(E){const R=te(u.basePoint,h),z=Math.max(.01,R);N.scaleFactor=z,N.scaleFactorSource="MOUSE",N.dragStartScreen=s}break}case"MIRROR":{N.secondPoint=h;break}}N.previewMatrix=Ah(N),f(N)}},onMouseUp:(...n)=>{},onKeyDown:(n,s,r)=>{var o,u;const i=n;s==="Escape"?(o=i.setTransformState)==null||o.call(i,ai):(u=St.onKeyDown)==null||u.call(St,i,s,r)}},U2=n=>O.useMemo(()=>{const r={[he.LINE]:Tb,[he.CIRCLE]:hb,[he.RECTANGLE]:Ub,[he.POLYGON]:w2,[he.TEXT]:k2,[he.MEASURE]:D2.MeasureTool},i=(o,u,f,y)=>{const h=r[u];h&&(o==="down"&&h.onMouseDown&&h.onMouseDown(n,y.mouseScreen,f),o==="move"&&h.onMouseMove&&h.onMouseMove(n,y.mouseScreen,f),o==="up"&&h.onMouseUp&&h.onMouseUp(n,y.mouseScreen,f))};return{onMouseDown:(o,u)=>{const f=n.tool;if(f===he.SELECT||!f||f==="IDLE")return St.onMouseDown?St.onMouseDown(n,u==null?void 0:u.mouseScreen,o,u||{}):void 0;if(f===he.TRANSFORM)return kl.onMouseDown?kl.onMouseDown(n,u==null?void 0:u.mouseScreen,o,u||{}):void 0;if(r[f])return i("down",f,o,u||{});if(f===he.TRIM&&wl.onMouseDown)return wl.onMouseDown(n,o,u||{})},onMouseMove:(o,u)=>{const f=n.tool;if(f===he.SELECT||!f||f==="IDLE")return St.onMouseMove?St.onMouseMove(n,u==null?void 0:u.mouseScreen,o,u||{}):void 0;if(f===he.TRANSFORM)return kl.onMouseMove?kl.onMouseMove(n,u==null?void 0:u.mouseScreen,o,u||{}):void 0;if(r[f])return i("move",f,o,u||{});if(f===he.TRIM&&wl.onMouseMove)return wl.onMouseMove(n,o,u||{})},onMouseUp:(o,u)=>{const f=n.tool;if(f===he.SELECT||!f||f==="IDLE")return St.onMouseUp?St.onMouseUp(n,u==null?void 0:u.mouseScreen,o,u||{}):void 0;if(f===he.TRANSFORM)return kl.onMouseUp?kl.onMouseUp(n,u==null?void 0:u.mouseScreen,o,u||{}):void 0;if(r[f])return i("up",f,o,u||{});if(f===he.TRIM&&wl.onMouseUp)return wl.onMouseUp(n,o,u||{});if(n.dragState&&n.dragState.isActive){if(n.dragState.mode==="STRETCH"&&n.dragState.activeHandle)return Nh.commitStretch(n,n.dragState.activeHandle,n.dragState.currentPos);if(n.dragState.mode==="MOVE")return Mh.commitMove(n,n.dragState.offset,n.dragState.isCopy,n.selection||[])}},onContextMenu:(o,u)=>{if(n.onContextMenu)return n.onContextMenu(o,u)},applyFillet:(o,u,f,y=!1)=>Eh.onApply(n,o,u,f,y),removeFillet:(o,u)=>Eh.onRemove(n,o,u),commitMove:(o,u,f)=>Mh.commitMove(n,o,u,f),commitStretch:(o,u)=>Nh.commitStretch(n,o,u),onInputCommit:(o,u)=>{const f=n.tool,y=r[f];y&&y.onInputCommit&&y.onInputCommit(n,o,u)}}},[n]),B2={HIT_TEST:5,QUICK_TRIM:10,SNAP:15,HANDLE:8,VERTEX:10,ALIGN:5,INSERT_MULTIPLIER:2,TEXT_MULTIPLIER:4};function pm(n,s){return B2[n]/Math.max(s,1e-6)}function bu(n){return pm("HIT_TEST",n)}function H2(n){return pm("SNAP",n)}const I2=(n,s,r,i,o)=>({calculateSnapPoint:(f,y,h)=>{if(y==="TRIM")return f;const m=[];h&&(y==="LINE"||y==="CIRCLE"||y==="POLYGON")&&n.forEach(T=>{const E=s.find(N=>N.name===T.layer);if(!(E&&(E.locked||!E.visible))){if(y==="LINE"||y==="CIRCLE"){const N=w1(h,T);N&&N.length&&m.push(...N)}if(y==="LINE"){const N=k1(h,T);N&&m.push(N)}}});const x=H2(i);let v=null,b=x;if(m.forEach(T=>{const E=te(f,T);E<b&&(b=E,v=T)}),v)return v;const M=_1(f,n,[],x,o);if(M)return M;if(r){const T=Lu(i);return{x:Math.round(f.x/T)*T,y:Math.round(f.y/T)*T,type:"GRID"}}return f}}),Y2=(n,s)=>{const r=y=>s.find(h=>h.name===y);return{hitTest:(y,h)=>{const m=bu(h);return n.find(x=>{const v=r(x.layer);if(v&&(v.locked||!v.visible))return!1;if(x.type==="LINE")return pa(y,x.start,x.end)<m;if(x.type==="CIRCLE"||x.type==="ARC")return Math.abs(te(y,x.center)-x.radius)<m;if(x.type==="DIMENSION")return pa(y,x.start,x.end)<m;if(x.type==="INSERT")return Math.abs(te(y,x.insertionPoint))<bu(h)*2;if(x.type==="TEXT")return te(y,x.point)<bu(h)*4;if(x.type==="MTEXT"){const b=x,M=Ul(b.boxCorner,b.boxWidth,b.boxHeight,b.rotation||0);return Tr(y,M)}if(x.type==="IMAGE"){const b=Qa({x:x.x,y:x.y},x.width,x.height,x.rotation||0);return Tr(y,b)}if(x.type==="SPLINE"){const b=x.controlPoints;for(let M=0;M<b.length-1;M++)if(pa(y,b[M],b[M+1])<m)return!0;return!1}return!1})},getHitHandle:(y,h,m)=>U1(y,n,h,m),selectInBox:(y,h)=>n.filter(m=>{const x=r(m.layer);return x&&(x.locked||!x.visible)?!1:mu(m,y,h)}).map(m=>m.id),getEntitiesInBox:(y,h,m)=>{const x=Math.min(y.x,h.x),v=Math.max(y.x,h.x),b=Math.min(y.y,h.y),M=Math.max(y.y,h.y),T=[{id:"__b0",type:"LINE",layer:"__temp",color:"0",lineStyle:"CONTINUOUS",start:{x,y:b},end:{x:v,y:b}},{id:"__b1",type:"LINE",layer:"__temp",color:"0",lineStyle:"CONTINUOUS",start:{x:v,y:b},end:{x:v,y:M}},{id:"__b2",type:"LINE",layer:"__temp",color:"0",lineStyle:"CONTINUOUS",start:{x:v,y:M},end:{x,y:M}},{id:"__b3",type:"LINE",layer:"__temp",color:"0",lineStyle:"CONTINUOUS",start:{x,y:M},end:{x,y:b}}];return n.filter(E=>{const N=r(E.layer);if(N&&(N.locked||!N.visible))return!1;if(m==="WINDOW"){const R=mu(E,y,h);return E.type==="IMAGE"?Qa({x:E.x,y:E.y},E.width,E.height,E.rotation||0).every(C=>C.x>=x&&C.x<=v&&C.y>=b&&C.y<=M):R}if(E.type==="LWPOLYLINE"&&E.vertices.some(R=>R.x>=x&&R.x<=v&&R.y>=b&&R.y<=M)||E.type==="SPLINE"&&E.controlPoints.some(R=>R.x>=x&&R.x<=v&&R.y>=b&&R.y<=M))return!0;if(E.type==="MTEXT"){const R=E,z=Ul(R.boxCorner,R.boxWidth,R.boxHeight,R.rotation||0);if(z.some(H=>H.x>=x&&H.x<=v&&H.y>=b&&H.y<=M)||[{x,y:b},{x:v,y:b},{x:v,y:M},{x,y:M}].some(H=>Tr(H,z)))return!0}if(E.type==="IMAGE"){const R=Qa({x:E.x,y:E.y},E.width,E.height,E.rotation||0);if(R.some(C=>C.x>=x&&C.x<=v&&C.y>=b&&C.y<=M)||[{x,y:b},{x:v,y:b},{x:v,y:M},{x,y:M}].some(C=>Tr(C,R)))return!0}for(const R of T){if(E.type==="IMAGE"){const C=Qa({x:E.x,y:E.y},E.width,E.height,E.rotation||0);for(let H=0;H<4;H++){const P=C[H],X=C[(H+1)%4],ie=eh({type:"LINE",start:P,end:X},R);if(ie&&ie.length>0)return!0}continue}const z=eh(E,R);if(z&&z.length>0)return!0}return mu(E,y,h)}).map(E=>E.id)}}},q2=({dragState:n,setDragState:s,setIsSpacePressed:r,setMode:i,setDragStart:o,setPreviewEl:u,setFencePolygon:f,typingValue:y,setTypingValue:h,mode:m,textEditActive:x=!1,transformState:v,setTransformState:b})=>{O.useEffect(()=>{if(x)return;const M=E=>{E.code==="Space"&&r(!0),E.key==="Escape"&&(n.isActive&&s(N=>({...N,isActive:!1})),m!=="IDLE"&&(i("IDLE"),o(null),u(null),f([])),((v==null?void 0:v.step)!=="PICK_BASE"||v!=null&&v.previewMatrix)&&(b==null||b(ai))),n.isActive&&(E.key==="Shift"&&s(N=>({...N,isOrtho:!0})),(E.key==="Alt"||E.key==="Control")&&s(N=>({...N,isCopy:!0})),/^[0-9.\-]$/.test(E.key)&&y===null&&h(E.key))},T=E=>{E.code==="Space"&&r(!1),n.isActive&&(E.key==="Shift"&&s(N=>({...N,isOrtho:!1})),(E.key==="Alt"||E.key==="Control")&&s(N=>({...N,isCopy:!1})))};return window.addEventListener("keydown",M),window.addEventListener("keyup",T),()=>{window.removeEventListener("keydown",M),window.removeEventListener("keyup",T)}},[n.isActive,y,m,v==null?void 0:v.step,v==null?void 0:v.previewMatrix])},X2=n=>{const{view:s,setView:r,handleWheel:i,handleDoubleClick:o,panStart:u,panMove:f,panEnd:y}=r2(n.view,n.setView,n.elements),[h,m]=O.useState("IDLE"),[x,v]=O.useState(null),[b,M]=O.useState(null),[T,E]=O.useState(null),[N,R]=O.useState({isActive:!1}),[z,C]=O.useState(!1),[H,P]=O.useState(null),[X,Q]=O.useState([]),[ie,F]=O.useState("QUICK"),[pe,ve]=O.useState([]),[oe,Ve]=O.useState({visible:!1,position:{x:0,y:0},vertex:{elementId:"",type:"VERTEX"}}),[Je,at]=O.useState({active:!1}),[_,Z]=O.useState(ai),ee=O.useRef(null),Te=I2(n.elements,n.layers,n.gridSnap,s.zoom,n.blocks),Ce=Y2(n.elements,n.layers||[]),[D,Y]=O.useState(null),K=O.useRef(0),W=O.useRef(null),le=O.useRef(null),ce=U2({elements:n.elements,setElements:n.setElements,selection:n.selection,setSelection:n.setSelection,view:s,setView:r,onOpenPanel:n.onOpenPanel,angleSnap:n.angleSnap,layers:n.layers,activeLayer:n.activeLayer,gridSnap:n.gridSnap,blocks:n.blocks,selectionHook:Ce,selectionBox:D,setSelectionBox:Y,handleClickState:{lastClickTimeRef:K,lastClickedHandleRef:W,doubleClickTimerRef:le},tool:n.tool,previewEl:T,setPreviewEl:E,mode:h,setMode:m,dragStart:x,setDragStart:v,currentMouse:b,setCurrentMouse:M,dragState:N,setDragState:R,trimMode:ie,setTrimPath:ve,generateId:n.generateId||(()=>Math.random().toString(36).slice(2)),setTextEditState:at,transformState:_,setTransformState:Z});return q2({dragState:N,setDragState:R,setIsSpacePressed:C,setMode:m,setDragStart:v,setPreviewEl:E,setFencePolygon:Q,typingValue:H,setTypingValue:P,mode:h,textEditActive:Je.active,transformState:_,setTransformState:Z}),c2({canvasRef:ee,toolManager:ce,view:s,setView:r,snapping:Te,tool:n.tool,dragStart:x,viewportHandlers:{handleWheel:i,handleDoubleClick:o,panStart:u,panMove:f,panEnd:y},isSpacePressed:z,textEditActive:Je.active,...n}),g.jsxs(g.Fragment,{children:[g.jsx(i2,{...n,toolManager:ce,view:s,selectionBox:D,dragState:N,currentMouse:b,typingValue:H,setTypingValue:P,filletState:oe,onFilletApply:(me,lt)=>{const je=oe.vertex;je&&je.elementId&&ce.applyFillet(je.elementId,je.index||0,me,lt),Ve({...oe,visible:!1})},onFilletRemove:()=>{const me=oe.vertex;me&&me.elementId&&ce.removeFillet(me.elementId,me.index||0),Ve({...oe,visible:!1})},tool:n.tool,trimMode:ie,setTrimMode:F,textEditState:Je,setTextEditState:at,context:{setElements:n.setElements,generateId:()=>`id_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,activeLayer:n.activeLayer,activeColor:"BYLAYER",elements:n.elements,selection:n.selection},transformState:_,setTransformState:Z}),g.jsx(np,{...n,canvasRef:ee,toolManager:ce,view:s,setView:r,dragState:N,previewEl:T,mode:h,dragStart:x,currentMouse:b,selectionBox:D,fencePolygon:X,trimPath:pe,transformState:_})]})},G2=({activeTool:n,setTool:s,onClearAll:r,onImportImage:i})=>{const o=[{id:he.SELECT,icon:g.jsx(ev,{size:20}),label:"Select"},{id:he.TRIM,icon:g.jsx($h,{size:20}),label:"Smart Trim"},{id:he.MEASURE,icon:g.jsx(Fh,{size:20}),label:"Measure"},{id:he.TRANSFORM,icon:g.jsx(lv,{size:20}),label:"Transform"},{id:he.LINE,icon:g.jsx(Jh,{size:20,className:"rotate-45"}),label:"Line"},{id:he.CIRCLE,icon:g.jsx(Uu,{size:20}),label:"Circle"},{id:he.RECTANGLE,icon:g.jsx(Bu,{size:20}),label:"Rect"},{id:he.POLYGON,icon:g.jsx(Hu,{size:20}),label:"Polygon"},{id:he.TEXT,icon:g.jsx(am,{size:20}),label:"Text"},{id:he.PAN,icon:g.jsx(_p,{size:20}),label:"Pan"}];return g.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-gray-800 rounded-lg shadow-xl border border-gray-700 p-1 flex gap-1 z-50",children:[o.map(u=>g.jsx("button",{onClick:()=>s(u.id),className:`p-3 rounded-md transition-all ${n===u.id?"bg-blue-600 text-white shadow-sm":"text-gray-400 hover:bg-gray-700 hover:text-gray-200"}`,title:u.label,children:u.icon},u.id)),g.jsx("button",{onClick:u=>{u.stopPropagation(),i&&i()},className:"p-3 rounded-md transition-all text-gray-400 hover:bg-gray-700 hover:text-gray-200",title:"Import Image",children:g.jsx(kp,{size:20})}),g.jsx("button",{onClick:u=>{u.stopPropagation(),r&&r()},className:"p-3 rounded-md transition-all text-red-400 hover:bg-red-700/20 hover:text-red-200",title:"Clear All Geometry",children:g.jsx(nm,{size:18})})]})},P2=({selectedElement:n,selection:s,layers:r,onUpdateElement:i,isMultiple:o})=>{const u=f=>{o?s.forEach(y=>i(y,f)):i(n.id,f)};return g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"General"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Type"}),g.jsx("input",{disabled:!0,value:o?"Multiple Objects":n.type,className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-gray-300 text-sm"})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Layer"}),g.jsx("select",{value:n.layer||"0",onChange:f=>u({layer:f.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-sm focus:border-blue-500 outline-none",children:r.map(f=>g.jsx("option",{value:f.name,children:f.name},f.name))})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Color"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"color",value:n.color==="BYLAYER"?"#ffffff":n.color,onChange:f=>u({color:f.target.value}),className:"w-full h-8 bg-gray-800 border border-gray-700 rounded cursor-pointer",disabled:n.color==="BYLAYER"}),n.color==="BYLAYER"&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-500 bg-gray-800/80 pointer-events-none",children:"ByLayer"})]}),g.jsx("button",{onClick:()=>u({color:n.color==="BYLAYER"?"#ffffff":"BYLAYER"}),className:"px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 hover:bg-gray-700",title:"Toggle ByLayer",children:g.jsx(cv,{size:14})})]})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Line Style"}),g.jsxs("select",{value:n.lineStyle||"CONTINUOUS",onChange:f=>u({lineStyle:f.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-sm outline-none",children:[g.jsx("option",{value:"CONTINUOUS",children:"Continuous"}),g.jsx("option",{value:"DASHED",children:"Dashed"}),g.jsx("option",{value:"DASHDOT",children:"Dash-Dot"})]})]})]})]})},Ch=n=>n*180/Math.PI,Rr=n=>n*Math.PI/180,V2=({selectedElement:n,onUpdateElement:s})=>{const r="w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-sm";return g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Geometry"}),n.type==="LWPOLYLINE"&&g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("button",{onClick:()=>s(n.id,{closed:!n.closed}),className:`flex items-center gap-2 px-2 py-1 rounded w-full border ${n.closed?"bg-blue-600/20 border-blue-500 text-blue-200":"bg-gray-800 border-gray-700 text-gray-400"}`,children:[g.jsx(em,{size:14}),n.closed?"Closed Contour":"Open Contour"]})}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Vertices: ",n.vertices.length]})]}),n.type==="LINE"&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-blue-400 block mb-1",children:"Start X"}),g.jsx(Ae,{value:n.start.x,onCommit:i=>s(n.id,{start:{...n.start,x:i}}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-blue-400 block mb-1",children:"Start Y"}),g.jsx(Ae,{value:n.start.y,onCommit:i=>s(n.id,{start:{...n.start,y:i}}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-blue-400 block mb-1",children:"End X"}),g.jsx(Ae,{value:n.end.x,onCommit:i=>s(n.id,{end:{...n.end,x:i}}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-blue-400 block mb-1",children:"End Y"}),g.jsx(Ae,{value:n.end.y,onCommit:i=>s(n.id,{end:{...n.end,y:i}}),className:r})]})]}),g.jsxs("div",{className:"pt-2 border-t border-gray-800 grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Length"}),g.jsx("div",{className:"text-sm font-mono text-gray-300",children:$y(n.start,n.end)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Angle"}),g.jsxs("div",{className:"text-sm font-mono text-gray-300",children:[$s(n.start,n.end),""]})]})]})]}),(n.type==="CIRCLE"||n.type==="ARC")&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-green-400 block mb-1",children:"Center X"}),g.jsx(Ae,{value:n.center.x,onCommit:i=>s(n.id,{center:{...n.center,x:i}}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-green-400 block mb-1",children:"Center Y"}),g.jsx(Ae,{value:n.center.y,onCommit:i=>s(n.id,{center:{...n.center,y:i}}),className:r})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-green-400 block mb-1",children:"Radius"}),g.jsx(Ae,{value:n.radius,onCommit:i=>s(n.id,{radius:Math.abs(i)}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-green-400 block mb-1",children:"Diameter"}),g.jsx(Ae,{value:n.radius*2,onCommit:i=>s(n.id,{radius:Math.abs(i)/2}),className:r})]})]}),g.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-800 mt-2",children:[g.jsx("input",{type:"checkbox",id:"isArc",checked:n.type==="ARC",onChange:i=>{i.target.checked?s(n.id,{type:"ARC",startAngle:0,endAngle:Math.PI/2}):s(n.id,{type:"CIRCLE"})},className:"w-4 h-4 rounded bg-gray-700 border-gray-600 text-blue-600 focus:ring-0 cursor-pointer"}),g.jsx("label",{htmlFor:"isArc",className:"text-xs text-gray-300 select-none cursor-pointer",children:"Arc Mode / Partial"})]}),n.type==="ARC"&&(()=>{const i=n,o=Ch(i.startAngle);let f=Ch(i.endAngle)-o;f<0&&(f+=360),Math.abs(f)<1e-5&&(f=360);const y=i.radius*Rr(f),h=v=>{const b=Rr(v),M=Rr(f);s(i.id,{startAngle:b,endAngle:b+M})},m=v=>{const b=Rr(v);s(i.id,{endAngle:i.startAngle+b})},x=v=>{if(i.radius===0)return;const b=v/i.radius;s(i.id,{endAngle:i.startAngle+b})};return g.jsxs("div",{className:"space-y-3 pl-2 border-l-2 border-gray-700 animate-in fade-in duration-200",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-blue-300 block mb-1",children:"Start Angle ()"}),g.jsx(Ae,{value:o,onCommit:h,className:r})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-blue-300 block mb-1",children:"Sweep ()"}),g.jsx(Ae,{value:f,onCommit:m,className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-blue-300 block mb-1",children:"Arc Length"}),g.jsx(Ae,{value:y,onCommit:x,className:r})]})]})]})})()]}),n.type==="TEXT"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-purple-400 block mb-1",children:"Content"}),g.jsx("textarea",{value:n.text,onChange:i=>s(n.id,{text:i.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-sm h-20"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-purple-400 block mb-1",children:"Height"}),g.jsx(Ae,{value:n.height,onCommit:i=>s(n.id,{height:Math.abs(i)}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-purple-400 block mb-1",children:"Rotation ()"}),g.jsx(Ae,{value:n.rotation,onCommit:i=>s(n.id,{rotation:i}),className:r})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-purple-400 block mb-1",children:"Font Family"}),g.jsxs("select",{value:n.fontFamily||"monospace",onChange:i=>s(n.id,{fontFamily:i.target.value}),className:r,children:[g.jsx("option",{value:"monospace",children:"Monospace"}),g.jsx("option",{value:"sans-serif",children:"Sans Serif"}),g.jsx("option",{value:"serif",children:"Serif"}),g.jsx("option",{value:"Arial",children:"Arial"}),g.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),g.jsx("option",{value:"Courier New",children:"Courier New"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-purple-400 block mb-1",children:"Font Weight"}),g.jsxs("select",{value:n.fontWeight||"normal",onChange:i=>s(n.id,{fontWeight:i.target.value}),className:r,children:[g.jsx("option",{value:"normal",children:"Normal"}),g.jsx("option",{value:"bold",children:"Bold"}),g.jsx("option",{value:"lighter",children:"Light"})]})]})]}),n.type==="DIMENSION"&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-orange-400 block mb-1",children:"Start X"}),g.jsx(Ae,{value:n.start.x,onCommit:i=>s(n.id,{start:{...n.start,x:i}}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-orange-400 block mb-1",children:"Start Y"}),g.jsx(Ae,{value:n.start.y,onCommit:i=>s(n.id,{start:{...n.start,y:i}}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-orange-400 block mb-1",children:"End X"}),g.jsx(Ae,{value:n.end.x,onCommit:i=>s(n.id,{end:{...n.end,x:i}}),className:r})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-orange-400 block mb-1",children:"End Y"}),g.jsx(Ae,{value:n.end.y,onCommit:i=>s(n.id,{end:{...n.end,y:i}}),className:r})]})]}),g.jsxs("div",{className:"pt-2 border-t border-gray-800 grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Length"}),g.jsx("div",{className:"text-sm font-mono text-gray-300",children:$y(n.start,n.end)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Angle"}),g.jsxs("div",{className:"text-sm font-mono text-gray-300",children:[$s(n.start,n.end),""]})]})]}),g.jsxs("div",{className:"pt-2 border-t border-gray-800",children:[g.jsx("label",{className:"text-xs text-orange-400 block mb-1",children:"Text"}),g.jsx("input",{type:"text",value:n.text,onChange:i=>s(n.id,{text:i.target.value}),className:r})]})]})]})},Q2=({layers:n,onUpdateLayer:s,onAddLayer:r,onRemoveLayer:i})=>{const[o,u]=O.useState(""),f=()=>{o&&!n.find(y=>y.name===o)&&(r(o),u(""))};return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"New Layer Name",value:o,onChange:y=>u(y.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded px-2 py-1 text-white text-sm outline-none focus:border-blue-500",onKeyDown:y=>y.key==="Enter"&&f()}),g.jsx("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-500 text-white p-1.5 rounded",children:g.jsx(fv,{size:16})})]}),g.jsx("div",{className:"space-y-1",children:n.map(y=>g.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 p-2 rounded border border-gray-800 hover:border-gray-700",children:[g.jsx("input",{type:"color",value:y.color,onChange:h=>s(y.name,{color:h.target.value}),className:"w-4 h-4 rounded cursor-pointer bg-transparent border-none p-0"}),g.jsx("span",{className:"flex-1 text-sm text-gray-300 truncate",children:y.name}),g.jsx("button",{onClick:()=>s(y.name,{visible:!y.visible}),className:`p-1 rounded ${y.visible?"text-gray-400 hover:text-white":"text-gray-600"}`,children:y.visible?g.jsx(Lp,{size:14}):g.jsx(Dp,{size:14})}),g.jsx("button",{onClick:()=>s(y.name,{locked:!y.locked}),className:`p-1 rounded ${y.locked?"text-yellow-500":"text-gray-400 hover:text-white"}`,children:y.locked?g.jsx(Kh,{size:14}):g.jsx(Zh,{size:14})}),y.name!=="0"&&g.jsx("button",{onClick:()=>i(y.name),className:"p-1 text-red-900 hover:text-red-500",children:g.jsx(nm,{size:14})})]},y.name))})]})},Z2=({onArrayLinear:n,onArrayPolar:s})=>{const[r,i]=O.useState("linear"),[o,u]=O.useState({rows:2,cols:2,dx:10,dy:10}),[f,y]=O.useState({count:6,angle:360});return g.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-700",children:[g.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Array Tools"}),g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsx("button",{onClick:()=>i("linear"),className:`flex-1 py-1 text-xs rounded border ${r==="linear"?"bg-blue-600 border-blue-500 text-white":"border-gray-700 text-gray-400"}`,children:"Linear"}),g.jsx("button",{onClick:()=>i("polar"),className:`flex-1 py-1 text-xs rounded border ${r==="polar"?"bg-blue-600 border-blue-500 text-white":"border-gray-700 text-gray-400"}`,children:"Polar"})]}),r==="linear"?g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400",children:"Rows"}),g.jsx(Ae,{value:o.rows,onCommit:h=>u({...o,rows:Math.floor(h)}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white",displayPrecision:0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400",children:"Cols"}),g.jsx(Ae,{value:o.cols,onCommit:h=>u({...o,cols:Math.floor(h)}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white",displayPrecision:0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400",children:"DX"}),g.jsx(Ae,{value:o.dx,onCommit:h=>u({...o,dx:h}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400",children:"DY"}),g.jsx(Ae,{value:o.dy,onCommit:h=>u({...o,dy:h}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white"})]})]}),g.jsxs("button",{onClick:()=>n(o.rows,o.cols,o.dx,o.dy),className:"w-full flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 text-white py-1.5 rounded text-xs border border-gray-600",children:[g.jsx(Qh,{size:14})," Create Linear Array"]})]}):g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400",children:"Count"}),g.jsx(Ae,{value:f.count,onCommit:h=>y({...f,count:Math.floor(h)}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white",displayPrecision:0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-400",children:"Angle"}),g.jsx(Ae,{value:f.angle,onCommit:h=>y({...f,angle:h}),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-white"})]})]}),g.jsxs("button",{onClick:()=>s(f.count,f.angle),className:"w-full flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 text-white py-1.5 rounded text-xs border border-gray-600",children:[g.jsx(pv,{size:14})," Create Polar Array"]})]})]})},Rh=(n,s)=>{if(!n.polygonCenter||!n.polygonSides)return n;const r=n.polygonSides,i=s;if(Math.abs(Math.sin(Math.PI/r))<1e-9)return n;const o=i/(2*Math.sin(Math.PI/r)),u=n.rotation||0,f=n.polygonCenter.x,y=n.polygonCenter.y,h={x:f+o*Math.cos(u),y:y+o*Math.sin(u)},m=Du(n.polygonCenter,h,r,!0);return{...n,vertices:m.map(x=>({x:x.x,y:x.y})),sideLength:s,isRegular:!0}},K2=({element:n,onUpdateElement:s})=>{const r=n.polygonSides;if(!r)return null;const i=n.isRegular,o=n.sideLength||0,u=y=>{if(y>0&&i){const h=Rh(n,y);s(n.id,{vertices:h.vertices,sideLength:y})}},f=()=>{if(i)s(n.id,{isRegular:!1});else{const y=Rh(n,o||10);s(n.id,{vertices:y.vertices,sideLength:y.sideLength,isRegular:!0})}};return g.jsxs("div",{className:"bg-gray-800 rounded p-3 text-xs space-y-3 border border-gray-700",children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 pb-2",children:[g.jsxs("div",{className:"flex items-center gap-2 font-bold text-gray-300",children:[g.jsx(Hu,{size:14,className:"text-blue-400"}),g.jsx("span",{children:"Regular Polygon"})]}),g.jsx("div",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${i?"bg-blue-900 text-blue-200":"bg-yellow-900 text-yellow-200"}`,children:i?"Regular":"Freeform"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[g.jsx("label",{className:"text-gray-400",children:"Sides"}),g.jsx("div",{className:"text-gray-200 font-mono",children:r}),g.jsx("label",{className:"text-gray-400",children:"Side Length"}),g.jsx(Ae,{value:o,onCommit:u,min:.001,displayPrecision:3,disabled:!i,className:"w-full bg-gray-900 border border-gray-600 rounded px-2 py-1 text-white"})]}),g.jsxs("button",{onClick:f,className:"flex items-center justify-center gap-2 w-full py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-gray-300 transition-colors",title:i?"Unlock to allow freeform editing":"Re-lock to force regular shape",children:[i?g.jsx(Zh,{size:14}):g.jsx(Kh,{size:14}),g.jsx("span",{children:i?"Unlock Shape":"Re-Lock Regular"})]})]})},W2=({selection:n,elements:s,layers:r,onUpdateElement:i,onUpdateLayer:o,onAddLayer:u,onRemoveLayer:f,onArrayLinear:y,onArrayPolar:h,onExplode:m,onJoin:x,onCreateBlock:v,isOpen:b,onClose:M})=>{const[T,E]=O.useState("props"),N=n.length>0?s.find(z=>z.id===n[0]):null,R=n.length>1;return g.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-gray-900/95 backdrop-blur-md border-l border-gray-700 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${b?"translate-x-0":"translate-x-full"} flex flex-col`,children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700 shrink-0",children:[g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("button",{onClick:()=>E("props"),className:`text-sm font-bold flex items-center gap-2 pb-1 border-b-2 transition-colors ${T==="props"?"border-blue-500 text-white":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[g.jsx(Ov,{size:16})," Properties"]}),g.jsxs("button",{onClick:()=>E("layers"),className:`text-sm font-bold flex items-center gap-2 pb-1 border-b-2 transition-colors ${T==="layers"?"border-blue-500 text-white":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[g.jsx(Ip,{size:16})," Layers"]})]}),g.jsx("button",{onClick:M,className:"text-gray-400 hover:text-white transition-colors",children:g.jsx(ql,{size:20})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:[T==="props"&&g.jsx(g.Fragment,{children:!N&&!R?g.jsxs("div",{className:"text-center text-gray-500 mt-10",children:[g.jsx("p",{children:"No element selected"}),g.jsx("p",{className:"text-sm mt-2",children:"Select an object on the canvas to edit its properties."})]}):g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-wrap gap-2",children:[((N==null?void 0:N.type)==="LWPOLYLINE"||(N==null?void 0:N.type)==="INSERT")&&g.jsxs("button",{onClick:()=>m(n),className:"flex items-center gap-1 bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-xs text-white",children:[g.jsx(_v,{size:14})," Explode"]}),R&&g.jsxs("button",{onClick:()=>x(n),className:"flex items-center gap-1 bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-xs text-white",children:[g.jsx(Jp,{size:14})," Join"]}),R&&g.jsxs("button",{onClick:()=>v(n),className:"flex items-center gap-1 bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded text-xs text-white",children:[g.jsx(fp,{size:14})," Create Block"]})]}),N&&g.jsx(P2,{selectedElement:N,selection:n,layers:r,onUpdateElement:i,isMultiple:R}),N&&!R&&N.type==="LWPOLYLINE"&&N.polygonSides&&g.jsx(K2,{element:N,onUpdateElement:i}),N&&!R&&g.jsx(V2,{selectedElement:N,onUpdateElement:i}),g.jsx(Z2,{onArrayLinear:y,onArrayPolar:h})]})}),T==="layers"&&g.jsx(Q2,{layers:r,onAddLayer:u,onRemoveLayer:f,onUpdateLayer:o})]})]})},J2=({cursor:n,zoom:s,angleSnap:r,setAngleSnap:i,gridSnap:o,setGridSnap:u,showRulers:f,setShowRulers:y,onRebuild:h})=>{const m=[0,15,30,45,90];return g.jsxs("div",{className:"fixed bottom-0 left-0 w-full h-8 bg-gray-900 border-t border-gray-800 flex items-center justify-between px-4 text-xs font-mono text-gray-400 z-30 select-none",children:[g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(nv,{size:10,className:"text-blue-500"}),g.jsxs("span",{children:["X: ",g.jsx("span",{className:"text-gray-200",children:n.x.toFixed(2)})]}),g.jsxs("span",{children:["Y: ",g.jsx("span",{className:"text-gray-200",children:n.y.toFixed(2)})]})]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{onClick:h,className:"flex items-center gap-1 px-2 py-0.5 rounded transition-colors hover:bg-gray-700 text-gray-500 hover:text-white",title:"Rebuild Graphics (Clear Artifacts)",children:[g.jsx(gv,{size:10}),g.jsx("span",{className:"hidden sm:inline",children:"Rebuild"})]}),g.jsx("div",{className:"w-px h-4 bg-gray-700 mx-1"}),g.jsxs("button",{onClick:()=>u(!o),className:`flex items-center gap-1 px-2 py-0.5 rounded transition-colors ${o?"bg-blue-600 text-white":"hover:bg-gray-700 text-gray-500"}`,title:"Snap to Grid",children:[g.jsx(Qh,{size:10}),g.jsx("span",{className:"hidden sm:inline",children:"Grid"})]}),g.jsxs("button",{onClick:()=>y(!f),className:`flex items-center gap-1 px-2 py-0.5 rounded transition-colors ${f?"bg-blue-600 text-white":"hover:bg-gray-700 text-gray-500"}`,title:"Show Rulers",children:[g.jsx(Fh,{size:10}),g.jsx("span",{className:"hidden sm:inline",children:"Rulers"})]}),g.jsx("div",{className:"w-px h-4 bg-gray-700 mx-1"}),g.jsx(Vp,{size:10,className:"text-yellow-500"}),g.jsx("span",{className:"hidden sm:inline",children:"Angle:"}),m.map(x=>g.jsx("button",{onClick:()=>i(x),className:`px-2 py-0.5 rounded transition-colors ${r===x?"bg-blue-600 text-white":"hover:bg-gray-700 text-gray-500"}`,children:x===0?"Off":`${x}`},x))]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Av,{size:10,className:"text-green-500"}),g.jsxs("span",{children:["Zoom: ",g.jsxs("span",{className:"text-gray-200",children:[(s*10).toFixed(0),"%"]})]})]})]})},Dr=({id:n,label:s,value:r,screenPos:i,isEditing:o,onStartEdit:u,onCommitEdit:f,onCancelEdit:y,onSolidify:h})=>{const[m,x]=O.useState(r.toFixed(2));return g.jsxs("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 pointer-events-auto flex items-center gap-1 group",style:{left:i.x,top:i.y},children:[o?g.jsx("input",{autoFocus:!0,type:"text",value:m,onChange:v=>x(v.target.value),onBlur:()=>f(m),onKeyDown:v=>{v.key==="Enter"&&f(m),v.key==="Escape"&&y()},className:"w-20 bg-gray-900 text-white border border-blue-500 rounded px-1 text-xs shadow-lg"}):g.jsxs("div",{onClick:()=>{x(r.toFixed(2)),u()},className:"bg-gray-800/80 hover:bg-blue-600 text-white text-xs px-2 py-1 rounded cursor-pointer backdrop-blur-sm border border-gray-600 shadow-sm transition-colors",children:[s,": ",r.toFixed(2)]}),!o&&g.jsx("button",{onClick:v=>{v.stopPropagation(),h()},className:"p-1 bg-gray-700 hover:bg-green-600 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Solidify Dimension",children:g.jsx(Sv,{size:10})})]})},F2=({selection:n,elements:s,view:r,onUpdateElement:i,onAddElement:o,onEnsureDimensionsLayer:u})=>{const[f,y]=O.useState(null),m=(s||[]).filter(b=>n.includes(b.id)),x=(b,M,T)=>{const E=Iu(M);if(isNaN(E)){y(null);return}if(b.type==="LINE"&&T==="length"){const N=b,R=te(N.start,N.end);if(R===0)return;const z=E/R,C=N.end.x-N.start.x,H=N.end.y-N.start.y;i(b.id,{end:{x:N.start.x+C*z,y:N.start.y+H*z}})}else if(b.type==="CIRCLE"&&T==="radius")i(b.id,{radius:E});else if(b.type==="LWPOLYLINE"){const N=b;if(N.vertices.length===4&&N.closed){const R=N.vertices[0],z=N.vertices[1],C=N.vertices[2],H=te(R,z),P=te(z,C),X=[...N.vertices];if(T==="width"){const Q=E/H,ie={x:z.x-R.x,y:z.y-R.y},F={x:ie.x*Q,y:ie.y*Q},pe={x:R.x+F.x,y:R.y+F.y},ve={x:pe.x-z.x,y:pe.y-z.y};X[1]=pe,X[2]={x:C.x+ve.x,y:C.y+ve.y}}else{const Q=E/P,ie={x:C.x-z.x,y:C.y-z.y},F={x:ie.x*Q,y:ie.y*Q},pe={x:z.x+F.x,y:z.y+F.y},ve={x:pe.x-C.x,y:pe.y-C.y};X[2]=pe,X[3]={x:N.vertices[3].x+ve.x,y:N.vertices[3].y+ve.y}}i(b.id,{vertices:X})}}y(null)},v=(b,M,T)=>{u==null||u(),o({id:en(),type:"DIMENSION",layer:"Dimensions",color:"#fbbf24",start:b,end:M,text:T.toFixed(2),dimType:"ALIGNED"})};return g.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-20",children:m.map(b=>{if(b.type==="LINE"){const M=b,T=te(M.start,M.end),E=mn(M.start,M.end),N=xe(E,r);return N.y-=20,g.jsx(Dr,{id:`len-${b.id}`,label:"L",value:T,screenPos:N,isEditing:f===`len-${b.id}`,onStartEdit:()=>y(`len-${b.id}`),onCancelEdit:()=>y(null),onCommitEdit:R=>x(b,R,"length"),onSolidify:()=>v(M.start,M.end,T)},`len-${b.id}`)}if(b.type==="CIRCLE"){const M=b,T=xe({x:M.center.x+M.radius,y:M.center.y},r);return T.x+=20,g.jsx(Dr,{id:`rad-${b.id}`,label:"R",value:M.radius,screenPos:T,isEditing:f===`rad-${b.id}`,onStartEdit:()=>y(`rad-${b.id}`),onCancelEdit:()=>y(null),onCommitEdit:E=>x(b,E,"radius"),onSolidify:()=>v(M.center,{x:M.center.x+M.radius,y:M.center.y},M.radius)},`rad-${b.id}`)}if(b.type==="LWPOLYLINE"){const M=b;if(M.vertices.length===4&&M.closed){const T=M.vertices[0],E=M.vertices[1],N=M.vertices[2],R=te(T,E),z=te(E,N),C=mn(T,E),H=mn(E,N),P=xe(C,r);P.y-=15;const X=xe(H,r);return X.x+=20,g.jsxs(Oh.Fragment,{children:[g.jsx(Dr,{id:`w-${b.id}`,label:"W",value:R,screenPos:P,isEditing:f===`w-${b.id}`,onStartEdit:()=>y(`w-${b.id}`),onCancelEdit:()=>y(null),onCommitEdit:Q=>x(b,Q,"width"),onSolidify:()=>v(T,E,R)}),g.jsx(Dr,{id:`h-${b.id}`,label:"H",value:z,screenPos:X,isEditing:f===`h-${b.id}`,onStartEdit:()=>y(`h-${b.id}`),onCancelEdit:()=>y(null),onCommitEdit:Q=>x(b,Q,"height"),onSolidify:()=>v(E,N,z)})]},`rect-${b.id}`)}}return null})})},$2=({view:n,visible:s})=>{const r=O.useRef(null),i=20;return O.useEffect(()=>{if(!s||!r.current)return;const o=r.current,u=o.getContext("2d");if(!u)return;const f=window.innerWidth,y=window.innerHeight;(o.width!==f||o.height!==y)&&(o.width=f,o.height=y),u.clearRect(0,0,f,y),u.fillStyle="#1f2937",u.fillRect(0,0,f,i),u.fillRect(0,0,i,y),u.strokeStyle="#9ca3af",u.fillStyle="#d1d5db",u.lineWidth=1,u.font="9px monospace",u.textAlign="center",u.textBaseline="top";const h=Lu(n.zoom),m=h*n.zoom,x=qe({x:0,y:0},n),v=x.x,b=Math.floor(v/h)*h;for(let N=b;;N+=h){const R=N*n.zoom+n.pan.x;if(R>f)break;R<i||(u.beginPath(),u.moveTo(R,12),u.lineTo(R,20),u.stroke(),(m>40||N%(h*2)===0)&&u.fillText(Math.round(N).toString(),R,2))}u.textAlign="left",u.textBaseline="middle";const M=x.y,T=qe({x:0,y},n),E=Math.floor(T.y/h)*h;for(let N=E;N<=M+h;N+=h){const R=n.pan.y-N*n.zoom;R<i||R>y||(u.beginPath(),u.moveTo(12,R),u.lineTo(20,R),u.stroke(),(m>40||N%(h*2)===0)&&(u.save(),u.translate(2,R),u.rotate(-Math.PI/2),u.textAlign="center",u.fillText(Math.round(N).toString(),0,0),u.restore()))}u.fillStyle="#111827",u.fillRect(0,0,i,i)},[n,s]),s?g.jsx("canvas",{ref:r,className:"absolute top-0 left-0 pointer-events-none z-10"}):null},eS=({isOpen:n,onClose:s,onImport:r,fileName:i})=>{const[o,u]=O.useState({flattenBlocks:!0,vectorizeText:!0,mergeTolerance:.01,removeDuplicates:!0,normalizeUnits:!1});return n?g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-800 bg-gray-800/50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-white font-bold",children:[g.jsx(Rv,{size:20,className:"text-blue-500"}),"DXF Import Settings"]}),g.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:g.jsx(ql,{size:20})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"text-sm text-gray-400",children:["Importing ",g.jsx("span",{className:"text-blue-400 font-mono",children:i})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("input",{type:"checkbox",checked:o.flattenBlocks,onChange:f=>u({...o,flattenBlocks:f.target.checked}),className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-600 bg-gray-800 transition-all checked:border-blue-500 checked:bg-blue-600 focus:outline-none"}),g.jsx(Ws,{size:14,className:"pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-200 text-sm font-medium group-hover:text-white",children:"Explode Blocks"}),g.jsx("div",{className:"text-gray-500 text-xs mt-0.5",children:"Recursively flattens all nested blocks into simple entities."})]})]}),g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("input",{type:"checkbox",checked:o.vectorizeText,onChange:f=>u({...o,vectorizeText:f.target.checked}),className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-600 bg-gray-800 transition-all checked:border-blue-500 checked:bg-blue-600 focus:outline-none"}),g.jsx(Ws,{size:14,className:"pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-200 text-sm font-medium group-hover:text-white",children:"Vectorize Text"}),g.jsx("div",{className:"text-gray-500 text-xs mt-0.5",children:"Converts text objects into polyline paths for engraving."})]})]}),g.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[g.jsxs("div",{className:"relative flex items-center",children:[g.jsx("input",{type:"checkbox",checked:o.removeDuplicates,onChange:f=>u({...o,removeDuplicates:f.target.checked}),className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-600 bg-gray-800 transition-all checked:border-blue-500 checked:bg-blue-600 focus:outline-none"}),g.jsx(Ws,{size:14,className:"pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-200 text-sm font-medium group-hover:text-white",children:"Remove Duplicates"}),g.jsx("div",{className:"text-gray-500 text-xs mt-0.5",children:"Cleans up stacked lines to prevent double-cutting."})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-200 text-sm font-medium mb-2",children:"Path Merge Tolerance"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",step:"0.01",value:o.mergeTolerance,onChange:f=>u({...o,mergeTolerance:parseFloat(f.target.value)}),className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-1.5 text-white text-sm w-24 focus:border-blue-500 outline-none"}),g.jsx("span",{className:"text-gray-500 text-xs self-center",children:"units (0 = Disabled)"})]}),g.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"Automatically connects lines within this distance."})]})]})]}),g.jsxs("div",{className:"p-4 border-t border-gray-800 bg-gray-800/30 flex justify-end gap-3",children:[g.jsx("button",{onClick:s,className:"px-4 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-gray-800 transition-colors",children:"Cancel"}),g.jsx("button",{onClick:()=>r(o),className:"px-4 py-2 rounded-lg text-sm font-bold bg-blue-600 hover:bg-blue-500 text-white transition-colors shadow-lg shadow-blue-900/20",children:"Import DXF"})]})]})}):null};function tS(n){const[s,r]=O.useState(()=>({history:[typeof n=="function"?n():n],index:0})),{history:i,index:o}=s,u=i[o],f=O.useCallback(m=>{r(x=>{const v=x.history[x.index],b=typeof m=="function"?m(v):m;if(v===b)return x;const M=x.history.slice(0,x.index+1);return M.push(b),{history:M,index:M.length-1}})},[]),y=O.useCallback(()=>{r(m=>({...m,index:Math.max(0,m.index-1)}))},[]),h=O.useCallback(()=>{r(m=>({...m,index:Math.min(m.history.length-1,m.index+1)}))},[]);return{state:u,set:f,undo:y,redo:h,canUndo:o>0,canRedo:o<i.length-1,history:i}}class Gs{static explode(s,r,i){const o=new Set(r),u=[];return s.forEach(f=>{if(o.has(f.id)){if(f.type==="LWPOLYLINE"){const y=Gx(f);u.push(...y)}else if(f.type==="INSERT"){const y=this.explodeInsert(f,i);u.push(...y)}}else u.push(f)}),u}static explodeInsert(s,r){const i=r[s.blockName];if(!i)return[];const o=ku(s,i.basePoint),u=[];return i.entities.forEach(f=>{var h,m,x,v;const y=this.cloneElement(f);if(y.id=en(),y.layer==="0"&&(y.layer=s.layer,s.color&&s.color!=="BYLAYER"&&(y.color=s.color),s.lineStyle&&(y.lineStyle=s.lineStyle)),y.type==="LINE"){const b={x:y.start.x-i.basePoint.x,y:y.start.y-i.basePoint.y},M={x:y.end.x-i.basePoint.x,y:y.end.y-i.basePoint.y};y.start=ga(b,o),y.end=ga(M,o)}else if(y.type==="CIRCLE"||y.type==="ARC"){const b={x:y.center.x-i.basePoint.x,y:y.center.y-i.basePoint.y};y.center=ga(b,o);const M=(Math.abs(o.m11)+Math.abs(o.m22))/2;if(y.radius*=M,y.type==="ARC"&&s.rotation){const T=s.rotation*(Math.PI/180);y.startAngle+=T,y.endAngle+=T}}else if(y.type==="LWPOLYLINE")y.vertices=y.vertices.map(b=>{const M={x:b.x-i.basePoint.x,y:b.y-i.basePoint.y};return ga(M,o)});else if(y.type==="INSERT"){y.insertionPoint=ga({x:y.insertionPoint.x-i.basePoint.x,y:y.insertionPoint.y-i.basePoint.y},o),y.scale={x:(((h=y.scale)==null?void 0:h.x)||1)*(((m=s.scale)==null?void 0:m.x)||1),y:(((x=y.scale)==null?void 0:x.y)||1)*(((v=s.scale)==null?void 0:v.y)||1)},y.rotation=(y.rotation||0)+(s.rotation||0);const b=this.explodeInsert(y,r);u.push(...b);return}else if(y.type==="TEXT"){const b={x:y.point.x-i.basePoint.x,y:y.point.y-i.basePoint.y};y.point=ga(b,o),y.rotation=(y.rotation||0)+(s.rotation||0);const M=(Math.abs(o.m11)+Math.abs(o.m22))/2;y.height*=M}u.push(y)}),u}static join(s,r){const i=s.filter(f=>r.includes(f.id));if(i.length<2)return s;const o=Px(i);return[...s.filter(f=>!r.includes(f.id)),...o]}static createLinearArray(s,r,i){if(r.length===0)return s;const o=s.filter(x=>r.includes(x.id)),u=[],{rows:f,cols:y,dx:h,dy:m}=i;for(let x=0;x<f;x++)for(let v=0;v<y;v++){if(x===0&&v===0)continue;const b=v*h,M=x*m;o.forEach(T=>{const E=this.cloneElement(T);E.id=en(),E.selected!==void 0&&(E.selected=!1),E.type==="LINE"?(E.start.x+=b,E.start.y+=M,E.end.x+=b,E.end.y+=M):E.type==="CIRCLE"||E.type==="ARC"?(E.center.x+=b,E.center.y+=M):E.type==="LWPOLYLINE"?E.vertices=E.vertices.map(N=>({x:N.x+b,y:N.y+M})):E.type==="INSERT"?(E.insertionPoint.x+=b,E.insertionPoint.y+=M):E.type==="TEXT"&&(E.point.x+=b,E.point.y+=M),u.push(E)})}return[...s,...u]}static createPolarArray(s,r,i){if(r.length===0)return s;const o=s.filter(m=>r.includes(m.id)),u=[],{count:f,angle:y}=i,h=y*(Math.PI/180)/f;for(let m=1;m<f;m++){const x=m*h,v=Math.cos(x),b=Math.sin(x),M=T=>({x:T.x*v-T.y*b,y:T.x*b+T.y*v});o.forEach(T=>{const E=this.cloneElement(T);E.id=en(),E.selected!==void 0&&(E.selected=!1),E.type==="LINE"?(E.start=M(E.start),E.end=M(E.end)):E.type==="CIRCLE"||E.type==="ARC"?E.center=M(E.center):E.type==="LWPOLYLINE"?E.vertices=E.vertices.map(M):E.type==="INSERT"?E.insertionPoint=M(E.insertionPoint):E.type==="TEXT"&&(E.point=M(E.point),E.rotation=(E.rotation||0)+x*180/Math.PI),u.push(E)})}return[...s,...u]}static createBlock(s,r,i,o){if(r.length===0)return{newElements:s,newBlocks:i,blockId:""};const u=s.filter(b=>r.includes(b.id));let f;if(o)f=o;else{let b=1/0,M=1/0,T=-1/0,E=-1/0;u.forEach(N=>{N.type==="LINE"?(b=Math.min(b,N.start.x,N.end.x),T=Math.max(T,N.start.x,N.end.x),M=Math.min(M,N.start.y,N.end.y),E=Math.max(E,N.start.y,N.end.y)):N.type==="CIRCLE"||N.type==="ARC"?(b=Math.min(b,N.center.x-N.radius),T=Math.max(T,N.center.x+N.radius),M=Math.min(M,N.center.y-N.radius),E=Math.max(E,N.center.y+N.radius)):N.type==="LWPOLYLINE"?N.vertices.forEach(R=>{b=Math.min(b,R.x),T=Math.max(T,R.x),M=Math.min(M,R.y),E=Math.max(E,R.y)}):N.type==="INSERT"?(b=Math.min(b,N.insertionPoint.x),T=Math.max(T,N.insertionPoint.x),M=Math.min(M,N.insertionPoint.y),E=Math.max(E,N.insertionPoint.y)):N.type==="TEXT"&&(b=Math.min(b,N.point.x),T=Math.max(T,N.point.x),M=Math.min(M,N.point.y),E=Math.max(E,N.point.y))}),b===1/0?f={x:0,y:0}:f={x:(b+T)/2,y:(M+E)/2}}const y=`Block_${en()}`,h={name:y,entities:u,basePoint:f},m={...i,[y]:h},x={id:en(),type:"INSERT",layer:u[0].layer,blockName:y,insertionPoint:f,scale:{x:1,y:1},rotation:0,color:"BYLAYER"};return{newElements:[...s.filter(b=>!r.includes(b.id)),x],newBlocks:m,blockId:x.id}}static cloneElement(s){return typeof structuredClone<"u"?structuredClone(s):JSON.parse(JSON.stringify(s))}}function nS(){const{state:n,set:s,undo:r,redo:i,canUndo:o,canRedo:u}=tS(()=>{const C=localStorage.getItem("webdxf-elements");return C?JSON.parse(C):[]}),[f,y]=O.useState(()=>{const C=localStorage.getItem("webdxf-blocks");return C?JSON.parse(C):{}}),[h,m]=O.useState([]);O.useEffect(()=>{localStorage.setItem("webdxf-elements",JSON.stringify(n))},[n]),O.useEffect(()=>{localStorage.setItem("webdxf-blocks",JSON.stringify(f))},[f]),O.useEffect(()=>{const C=localStorage.getItem("webdxf-blocks");if(C)try{y(JSON.parse(C))}catch(H){console.error("Failed to parse saved blocks:",H)}},[]);const x=O.useCallback((C,H)=>{s(P=>P.map(X=>X.id===C?{...X,...H}:X))},[s]),v=O.useCallback(C=>{s(H=>[...H,C])},[s]),b=O.useCallback(C=>{s(H=>H.filter(P=>!C.includes(P.id))),m([])},[s]),M=O.useCallback(C=>{s(H=>Gs.explode(H,C,f)),m([])},[s,f]),T=O.useCallback(C=>{s(H=>Gs.join(H,C)),m([])},[s]),E=O.useCallback(C=>{h.length!==0&&s(H=>Gs.createLinearArray(H,h,C))},[h,s]),N=O.useCallback(C=>{h.length!==0&&s(H=>Gs.createPolarArray(H,h,C))},[h,s]),R=O.useCallback((C,H)=>{if(C.length===0)return;const{newElements:P,newBlocks:X,blockId:Q}=Gs.createBlock(n,C,f,H);s(P),y(X),m([Q])},[n,f,s,y]),z=O.useCallback(()=>{window.confirm("Clear all geometry and blocks? This cannot be undone.")&&(s([]),y({}),m([]))},[s,y]);return{elements:n,setElements:s,blocks:f,setBlocks:y,selection:h,setSelection:m,undo:r,redo:i,canUndo:o,canRedo:u,updateElement:x,addElement:v,deleteElements:b,explode:M,join:T,createLinearArray:E,createPolarArray:N,createBlock:R,clearAll:z}}const Dh=[{name:"0",color:"#ffffff",visible:!0,locked:!1},{name:"Dimensions",color:"#fbbf24",visible:!0,locked:!1}];function aS(){const[n,s]=O.useState(()=>{const h=localStorage.getItem("webdxf-layers");if(h)try{return JSON.parse(h)}catch(m){return console.error("Failed to parse saved layers:",m),Dh}return Dh}),[r,i]=O.useState("0");O.useEffect(()=>{const h=localStorage.getItem("webdxf-activeLayer");h&&n.some(m=>m.name===h)&&i(h)},[]),O.useEffect(()=>{localStorage.setItem("webdxf-layers",JSON.stringify(n))},[n]),O.useEffect(()=>{localStorage.setItem("webdxf-activeLayer",r)},[r]);const o=O.useCallback(h=>{s(m=>m.some(x=>x.name===h)?m:[...m,{name:h,color:"#ffffff",visible:!0,locked:!1}])},[]),u=O.useCallback((h,m)=>{s(x=>x.map(v=>v.name===h?{...v,...m}:v))},[]),f=O.useCallback(h=>{if(h==="0"){alert('Cannot delete Layer "0" (default layer).');return}if(h===r){alert(`Cannot delete the currently active layer "${h}". Switch to another layer first.`);return}s(m=>m.filter(x=>x.name!==h))},[r]),y=O.useCallback(()=>{s(h=>h.some(x=>x.name==="Dimensions")?h:[...h,{name:"Dimensions",color:"#fbbf24",visible:!0,locked:!1}])},[]);return{layers:n,activeLayer:r,setActiveLayer:i,setLayers:s,addLayer:o,updateLayer:u,removeLayer:f,ensureDimensionsLayer:y}}const lS="modulepreload",sS=function(n,s){return new URL(n,s).href},jh={},iS=function(s,r,i){let o=Promise.resolve();if(r&&r.length>0){let f=function(x){return Promise.all(x.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const y=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=f(r.map(x=>{if(x=sS(x,i),x in jh)return;jh[x]=!0;const v=x.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(!!i)for(let E=y.length-1;E>=0;E--){const N=y[E];if(N.href===x&&(!v||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${b}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":lS,v||(T.as="script"),T.crossOrigin="",T.href=x,m&&T.setAttribute("nonce",m),document.head.appendChild(T),v)return new Promise((E,N)=>{T.addEventListener("load",E),T.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(f){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=f,window.dispatchEvent(y),!y.defaultPrevented)throw f}return o.then(f=>{for(const y of f||[])y.status==="rejected"&&u(y.reason);return s().catch(u)})};class rS{constructor(){this.worker=null,this.useWorker=!0,this.useWorker=typeof Worker<"u"}parse(s,r,i){return this.useWorker?this.parseWithWorker(s,r,i):Promise.resolve(this.parseSync(s,r))}parseWithWorker(s,r,i){return new Promise((o,u)=>{try{this.worker=new Worker(new URL(""+new URL("dxfParser.worker-Cl50hX86.js",import.meta.url).href,import.meta.url),{type:"module"}),this.worker.onmessage=f=>{var y;f.data.type==="PROGRESS"&&i?i({stage:f.data.stage,progress:f.data.progress}):f.data.type==="RESULT"&&(f.data.error?u(new Error(f.data.error)):o({elements:f.data.elements,blocks:f.data.blocks,extents:f.data.extents}),(y=this.worker)==null||y.terminate(),this.worker=null)},this.worker.onerror=f=>{var y;u(f),(y=this.worker)==null||y.terminate(),this.worker=null},this.worker.postMessage({type:"PARSE",content:s,options:r,metadata:{}})}catch(f){console.warn("Web Worker not available, falling back to synchronous parsing",f),o(this.parseSync(s,r))}})}parseSync(s,r){const{DxfParser:i}=require("./dxf-parser/parser"),{normalizeGeometry:o}=require("./dxf-parser/normalizer");if(s.startsWith("AutoCAD Binary DXF"))throw new Error("Binary DXF files are not supported. Please save your file as ASCII DXF (e.g., AutoCAD 2013 DXF).");const f=new i().parse(s),y=r?o(f.entities,f.blocks,r,{}):f.entities,h=zh(y);return{elements:y,blocks:f.blocks,extents:h}}terminate(){this.worker&&(this.worker.terminate(),this.worker=null)}}const cS=new rS;class oS{constructor(s,r,i="AC1015"){this.elements=s,this.layers=r,this.version=i,this.content=[],this.handleSeed=100,this.handles=new Map,this.images=[],this.imageDefs=new Map}getHandle(s){if(s&&this.handles.has(s))return this.handles.get(s);const r=this.handleSeed.toString(16).toUpperCase();return this.handleSeed++,s&&this.handles.set(s,r),r}add(s,r){this.content.push(s.toString()),this.content.push(r.toString())}section(s){this.add(0,"SECTION"),this.add(2,s)}endSec(){this.add(0,"ENDSEC")}write(){this.elements.forEach(u=>{u.type==="IMAGE"&&(this.images.push(u),this.getHandle(u.id),this.getHandle(u.id+"_def"))});const s=this.getHandle("root_dict");this.section("HEADER"),this.add(9,"$ACADVER"),this.add(1,this.version),this.add(9,"$HANDSEED"),this.add(5,"FFFF"),this.add(9,"$INSUNITS"),this.add(70,4),this.endSec(),this.section("CLASSES"),this.add(0,"CLASS"),this.add(1,"IMAGE"),this.add(2,"AcDbRasterImage"),this.add(3,'"AutoCAD 2000"'),this.add(90,0),this.add(91,0),this.add(280,0),this.add(281,0),this.add(0,"CLASS"),this.add(1,"IMAGEDEF"),this.add(2,"AcDbRasterImageDef"),this.add(3,'"AutoCAD 2000"'),this.add(90,0),this.add(91,0),this.add(280,0),this.add(281,0),this.endSec(),this.section("TABLES"),this.add(0,"TABLE"),this.add(2,"VPORT"),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTable"),this.add(70,0),this.add(0,"ENDTAB"),this.add(0,"TABLE"),this.add(2,"LTYPE"),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTable"),this.add(70,3),["ByBlock","ByLayer","Continuous"].forEach(u=>{this.add(0,"LTYPE"),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTableRecord"),this.add(100,"AcDbLinetypeTableRecord"),this.add(2,u),this.add(70,0),this.add(3,""),this.add(72,65),this.add(73,0),this.add(40,0)}),this.add(0,"ENDTAB"),this.add(0,"TABLE"),this.add(2,"LAYER"),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTable"),this.add(70,this.layers.length),this.layers.forEach(u=>{this.add(0,"LAYER"),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTableRecord"),this.add(100,"AcDbLayerTableRecord"),this.add(2,u.name),this.add(70,0),this.add(62,7),this.add(6,"Continuous")}),this.add(0,"ENDTAB"),this.add(0,"TABLE"),this.add(2,"STYLE"),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTable"),this.add(70,1);const r=this.getHandle();this.add(0,"STYLE"),this.add(5,r),this.add(330,"0"),this.add(100,"AcDbSymbolTableRecord"),this.add(100,"AcDbTextStyleTableRecord"),this.add(2,"Standard"),this.add(70,0),this.add(40,0),this.add(41,1),this.add(50,0),this.add(71,0),this.add(42,2.5),this.add(3,"arial.ttf"),this.add(1001,"ACAD"),this.add(1e3,"Arial"),this.add(1071,0),this.add(0,"ENDTAB"),["VIEW","UCS","APPID","DIMSTYLE"].forEach(u=>{this.add(0,"TABLE"),this.add(2,u),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTable"),this.add(70,0),u==="APPID"&&(this.add(0,"APPID"),this.add(5,this.getHandle()),this.add(100,"AcDbSymbolTableRecord"),this.add(100,"AcDbRegAppTableRecord"),this.add(2,"ACAD"),this.add(70,0)),this.add(0,"ENDTAB")}),this.add(0,"TABLE"),this.add(2,"BLOCK_RECORD"),this.add(5,this.getHandle()),this.add(330,"0"),this.add(100,"AcDbSymbolTable"),this.add(70,2);const i=this.getHandle("*Model_Space");this.add(0,"BLOCK_RECORD"),this.add(5,i),this.add(330,"0"),this.add(100,"AcDbSymbolTableRecord"),this.add(100,"AcDbBlockTableRecord"),this.add(2,"*Model_Space");const o=this.getHandle("*Paper_Space");if(this.add(0,"BLOCK_RECORD"),this.add(5,o),this.add(330,"0"),this.add(100,"AcDbSymbolTableRecord"),this.add(100,"AcDbBlockTableRecord"),this.add(2,"*Paper_Space"),this.add(0,"ENDTAB"),this.endSec(),this.section("BLOCKS"),this.add(0,"BLOCK"),this.add(5,this.getHandle()),this.add(330,i),this.add(100,"AcDbEntity"),this.add(8,"0"),this.add(100,"AcDbBlockBegin"),this.add(2,"*Model_Space"),this.add(70,0),this.add(10,0),this.add(20,0),this.add(30,0),this.add(3,"*Model_Space"),this.add(1,""),this.add(0,"ENDBLK"),this.add(5,this.getHandle()),this.add(330,i),this.add(100,"AcDbEntity"),this.add(8,"0"),this.add(100,"AcDbBlockEnd"),this.add(0,"BLOCK"),this.add(5,this.getHandle()),this.add(330,o),this.add(100,"AcDbEntity"),this.add(8,"0"),this.add(100,"AcDbBlockBegin"),this.add(2,"*Paper_Space"),this.add(70,0),this.add(10,0),this.add(20,0),this.add(30,0),this.add(3,"*Paper_Space"),this.add(1,""),this.add(0,"ENDBLK"),this.add(5,this.getHandle()),this.add(330,o),this.add(100,"AcDbEntity"),this.add(8,"0"),this.add(100,"AcDbBlockEnd"),this.endSec(),this.section("ENTITIES"),this.elements.forEach(u=>{this.writeEntity(u,i)}),this.endSec(),this.section("OBJECTS"),this.add(0,"DICTIONARY"),this.add(5,s),this.add(330,"0"),this.add(100,"AcDbDictionary"),this.add(280,0),this.add(281,1),this.images.length>0){const u=this.getHandle("ACAD_IMAGE_DICT");this.add(3,"ACAD_IMAGE_DICT"),this.add(360,u)}if(this.images.length>0){const u=this.getHandle("ACAD_IMAGE_DICT");this.add(0,"DICTIONARY"),this.add(5,u),this.add(330,s),this.add(100,"AcDbDictionary"),this.add(280,0),this.add(281,1),this.images.forEach((f,y)=>{const h=this.getHandle(f.id+"_def"),m=f.fileName||`image_${y}.png`;this.add(3,m),this.add(350,h)}),this.images.forEach((f,y)=>{const h=this.getHandle(f.id+"_def"),m=f.fileName||`image_${y}.png`;this.add(0,"IMAGEDEF"),this.add(5,h),this.add(330,u),this.add(100,"AcDbRasterImageDef"),this.add(90,0),this.add(1,m),this.add(10,f.originalWidth||100),this.add(20,f.originalHeight||100),this.add(11,1),this.add(21,1),this.add(280,1),this.add(281,1)})}return this.endSec(),this.add(0,"EOF"),{dxf:this.content.join(`
`),images:this.images.map((u,f)=>({filename:u.fileName||`image_${f}.png`,data:u.src}))}}writeEntity(s,r){var o;const i=s.type;if(["LINE","CIRCLE","ARC","LWPOLYLINE","TEXT","MTEXT","IMAGE"].includes(i))switch(this.add(0,i),this.add(5,this.getHandle(s.id)),this.add(330,r),this.add(100,"AcDbEntity"),this.add(8,s.layer),s.color&&s.color!=="BYLAYER"?this.add(62,256):this.add(62,256),i){case"LINE":this.add(100,"AcDbLine"),this.add(10,s.start.x),this.add(20,s.start.y),this.add(30,0),this.add(11,s.end.x),this.add(21,s.end.y),this.add(31,0);break;case"CIRCLE":this.add(100,"AcDbCircle"),this.add(10,s.center.x),this.add(20,s.center.y),this.add(30,0),this.add(40,s.radius);break;case"ARC":this.add(100,"AcDbCircle"),this.add(10,s.center.x),this.add(20,s.center.y),this.add(30,0),this.add(40,s.radius),this.add(100,"AcDbArc"),this.add(50,s.startAngle*180/Math.PI),this.add(51,s.endAngle*180/Math.PI);break;case"LWPOLYLINE":const u=s;this.add(100,"AcDbPolyline"),this.add(90,u.vertices.length),this.add(70,u.closed?1:0),this.add(43,0),u.vertices.forEach(b=>{this.add(10,b.x),this.add(20,b.y),b.bulge&&this.add(42,b.bulge)});break;case"TEXT":const f=s;this.add(100,"AcDbText"),this.add(10,f.point.x),this.add(20,f.point.y),this.add(30,0),this.add(40,f.height),this.add(1,f.text),this.add(50,f.rotation||0),this.add(100,"AcDbText");break;case"MTEXT":const y=s;if(this.add(100,"AcDbMText"),this.add(10,y.boxCorner.x),this.add(20,y.boxCorner.y),this.add(30,0),this.add(40,((o=y.style)==null?void 0:o.height)||10),this.add(41,y.boxWidth),this.add(1,y.text),this.add(71,1),y.rotation){const b=y.rotation*Math.PI/180;this.add(11,Math.cos(b)),this.add(21,Math.sin(b)),this.add(31,0),this.add(50,y.rotation*Math.PI/180)}break;case"IMAGE":const h=s;this.add(100,"AcDbRasterImage"),this.add(90,0),this.add(10,h.x),this.add(20,h.y),this.add(30,0);const m=(h.rotation||0)*Math.PI/180,x=Math.cos(m),v=Math.sin(m);this.add(11,x*h.width),this.add(21,v*h.width),this.add(31,0),this.add(12,-v*h.height),this.add(22,x*h.height),this.add(32,0),this.add(13,h.originalWidth||100),this.add(23,h.originalHeight||100),this.add(340,this.getHandle(h.id+"_def")),this.add(70,3),this.add(280,0),this.add(281,50),this.add(282,50),this.add(283,0);break}}}function uS(){const[n,s]=O.useState(!1),[r,i]=O.useState(null),o=O.useCallback(async h=>{var x;const m=(x=h.target.files)==null?void 0:x[0];if(m){s(!0);try{const v=await m.text();if(m.name.endsWith(".cadaswbdxf")){try{const b=JSON.parse(v);if(!b.elements||!b.layers)throw new Error("Invalid project file structure");i({content:v,name:m.name})}catch(b){console.error(b),alert("Failed to load project file. It may be corrupted.")}finally{s(!1)}return}i({content:v,name:m.name})}catch(v){alert("Failed to read file"),console.error(v)}finally{s(!1)}}},[]),u=O.useCallback(async(h,m,x,v)=>{if(r){s(!0);try{const b=await cS.parse(r.content,h,v?M=>v(M.stage,M.progress):void 0);if(b.elements.length===0)alert("Import successful, but no supported geometry found.");else if(m(b.elements,b.blocks,b.extents),b.extents&&x){const{center:M,width:T,height:E}=b.extents,N=50,R=window.innerWidth-N*2,z=window.innerHeight-N*2,C=R/(T||1),H=z/(E||1),P=Math.min(C,H,100),X={x:window.innerWidth/2-M.x*P,y:window.innerHeight/2+M.y*P};x({zoom:P,pan:X})}}catch(b){alert(b.message||"Failed to parse DXF"),console.error(b)}finally{s(!1),i(null)}}},[r]),f=O.useCallback((h,m,x,v,b)=>{const M={version:"1.0.0",timestamp:Date.now(),elements:h,layers:m,blocks:x,view:v,settings:b},T=new Blob([JSON.stringify(M)],{type:"application/json"}),E=URL.createObjectURL(T),N=document.createElement("a");N.href=E,N.download=`project_${Date.now()}.cadaswbdxf`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(E)},[]),y=O.useCallback((h,m,x="AC1015")=>{const b=new oS(h,m,x).write();if(b.images.length>0)iS(async()=>{const{default:M}=await import("./jszip.min-Db_qg4Rh.js").then(T=>T.j);return{default:M}},[],import.meta.url).then(({default:M})=>{const T=new M;T.file("drawing.dxf",b.dxf);const E=T.folder("images");b.images.forEach(N=>{const R=N.data.split(",")[1];E==null||E.file(N.filename,R,{base64:!0})}),T.generateAsync({type:"blob"}).then(N=>{const R=URL.createObjectURL(N),z=document.createElement("a");z.href=R,z.download="drawing_with_images.zip",document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(R)})});else{const M=new Blob([b.dxf],{type:"application/dxf"}),T=URL.createObjectURL(M),E=document.createElement("a");E.href=T,E.download="drawing.dxf",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(T)}},[]);return{isLoading:n,pendingFile:r,setPendingFile:i,handleFileSelect:o,handleImportConfirm:u,handleSaveProject:f,handleExport:y}}const dS=[{label:"AutoCAD 2013 DXF (*.dxf)",code:"AC1027"},{label:"AutoCAD 2000 DXF (*.dxf)",code:"AC1015"}],fS=()=>{var oi;const{elements:n,setElements:s,blocks:r,setBlocks:i,selection:o,setSelection:u,undo:f,redo:y,canUndo:h,canRedo:m,updateElement:x,addElement:v,explode:b,join:M,createLinearArray:T,createPolarArray:E,createBlock:N,clearAll:R}=nS(),{layers:z,activeLayer:C,setActiveLayer:H,setLayers:P,addLayer:X,updateLayer:Q,removeLayer:ie,ensureDimensionsLayer:F}=aS(),{isLoading:pe,pendingFile:ve,setPendingFile:oe,handleFileSelect:Ve,handleImportConfirm:Je,handleSaveProject:at,handleExport:_}=uS(),[Z,ee]=O.useState(he.SELECT),[Te,Ce]=O.useState(!1),[D,Y]=O.useState(!1),[K,W]=O.useState(!1),[le,ce]=O.useState({zoom:10,pan:{x:window.innerWidth/2,y:window.innerHeight/2}}),[me,lt]=O.useState({x:0,y:0}),[je,Xn]=O.useState(0),[xn,Ma]=O.useState(!1),[Na,sn]=O.useState(!1),[Xl,Gl]=O.useState(0);O.useEffect(()=>{const J=fe=>{if(fe.target instanceof HTMLInputElement||fe.target instanceof HTMLTextAreaElement)return;const He=fe.key.toLowerCase(),Xe=fe.ctrlKey||fe.metaKey;if(Xe&&He==="z"){fe.preventDefault(),fe.shiftKey?y():f();return}if(Xe&&He==="y"){fe.preventDefault(),y();return}switch(He){case"l":ee(he.LINE);break;case"c":ee(he.CIRCLE);break;case"r":ee(he.RECTANGLE);break;case"p":ee(he.POLYGON);break;case"s":ee(he.SELECT);break;case"t":ee(he.TRIM);break;case"m":ee(he.MEASURE);break;case"g":Ma(xt=>!xt);break;case"escape":ee(he.SELECT),u([]);break;case"delete":case"backspace":o.length>0&&(s(xt=>xt.filter(Lt=>!o.includes(Lt.id))),u([]));break}};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[o,f,y,s,u]);const Gr=O.useCallback(J=>{Je(J,(fe,He,Xe)=>{s(xt=>[...xt,...fe]),i({...r,...He}),u([])},ce,(fe,He)=>{console.log(`${fe}: ${He}%`)})},[Je,s,i,r,u,ce]),si=O.useCallback(()=>{at(n,z,r,le,{angleSnap:je,gridSnap:xn,showRulers:Na}),Y(!1)},[at,n,z,r,le,je,xn,Na]),Pl=O.useCallback((J="AC1015")=>{_(n,z,J),Y(!1),W(!1)},[_,n,z]);O.useEffect(()=>{if(ve!=null&&ve.name.endsWith(".cadaswbdxf"))try{const J=JSON.parse(ve.content);if(!J.elements||!J.layers)throw new Error("Invalid project file structure");s(J.elements),P(J.layers),i(J.blocks||{}),J.view&&ce(J.view),J.settings&&(Xn(J.settings.angleSnap),Ma(J.settings.gridSnap),sn(J.settings.showRulers)),u([]),oe(null)}catch(J){console.error(J),alert("Failed to load project file. It may be corrupted."),oe(null)}},[ve,s,i,u,oe]);const Za=O.useRef(null),Gn=O.useCallback((J,fe)=>{if(!J.type.startsWith("image/"))return;const He=new FileReader;He.onload=Xe=>{var ui;const xt=(ui=Xe.target)==null?void 0:ui.result,Lt=new Image;Lt.onload=()=>{const Ta=fe||qe({x:window.innerWidth/2,y:window.innerHeight/2},le),Aa={id:crypto.randomUUID(),type:"IMAGE",layer:C||"0",x:Ta.x,y:Ta.y,width:Lt.naturalWidth,height:Lt.naturalHeight,rotation:0,src:xt,mimeType:J.type,originalWidth:Lt.naturalWidth,originalHeight:Lt.naturalHeight,fileName:J.name};v(Aa),ee(he.SELECT),u([Aa.id])},Lt.src=xt},He.readAsDataURL(J)},[le,C,v,u,ee]),Pr=O.useCallback(()=>{var J;(J=Za.current)==null||J.click()},[]),Vr=O.useCallback(J=>{const fe=J.target.files;fe&&fe.length>0&&Gn(fe[0]),J.target&&(J.target.value="")},[Gn]);O.useEffect(()=>{const J=fe=>{var Xe;if(fe.target instanceof HTMLInputElement||fe.target instanceof HTMLTextAreaElement)return;const He=(Xe=fe.clipboardData)==null?void 0:Xe.items;if(He){for(let xt=0;xt<He.length;xt++)if(He[xt].type.startsWith("image/")){const Lt=He[xt].getAsFile();Lt&&Gn(Lt,qe(me,le))}}};return window.addEventListener("paste",J),()=>window.removeEventListener("paste",J)},[Gn,me,le]);const mt=O.useCallback((J,fe)=>{x(J,fe)},[x]),Qr=O.useCallback(J=>{v(J)},[v]),ii=O.useCallback(J=>{lt(J)},[]),ri=O.useCallback(()=>{Ce(!0)},[]),Ka=O.useCallback(()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},[]),Zr=O.useCallback(()=>{R(),Y(!1)},[R]),ci=O.useCallback((J,fe,He,Xe)=>{T({rows:J,cols:fe,dx:He,dy:Xe})},[T]),Kr=O.useCallback((J,fe)=>{E({count:J,angle:fe})},[E]);return g.jsxs("div",{className:"w-full h-screen bg-[#121212] overflow-hidden flex flex-col relative text-gray-200",children:[g.jsx(eS,{isOpen:!!ve&&!ve.name.endsWith(".cadaswbdxf"),onClose:()=>oe(null),onImport:Gr,fileName:(ve==null?void 0:ve.name)||""}),g.jsxs("div",{className:"absolute top-4 left-4 z-[60] flex flex-col gap-2",children:[g.jsx("div",{className:"bg-gray-800/90 backdrop-blur-sm p-1 rounded-md border border-gray-700 shadow-sm flex items-center w-fit",children:g.jsx("button",{onClick:()=>Y(!D),className:`p-2 rounded text-gray-300 transition-colors ${D?"bg-gray-700 text-white":"hover:bg-gray-700"}`,children:g.jsx(Kp,{size:20})})}),D&&g.jsxs("div",{className:"mt-1 w-72 bg-gray-900/95 backdrop-blur-md border border-gray-700 rounded-lg shadow-2xl flex flex-col p-2 gap-2 overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col gap-1 pb-2 border-b border-gray-800",children:[g.jsx("span",{className:"text-xs font-bold text-gray-500 px-2 py-1",children:"FILE"}),g.jsxs("label",{className:"flex items-center gap-3 hover:bg-gray-800 text-gray-200 px-3 py-2 rounded-md cursor-pointer transition-colors",children:[g.jsx("span",{className:"text-sm",children:"Open / Import"}),g.jsx("input",{type:"file",accept:".dxf,.cadaswbdxf",onClick:J=>{J.target.value=""},onChange:Ve,className:"hidden"})]}),g.jsx("button",{onClick:si,className:"flex items-center gap-3 hover:bg-gray-800 text-gray-200 px-3 py-2 rounded-md cursor-pointer transition-colors text-left",children:g.jsx("span",{className:"text-sm",children:"Save Project (.cadaswbdxf)"})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("button",{onClick:()=>W(!K),className:`flex items-center gap-3 px-3 py-2 rounded-md transition-colors text-left w-full justify-between ${K?"bg-gray-800 text-white":"hover:bg-gray-800 text-gray-200"}`,children:[g.jsx("div",{className:"flex items-center gap-3",children:g.jsx("span",{className:"text-sm",children:"Export DXF"})}),K?g.jsx(ch,{size:14,className:"text-gray-400"}):g.jsx(gp,{size:14,className:"text-gray-400"})]}),K&&g.jsx("div",{className:"pl-4 pr-1 mt-1 flex flex-col gap-0.5 border-l border-gray-700 ml-4 animate-in slide-in-from-top-2 duration-150",children:dS.map(J=>g.jsx("button",{onClick:()=>Pl(J.code),className:"text-left px-3 py-1.5 text-xs text-gray-400 hover:text-white hover:bg-gray-800 rounded-md transition-colors truncate",children:J.label},J.code))})]})]}),g.jsxs("div",{className:"flex flex-col gap-1 pb-2 border-b border-gray-800",children:[g.jsx("span",{className:"text-xs font-bold text-gray-500 px-2 py-1",children:"EDIT"}),g.jsxs("button",{onClick:()=>{f(),Y(!1)},disabled:!h,className:`flex items-center gap-3 px-3 py-2 rounded-md transition-colors text-left ${h?"hover:bg-gray-800 text-gray-200":"text-gray-600 cursor-not-allowed"}`,children:[g.jsx(Wv,{size:16}),g.jsx("span",{className:"text-sm",children:"Undo"}),g.jsx("span",{className:"text-xs text-gray-600 ml-auto",children:"Ctrl+Z"})]}),g.jsxs("button",{onClick:()=>{y(),Y(!1)},disabled:!m,className:`flex items-center gap-3 px-3 py-2 rounded-md transition-colors text-left ${m?"hover:bg-gray-800 text-gray-200":"text-gray-600 cursor-not-allowed"}`,children:[g.jsx(hv,{size:16}),g.jsx("span",{className:"text-sm",children:"Redo"}),g.jsx("span",{className:"text-xs text-gray-600 ml-auto",children:"Ctrl+Y"})]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("span",{className:"text-xs font-bold text-gray-500 px-2 py-1",children:"ACTIVE LAYER"}),g.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-800 rounded-md border border-gray-700 relative",children:[g.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{background:((oi=z.find(J=>J.name===C))==null?void 0:oi.color)||"#fff"}}),g.jsx("select",{value:C,onChange:J=>H(J.target.value),className:"bg-transparent text-sm text-white outline-none cursor-pointer w-full appearance-none z-10",children:z.map(J=>g.jsx("option",{value:J.name,className:"bg-gray-900",children:J.name},J.name))}),g.jsx(ch,{size:14,className:"text-gray-400 absolute right-3 pointer-events-none"})]})]})]})]}),D&&g.jsx("div",{className:"fixed inset-0 z-[55]",onClick:()=>Y(!1)}),g.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 pointer-events-none flex justify-end z-50",children:[g.jsx("div",{className:"pointer-events-auto absolute left-1/2 transform -translate-x-1/2 top-4",children:g.jsx(G2,{activeTool:Z,setTool:ee,onClearAll:Zr,onImportImage:Pr})}),g.jsx("input",{type:"file",accept:"image/*",ref:Za,onChange:Vr,className:"hidden"}),g.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[g.jsx("button",{onClick:Ka,className:"bg-gray-800/90 hover:bg-gray-700 p-2 rounded-md border border-gray-700 text-gray-300 shadow-sm backdrop-blur-sm",title:"Toggle Fullscreen",children:g.jsx(Wh,{size:20})}),g.jsx("button",{onClick:()=>Ce(!Te),className:`p-2 rounded-md border border-gray-700 shadow-sm backdrop-blur-sm transition-colors ${Te?"bg-blue-600 text-white border-blue-500":"bg-gray-800/90 text-gray-300 hover:bg-gray-700"}`,title:"Properties & Layers",children:g.jsx(jv,{size:20})})]})]}),g.jsx(W2,{selection:o,elements:n,layers:z,onUpdateElement:mt,onUpdateLayer:Q,onAddLayer:X,onRemoveLayer:ie,onArrayLinear:ci,onArrayPolar:Kr,onExplode:b,onJoin:M,onCreateBlock:N,isOpen:Te,onClose:()=>Ce(!1)}),g.jsxs("div",{className:"flex-1 relative z-0",children:[g.jsx(F2,{selection:o,elements:n,view:le,onUpdateElement:mt,onAddElement:Qr,onEnsureDimensionsLayer:F}),g.jsx($2,{view:le,visible:Na}),g.jsx(X2,{elements:n,setElements:s,tool:Z,selection:o,setSelection:u,view:le,setView:ce,onCursorMove:ii,angleSnap:je,layers:z,activeLayer:C,gridSnap:xn,blocks:r,onOpenPanel:ri},Xl)]}),g.jsx(J2,{cursor:me,zoom:le.zoom,angleSnap:je,setAngleSnap:Xn,gridSnap:xn,setGridSnap:Ma,showRulers:Na,setShowRulers:sn,onRebuild:()=>Gl(J=>J+1)}),pe&&g.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100]",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),g.jsx("div",{className:"text-white font-medium",children:"Processing Geometry..."})]})})]})},vm=document.getElementById("root");if(!vm)throw new Error("Could not find root element to mount to");const yS=Xx.createRoot(vm);yS.render(g.jsx(Oh.StrictMode,{children:g.jsx(fS,{})}));export{hS as c,Lh as g};
