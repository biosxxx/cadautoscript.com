import{g as x,a as r}from"./index-BDQ2ktFm.js";import"./three-vendor-N6udQm1s.js";class L{content=[];constructor(){this.header()}header(){this.content.push("0","SECTION","2","HEADER","0","ENDSEC"),this.content.push("0","SECTION","2","TABLES"),this.content.push("0","TABLE","2","LTYPE","70","1"),this.content.push("0","LTYPE","2","DASHED","70","0","3","Dashed __ __ __","72","65","73","2","40","0.6","49","0.3","49","-0.3"),this.content.push("0","ENDTAB"),this.content.push("0","ENDSEC"),this.content.push("0","SECTION","2","BLOCKS","0","ENDSEC"),this.content.push("0","SECTION","2","ENTITIES")}addLine(t,e,n,d,i="0"){this.content.push("0","LINE","8",i,"10",t.toFixed(4),"20",e.toFixed(4),"30","0.0","11",n.toFixed(4),"21",d.toFixed(4),"31","0.0")}addBendLine(t,e,n,d,i="BEND"){this.content.push("0","LINE","8",i,"6","DASHED","62","1","10",t.toFixed(4),"20",e.toFixed(4),"30","0.0","11",n.toFixed(4),"21",d.toFixed(4),"31","0.0")}addArc(t,e,n,d,i,o="0"){this.content.push("0","ARC","8",o,"10",t.toFixed(4),"20",e.toFixed(4),"30","0.0","40",n.toFixed(4),"50",d.toFixed(4),"51",i.toFixed(4))}addRect(t,e){const n=-t/2,d=-e/2;this.addLine(n,d,n+t,d),this.addLine(n+t,d,n+t,d+e),this.addLine(n+t,d+e,n,d+e),this.addLine(n,d+e,n,d)}addConePattern(t,e,n,d){const{startAngleDeg:i,endAngleDeg:o}=x(n,d),{outerStart:h,outerEnd:a,innerStart:c,innerEnd:E}=r(t,e,n,d);this.addArc(0,0,t,i,o),this.addArc(0,0,e,i,o),this.addLine(c.x,c.y,h.x,h.y),this.addLine(E.x,E.y,a.x,a.y)}toDxfString(){return this.content.push("0","ENDSEC","0","EOF"),this.content.join(`
`)}}const p=(s,t)=>{const e=new L;if(s.mode==="cylinder"?e.addRect(t.flatLength,t.flatWidth):t.rOut&&t.rIn&&t.angle&&e.addConePattern(t.rOut,t.rIn,t.angle,t.patternRotationDeg),t.bendLines&&t.bendLines.length>0)for(const n of t.bendLines)e.addBendLine(n.x1,n.y1,n.x2,n.y2);return e.toDxfString()};export{L as DxfWriter,p as generateUnfoldedDxf};
